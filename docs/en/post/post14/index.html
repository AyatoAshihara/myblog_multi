<!DOCTYPE html><html lang="en-us" >

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  
  
  <meta name="generator" content="Wowchemy 4.8.0 for Hugo">
  

  

  
  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Ayato Ashihara">

  
  
  
    
  
  <meta name="description" content="Just an idea.">

  
  <link rel="alternate" hreflang="ja" href="../../../post/post14/">
  
  <link rel="alternate" hreflang="en-us" href="../../../en/post/post14/">

  







  




  
  
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  

  
  
  
  <meta name="theme-color" content="#2962ff">
  

  
  
  
  <script src="../../../js/mathjax-config.js"></script>
  

  
  
  
  
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/solarized-dark.min.css" crossorigin="anonymous" title="hl-light">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/solarized-dark.min.css" crossorigin="anonymous" title="hl-dark" disabled>
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.css" integrity="sha512-1xoFisiGdy9nvho8EgXuXvnpR5GAMSjFwp40gSRE3NwdUdIMIKuPa7bqoUhLD0O/5tPNhteAsE5XyyMi5reQVA==" crossorigin="anonymous">
    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js" integrity="sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    

  

  
  
  
    
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
    
  

  
  
  
  
  <link rel="stylesheet" href="../../../css/wowchemy.css">

  





<script async src="https://www.googletagmanager.com/gtag/js?id=UA-140804055-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
      dataLayer.push(arguments);
  }

  function trackOutboundLink(url, target) {
    gtag('event', 'click', {
         'event_category': 'outbound',
         'event_label': url,
         'transport_type': 'beacon',
         'event_callback': function () {
           if (target !== '_blank') {
             document.location = url;
           }
         }
    });
    console.debug("Outbound link clicked: " + url);
  }

  function onClickCallback(event) {
    if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
      return;
    }
    trackOutboundLink(event.target, event.target.getAttribute('target'));  
  }

  gtag('js', new Date());
  gtag('config', 'UA-140804055-1', { 'anonymize_ip': true });

  
  document.addEventListener('click', onClickCallback, false);
</script>


  


  
  

  

  <link rel="manifest" href="../../../en/index.webmanifest">
  <link rel="icon" type="image/png" href="../../../images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_32x32_fill_lanczos_center_2.png">
  <link rel="apple-touch-icon" type="image/png" href="../../../images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_2.png">

  <link rel="canonical" href="../../../en/post/post14/">

  
  
  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@vdjgdkhvskcndj">
  <meta property="twitter:creator" content="@vdjgdkhvskcndj">
  
  <meta property="og:site_name" content="京都の電子部品メーカーで働く社会人が研究に没頭するブログ">
  <meta property="og:url" content="/en/post/post14/">
  <meta property="og:title" content="Fitting the 10-year long-term interest rate | 京都の電子部品メーカーで働く社会人が研究に没頭するブログ">
  <meta property="og:description" content="Just an idea."><meta property="og:image" content="/en/post/post14/featured.jpg">
  <meta property="twitter:image" content="/en/post/post14/featured.jpg"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2019-07-16T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2019-07-16T00:00:00&#43;00:00">
  

  


    






  




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/en/post/post14/"
  },
  "headline": "Fitting the 10-year long-term interest rate",
  
  "image": [
    "/en/post/post14/featured.jpg"
  ],
  
  "datePublished": "2019-07-16T00:00:00Z",
  "dateModified": "2019-07-16T00:00:00Z",
  
  "author": {
    "@type": "Person",
    "name": "Ayato Ashihara"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "京都の電子部品メーカーで働く社会人が研究に没頭するブログ",
    "logo": {
      "@type": "ImageObject",
      "url": "/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_2.png"
    }
  },
  "description": "Just an idea."
}
</script>

  

  


  
  
  
  
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.1/cookieconsent.min.js" integrity="sha256-5VhCqFam2Cn+yjw61zbBNrbHVJ6SRydPeKopYlngbiQ=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.1/cookieconsent.min.css" integrity="sha256-zQ0LblD/Af8vOppw18+2anxsuaz3pWYyVWi+bTvTH8Q=" crossorigin="anonymous">
  
  <script>
  window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#2962ff",
          "text": "rgb(255, 255, 255)"
        },
        "button": {
          "background": "rgb(255, 255, 255)",
          "text": "#2962ff"
        }
      },
      "theme": "classic",
      "content": {
        "message": "This website uses cookies to ensure you get the best experience on our website.",
        "dismiss": "Got it!",
        "link": "Learn more",
        "href": "https://www.cookiesandyou.com"
      }
    })});
  </script>



  





  <title>Fitting the 10-year long-term interest rate | 京都の電子部品メーカーで働く社会人が研究に没頭するブログ</title>

</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class=" ">

  
  
  
    <script>window.wcDarkLightEnabled = true;</script>
  
  
    <script>const isSiteThemeDark = false;</script>
  
  
  <script src="../../../js/load-theme.js"></script>

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  












<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="../../../en">京都の電子部品メーカーで働く社会人が研究に没頭するブログ</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="../../../en">京都の電子部品メーカーで働く社会人が研究に没頭するブログ</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="../../../en/#about"><span>About</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link  active" href="../../../en/post"><span>Posts</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="../../../en/publication"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="../../../en/#contact"><span>Contact</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true">
          <i class="fas fa-moon" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      
      <li class="nav-item dropdown i18n-dropdown">
        <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true">
          <i class="fas fa-globe mr-1" aria-hidden="true"></i><span class="d-none d-lg-inline">English</span></a>
        <div class="dropdown-menu">
          <div class="dropdown-item dropdown-item-active">
            <span>English</span>
          </div>
          
          <a class="dropdown-item" href="../../../post/post14/">
            <span>日本語</span>
          </a>
          
        </div>
      </li>
      

    </ul>

  </div>
</nav>



  <div class="container-fluid docs">
  <div class="row flex-xl-nowrap">

    <div class="d-none d-xl-block col-xl-2 docs-toc">
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">Contents</a></li>
      </ul>
      <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#1-data-collection">1. Data collection</a></li>
        <li><a href="#2-monthly-analysis-part">2. Monthly Analysis Part</a></li>
        <li><a href="#3-daily-analysis-part">3. Daily Analysis Part</a></li>
      </ul>
    </li>
  </ul>
</nav>
      
    </div>

    <main class="col-12 col-md-0 col-xl-10 py-md-3 pl-md-5 docs-content" role="main">
      <article class="article">

        




















  
  


<div class="article-container pt-3">
  <h1>Fitting the 10-year long-term interest rate</h1>

  

  

<div id="code-folding-buttons" class="dropdown btn-group pull-right">
  <a class="btn btn-light btn-sm dropdown-toggle" href="#" role="button" id="allCodeToggleButton"
     data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Code
  </a>
  <div class="dropdown-menu" aria-labelledby="allCodeToggleButton">
    <a id="rmd-show-all-code" class="dropdown-item small" href="#">Show all</a>
    <a id="rmd-hide-all-code" class="dropdown-item small" href="#">Hide all</a>
  </div>
</div>



  


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    Jul 16, 2019
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    9 min read
  </span>
  

  
  
  
  <span class="middot-divider"></span>
  <a href="../../../en/post/post14/#disqus_thread"></a>
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="../../../en/category/macroeconomics/">macroeconomics</a></span>
  

</div>

  














</div>


<div class="article-header container featured-image-wrapper mt-4 mb-4" style="max-width: 1200px; max-height: 837px;">
  <div style="position: relative">
    <img src="../../../en/post/post14/featured.jpg" alt="" class="featured-image">
    
  </div>
</div>



        <div class="article-container">

          <div class="article-style">
            <p>Hi. I wanted to do a fitting of the 10 year long term interest rate for a certain reason. So, we will use US data to analyze the results. First, let&rsquo;s collect the data. We will use the <code>quantmod</code> package to drop the data from FRED. The command <code>getsymbols(key,from=start date,src=&quot;FRED&quot;, auto.assign=TRUE)</code> is easy to use. You can find the key on the FRED website.</p>
<h2 id="1-data-collection">1. Data collection</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">library</span>(quantmod)

<span style="color:#75715e"># data name collected</span>
symbols.name <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;10-Year Treasury Constant Maturity Rate&#34;</span>,<span style="color:#e6db74">&#34;Effective Federal Funds Rate&#34;</span>,<span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">Consumer Price Index for All Urban Consumers: All Items&#34;</span>,<span style="color:#e6db74">&#34;Civilian Unemployment Rate&#34;</span>,<span style="color:#e6db74">&#34;3-Month Treasury Bill: Secondary Market Rate&#34;</span>,<span style="color:#e6db74">&#34;Industrial Production Index&#34;</span>,<span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">10-Year Breakeven Inflation Rate&#34;</span>,<span style="color:#e6db74">&#34;Trade Weighted U.S. Dollar Index: Broad, Goods&#34;</span>,<span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">Smoothed U.S. Recession Probabilities&#34;</span>,<span style="color:#e6db74">&#34;Moody&#39;s Seasoned Baa Corporate Bond Yield&#34;</span>,<span style="color:#e6db74">&#34;5-Year, 5-Year Forward Inflation Expectation Rate&#34;</span>,<span style="color:#e6db74">&#34;Personal Consumption Expenditures&#34;</span>)

<span style="color:#75715e"># Collect economic data</span>
symbols <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;GS10&#34;</span>,<span style="color:#e6db74">&#34;FEDFUNDS&#34;</span>,<span style="color:#e6db74">&#34;CPIAUCSL&#34;</span>,<span style="color:#e6db74">&#34;UNRATE&#34;</span>,<span style="color:#e6db74">&#34;TB3MS&#34;</span>,<span style="color:#e6db74">&#34;INDPRO&#34;</span>,<span style="color:#e6db74">&#34;T10YIEM&#34;</span>,<span style="color:#e6db74">&#34;TWEXBMTH&#34;</span>,<span style="color:#e6db74">&#34;RECPROUSM156N&#34;</span>,<span style="color:#e6db74">&#34;BAA&#34;</span>,<span style="color:#e6db74">&#34;T5YIFRM&#34;</span>,<span style="color:#e6db74">&#34;PCE&#34;</span>)
<span style="color:#a6e22e">getSymbols</span>(symbols, from <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;1980-01-01&#39;</span>, src <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;FRED&#34;</span>, auto.assign <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)
</code></pre></div><pre><code>##  [1] &quot;GS10&quot;          &quot;FEDFUNDS&quot;      &quot;CPIAUCSL&quot;      &quot;UNRATE&quot;       
##  [5] &quot;TB3MS&quot;         &quot;INDPRO&quot;        &quot;T10YIEM&quot;       &quot;TWEXBMTH&quot;     
##  [9] &quot;RECPROUSM156N&quot; &quot;BAA&quot;           &quot;T5YIFRM&quot;       &quot;PCE&quot;
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">macro_indicator <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">merge</span>(GS10,FEDFUNDS,CPIAUCSL,UNRATE,TB3MS,INDPRO,T10YIEM,TWEXBMTH,RECPROUSM156N,BAA,T5YIFRM,PCE)
<span style="color:#a6e22e">rm</span>(GS10,FEDFUNDS,CPIAUCSL,UNRATE,TB3MS,INDPRO,T10YIEM,TWEXBMTH,RECPROUSM156N,BAA,T5YIFRM,PCE,USEPUINDXD)
</code></pre></div><h2 id="2-monthly-analysis-part">2. Monthly Analysis Part</h2>
<p>The data are <a href="htmlwidget/macro_indicator.html">here</a>. We will create a dataset for the estimation. The dependent variable is the <code>10-Year Treasury Constant Maturity Rate(GS10)</code>. The explanatory variables are as follows</p>
<table>
<thead>
<tr>
<th>explanatory variable</th>
<th>key</th>
<th>proxy variable</th>
</tr>
</thead>
<tbody>
<tr>
<td>Federal Funds Rate</td>
<td>FEDFUNDS</td>
<td>Short term rate</td>
</tr>
<tr>
<td>Consumer Price Index</td>
<td>CPIAUCSL</td>
<td>Price</td>
</tr>
<tr>
<td>Unemployment Rate</td>
<td>UNRATE</td>
<td>Employment</td>
</tr>
<tr>
<td>3-Month Treasury Bill</td>
<td>TB3MS</td>
<td>Short term rate</td>
</tr>
<tr>
<td>Industrial Production Index</td>
<td>INDPRO</td>
<td>Business conditions</td>
</tr>
<tr>
<td>Breakeven Inflation Rate</td>
<td>T10YIEM</td>
<td>Price</td>
</tr>
<tr>
<td>Trade Weighted Dollar Index</td>
<td>TWEXBMTH</td>
<td>Exchange rates</td>
</tr>
<tr>
<td>Recession Probabilities</td>
<td>RECPROUSM156N</td>
<td>Business condition</td>
</tr>
<tr>
<td>Moody&rsquo;s Seasoned Baa Corporate Bond Yield</td>
<td>BAA</td>
<td>Risk premium</td>
</tr>
<tr>
<td>Inflation Expectation Rate</td>
<td>T5YIFRM</td>
<td>Price</td>
</tr>
<tr>
<td>Personal Consumption Expenditures</td>
<td>PCE</td>
<td>Business condition</td>
</tr>
<tr>
<td>Economic Policy Uncertainty Index</td>
<td>USEPUINDXD</td>
<td>Politics</td>
</tr>
</tbody>
</table>
<p>It&rsquo;s a pretty appropriate choice of variables, but in many cases, we haven&rsquo;t done it properly in terms of how to model long-term interest rates from a macro modeling perspective&hellip; In DSGE, we formulate the path of short-term interest rates linked to the path of short-term interest rates up to 10 years into the future according to the efficient market hypothesis and long-term interest rates equal to the path of short-term interest rates when I was a graduate student It was modeling (which seems to be done properly in macro finance circles). That&rsquo;s why I&rsquo;ve added short-term interest rates as an explanatory variable. And I also added three indicators for prices that would have an impact on the short-term interest rate. In addition, I added data on the economy because it is well known that it is highly correlated with the economy. This is due to the fact that in the first place, it is common in macro models to model short-term interest rates as following the Taylor rule.</p>
<p>$$
r_t = \rho r_{t-1} + \alpha \pi_{t} + \beta y_{t}
$$</p>
<p>where <code>\(r_t\)</code> is the policy interest rate (short-term interest rate), <code>\(\pi_t\)</code> is the inflation rate, and <code>\(y_t\)</code> is the output. The $R_rho, \\alpha, and <code>\(y_t\)</code> are called deep parameters, which represent inertia, the sensitivity of the interest rate to inflation, and the sensitivity of the interest rate to output, respectively. It is well known as the &ldquo;Taylor&rsquo;s Principle&rdquo; that when $\rho=0, <code>\(\beta=0\)</code>, a reasonably expected equilibrium solution can only be obtained when <code>\(\alpha&gt;=1\)</code>. Other explanatory variables include <code>Moody's Seasoned Baa Corporate Bond Yield</code>, which may also have an arbitrage relationship with corporate bonds. Also, we would like to add the <code>VIX</code> index and an index related to finances if we wanted to. The fiscal index is either Quatery or Annualy and cannot be used for monthly estimation. This is the most difficult part. I will re-estimate if I come up with something.</p>
<p>Now, let&rsquo;s get into the estimation. Since there are many explanatory variables in this case, we want to do a <code>lasso</code> regression to narrow down the valid variables. We will also do an <code>OLS</code> for comparison. The explanatory variables will be the values of the dependent variable one period ago. Probably, even one period ago, depending on when the data are published, it may not be in time for the next month&rsquo;s estimates, but I&rsquo;ll do this anyway.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># make dataset</span>
traindata <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">na.omit</span>(<span style="color:#a6e22e">merge</span>(macro_indicator[<span style="color:#e6db74">&#34;2003-01-01::2015-12-31&#34;</span>][,<span style="color:#ae81ff">1</span>],stats<span style="color:#f92672">::</span><span style="color:#a6e22e">lag</span>(macro_indicator[<span style="color:#e6db74">&#34;2003-01-01::2015-12-31&#34;</span>][,<span style="color:#ae81ff">-1</span>],<span style="color:#ae81ff">1</span>)))
testdata  <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">na.omit</span>(<span style="color:#a6e22e">merge</span>(macro_indicator[<span style="color:#e6db74">&#34;2016-01-01::&#34;</span>][,<span style="color:#ae81ff">1</span>],stats<span style="color:#f92672">::</span><span style="color:#a6e22e">lag</span>(macro_indicator[<span style="color:#e6db74">&#34;2016-01-01::&#34;</span>][,<span style="color:#ae81ff">-1</span>],<span style="color:#ae81ff">1</span>)))

<span style="color:#75715e"># fitting OLS</span>
trial1 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">lm</span>(GS10<span style="color:#f92672">~</span>.,data <span style="color:#f92672">=</span> traindata)
<span style="color:#a6e22e">summary</span>(trial1)
</code></pre></div><pre><code>## 
## Call:
## lm(formula = GS10 ~ ., data = traindata)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -0.7593 -0.2182  0.0041  0.2143  0.7051 
## 
## Coefficients:
##                 Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   15.0576773  4.3419245   3.468 0.000693 ***
## FEDFUNDS      -0.2075752  0.1413832  -1.468 0.144253    
## CPIAUCSL      -0.0750111  0.0204871  -3.661 0.000352 ***
## UNRATE        -0.2183796  0.0784608  -2.783 0.006109 ** 
## TB3MS          0.3031085  0.1393904   2.175 0.031310 *  
## INDPRO        -0.0705997  0.0263855  -2.676 0.008328 ** 
## T10YIEM        1.1476564  0.1758964   6.525 1.10e-09 ***
## TWEXBMTH      -0.0313911  0.0117338  -2.675 0.008338 ** 
## RECPROUSM156N -0.0103854  0.0021233  -4.891 2.66e-06 ***
## BAA            0.7802368  0.0858538   9.088 7.60e-16 ***
## T5YIFRM       -0.4529529  0.1881510  -2.407 0.017342 *  
## PCE            0.0009815  0.0002477   3.963 0.000116 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.2953 on 143 degrees of freedom
## Multiple R-squared:  0.9218,	Adjusted R-squared:  0.9158 
## F-statistic: 153.2 on 11 and 143 DF,  p-value: &lt; 2.2e-16
</code></pre><p>It&rsquo;s a higher degree of freedom-adjusted coefficient of determination; we use the model through 12/31/2015 to predict the out-sample data (01/01/2016~) and calculate the mean squared error.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">est.OLS.Y <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">predict</span>(trial1,testdata[,<span style="color:#ae81ff">-1</span>])
Y <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as.matrix</span>(testdata[,<span style="color:#ae81ff">1</span>])
mse.OLS <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">sum</span>((Y <span style="color:#f92672">-</span> est.OLS.Y)^2) <span style="color:#f92672">/</span> <span style="color:#a6e22e">length</span>(Y)
mse.OLS
</code></pre></div><pre><code>## [1] 0.2422673
</code></pre><p>The next step is the <code>lasso</code> regression, using the <code>cv.glmnet</code> function of the <code>glmnet</code> package to perform Cross Validation and determine <code>\(\lambda\)</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># fitting lasso regression</span>
<span style="color:#a6e22e">library</span>(glmnet)
trial2 <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">cv.glmnet</span>(<span style="color:#a6e22e">as.matrix</span>(traindata[,<span style="color:#ae81ff">-1</span>]),<span style="color:#a6e22e">as.matrix</span>(traindata[,<span style="color:#ae81ff">1</span>]),family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;gaussian&#34;</span>,alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
<span style="color:#a6e22e">plot</span>(trial2)
</code></pre></div><p><img src="../../../en/post/post14/index_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">trial2<span style="color:#f92672">$</span>lambda.min
</code></pre></div><pre><code>## [1] 0.001106745
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">coef</span>(trial2,s<span style="color:#f92672">=</span>trial2<span style="color:#f92672">$</span>lambda.min)
</code></pre></div><pre><code>## 12 x 1 sparse Matrix of class &quot;dgCMatrix&quot;
##                         s1
## (Intercept)    9.560938684
## FEDFUNDS      -0.007306457
## CPIAUCSL      -0.045386980
## UNRATE        -0.174775320
## TB3MS          0.126669996
## INDPRO        -0.059539752
## T10YIEM        1.188103243
## TWEXBMTH      -0.015425929
## RECPROUSM156N -0.009488571
## BAA            0.743677181
## T5YIFRM       -0.459542956
## PCE            0.000602374
</code></pre><p><code>Unemployment Rate</code>, <code>3-Month Treasury Bill</code>, <code>Breakeven Inflation Rate</code>, <code>Moody's Seasoned Baa Corporate Bond Yield</code> and <code>Inflation Expectation Rate</code>. That&rsquo;s the result of a larger regression coefficient. Other than the unemployment rate, the results are within expectations. However, the correlation with the economy seems to be low as far as this result is concerned (does it only work in the opposite direction?). Calculate the MSE.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">est.lasso.Y <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">predict</span>(trial2, newx <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.matrix</span>(testdata[,<span style="color:#ae81ff">-1</span>]), s <span style="color:#f92672">=</span> trial2<span style="color:#f92672">$</span>lambda.min, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;response&#39;</span>)
mse.lasso <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">sum</span>((Y <span style="color:#f92672">-</span> est.lasso.Y)^2) <span style="color:#f92672">/</span> <span style="color:#a6e22e">length</span>(Y)
mse.lasso
</code></pre></div><pre><code>## [1] 0.1842137
</code></pre><p>The <code>lasso</code> regression gives better results. Let&rsquo;s plot the predicted and actual values from the <code>lasso</code> regression as a time series.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">library</span>(tidyverse)

<span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">gather</span>(<span style="color:#a6e22e">data.frame</span>(actual<span style="color:#f92672">=</span>Y[,<span style="color:#ae81ff">1</span>],lasso_prediction<span style="color:#f92672">=</span>est.lasso.Y[,<span style="color:#ae81ff">1</span>],OLS_prediction<span style="color:#f92672">=</span>est.OLS.Y,date<span style="color:#f92672">=</span><span style="color:#a6e22e">as.POSIXct</span>(<span style="color:#a6e22e">rownames</span>(Y))),key<span style="color:#f92672">=</span>data,value<span style="color:#f92672">=</span>rate,<span style="color:#f92672">-</span>date),<span style="color:#a6e22e">aes</span>(x<span style="color:#f92672">=</span>date,y<span style="color:#f92672">=</span>rate, colour<span style="color:#f92672">=</span>data)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_line</span>(size<span style="color:#f92672">=</span><span style="color:#ae81ff">1.5</span>) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">scale_x_datetime</span>(breaks <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;6 month&#34;</span>,date_labels <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;%Y-%m&#34;</span>) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">scale_y_continuous</span>(breaks<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1.5</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">2.5</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">3.5</span>),limits <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1.25</span>,<span style="color:#ae81ff">3.5</span>))
</code></pre></div><p><img src="../../../en/post/post14/index_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>The sense of direction is good. On the other hand, I am not predicting a sharp decline in interest rates from January 2016 or after December 2018. It looks like we&rsquo;ll have to try to do one of the following to improve the accuracy of this part of the projections: consider some variables OR run a rolling estimate.</p>
<h2 id="3-daily-analysis-part">3. Daily Analysis Part</h2>
<p>In addition to monthly analysis, I would like to do daily analysis. In the case of daily data, the <code>jagged edge</code> problem is unlikely to occur because the data is often released after the market closes. We will start by collecting daily data.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># data name collected</span>
symbols.name <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;10-Year Treasury Constant Maturity Rate&#34;</span>,<span style="color:#e6db74">&#34;Effective Federal Funds Rate&#34;</span>, <span style="color:#e6db74">&#34;based on U.S. Dollar&#34;</span>,<span style="color:#e6db74">&#34;NASDAQ Composite Index&#34;</span>,<span style="color:#e6db74">&#34;3-Month Treasury Bill: Secondary Market Rate&#34;</span>,<span style="color:#e6db74">&#34;Economic Policy Uncertainty Index for United States&#34;</span>,<span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">10-Year Breakeven Inflation Rate&#34;</span>,<span style="color:#e6db74">&#34;Trade Weighted U.S. Dollar Index: Broad, Goods&#34;</span>,<span style="color:#e6db74">&#34;Moody&#39;s Seasoned Baa Corporate Bond Yield&#34;</span>,<span style="color:#e6db74">&#34;5-Year, 5-Year Forward Inflation Expectation Rate&#34;</span>)

<span style="color:#75715e"># Collect economic data</span>
symbols <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;DGS10&#34;</span>,<span style="color:#e6db74">&#34;DFF&#34;</span>,<span style="color:#e6db74">&#34;NASDAQCOM&#34;</span>,<span style="color:#e6db74">&#34;DTB3&#34;</span>,<span style="color:#e6db74">&#34;USEPUINDXD&#34;</span>,<span style="color:#e6db74">&#34;T10YIE&#34;</span>,<span style="color:#e6db74">&#34;DTWEXB&#34;</span>,<span style="color:#e6db74">&#34;DBAA&#34;</span>,<span style="color:#e6db74">&#34;T5YIFR&#34;</span>)
<span style="color:#a6e22e">getSymbols</span>(symbols, from <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;1980-01-01&#39;</span>, src <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;FRED&#34;</span>, auto.assign <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)
</code></pre></div><pre><code>## [1] &quot;DGS10&quot;      &quot;DFF&quot;        &quot;NASDAQCOM&quot;  &quot;DTB3&quot;       &quot;USEPUINDXD&quot;
## [6] &quot;T10YIE&quot;     &quot;DTWEXB&quot;     &quot;DBAA&quot;       &quot;T5YIFR&quot;
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">NASDAQCOM.r <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ROC</span>(<span style="color:#a6e22e">na.omit</span>(NASDAQCOM))
macro_indicator.d <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">merge</span>(DGS10,DFF,NASDAQCOM.r,DTB3,USEPUINDXD,T10YIE,DTWEXB,DBAA,T5YIFR)
<span style="color:#a6e22e">rm</span>(DGS10,DFF,NASDAQCOM,NASDAQCOM.r,DTB3,USEPUINDXD,T10YIE,DTWEXB,DBAA,T5YIFR)
</code></pre></div><p>The next step is to build the data set. We separate the data for training and for training. Considering the actual prediction process, we use data from two business days ago as the explanatory variables.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># make dataset</span>
traindata.d <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">na.omit</span>(<span style="color:#a6e22e">merge</span>(macro_indicator.d[<span style="color:#e6db74">&#34;1980-01-01::2010-12-31&#34;</span>][,<span style="color:#ae81ff">1</span>],stats<span style="color:#f92672">::</span><span style="color:#a6e22e">lag</span>(macro_indicator.d[<span style="color:#e6db74">&#34;1980-01-01::2010-12-31&#34;</span>][,<span style="color:#ae81ff">-1</span>],<span style="color:#ae81ff">2</span>)))
testdata.d  <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">na.omit</span>(<span style="color:#a6e22e">merge</span>(macro_indicator.d[<span style="color:#e6db74">&#34;2010-01-01::&#34;</span>][,<span style="color:#ae81ff">1</span>],stats<span style="color:#f92672">::</span><span style="color:#a6e22e">lag</span>(macro_indicator.d[<span style="color:#e6db74">&#34;2010-01-01::&#34;</span>][,<span style="color:#ae81ff">-1</span>],<span style="color:#ae81ff">2</span>)))

<span style="color:#75715e"># fitting OLS</span>
trial1.d <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">lm</span>(DGS10<span style="color:#f92672">~</span>.,data <span style="color:#f92672">=</span> traindata.d)
<span style="color:#a6e22e">summary</span>(trial1.d)
</code></pre></div><pre><code>## 
## Call:
## lm(formula = DGS10 ~ ., data = traindata.d)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.81961 -0.12380  0.00509  0.14514  0.72712 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) -3.5168438  0.1664198 -21.132  &lt; 2e-16 ***
## DFF          0.0770736  0.0217208   3.548 0.000403 ***
## NASDAQCOM   -0.4301865  0.4280568  -1.005 0.315121    
## DTB3         0.1137128  0.0238678   4.764 2.14e-06 ***
## USEPUINDXD  -0.0006591  0.0001073  -6.144 1.11e-09 ***
## T10YIE       0.6957403  0.0351666  19.784  &lt; 2e-16 ***
## DTWEXB       0.0276208  0.0010896  25.350  &lt; 2e-16 ***
## DBAA         0.2879946  0.0131335  21.928  &lt; 2e-16 ***
## T5YIFR       0.3433321  0.0376058   9.130  &lt; 2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.2167 on 1148 degrees of freedom
## Multiple R-squared:  0.8902,	Adjusted R-squared:  0.8894 
## F-statistic:  1163 on 8 and 1148 DF,  p-value: &lt; 2.2e-16
</code></pre><p>The coefficient of determination remains high.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">est.OLS.Y.d <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">predict</span>(trial1.d,testdata.d[,<span style="color:#ae81ff">-1</span>])
Y.d <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">as.matrix</span>(testdata.d[,<span style="color:#ae81ff">1</span>])
mse.OLS.d <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">sum</span>((Y.d <span style="color:#f92672">-</span> est.OLS.Y.d)^2) <span style="color:#f92672">/</span> <span style="color:#a6e22e">length</span>(Y.d)
mse.OLS.d
</code></pre></div><pre><code>## [1] 0.8350614
</code></pre><p>Next is the <code>lasso</code> regression. Determine <code>\(lambda\)</code> in <code>CV</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># fitting lasso regression</span>
trial2.d <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">cv.glmnet</span>(<span style="color:#a6e22e">as.matrix</span>(traindata.d[,<span style="color:#ae81ff">-1</span>]),<span style="color:#a6e22e">as.matrix</span>(traindata.d[,<span style="color:#ae81ff">1</span>]),family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;gaussian&#34;</span>,alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
<span style="color:#a6e22e">plot</span>(trial2.d)
</code></pre></div><p><img src="../../../en/post/post14/index_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">trial2.d<span style="color:#f92672">$</span>lambda.min
</code></pre></div><pre><code>## [1] 0.001339007
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">coef</span>(trial2.d,s<span style="color:#f92672">=</span>trial2.d<span style="color:#f92672">$</span>lambda.min)
</code></pre></div><pre><code>## 9 x 1 sparse Matrix of class &quot;dgCMatrix&quot;
##                        s1
## (Intercept) -3.4297225594
## DFF          0.0707532975
## NASDAQCOM   -0.3512778327
## DTB3         0.1204390843
## USEPUINDXD  -0.0006453775
## T10YIE       0.6894098221
## DTWEXB       0.0272773903
## DBAA         0.2831306290
## T5YIFR       0.3411269206
</code></pre><p>The coefficient of <code>libor</code> became zero, and the MSE of <code>OLS</code> was higher than that of <code>libor</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">est.lasso.Y.d <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">predict</span>(trial2.d, newx <span style="color:#f92672">=</span> <span style="color:#a6e22e">as.matrix</span>(testdata.d[,<span style="color:#ae81ff">-1</span>]), s <span style="color:#f92672">=</span> trial2.d<span style="color:#f92672">$</span>lambda.min, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;response&#39;</span>)
mse.lasso.d <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">sum</span>((Y.d <span style="color:#f92672">-</span> est.lasso.Y.d)^2) <span style="color:#f92672">/</span> <span style="color:#a6e22e">length</span>(Y.d)
mse.lasso.d
</code></pre></div><pre><code>## [1] 0.8492769
</code></pre><p>Plot the predictions.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">ggplot</span>(<span style="color:#a6e22e">gather</span>(<span style="color:#a6e22e">data.frame</span>(actual<span style="color:#f92672">=</span>Y.d[,<span style="color:#ae81ff">1</span>],lasso_prediction<span style="color:#f92672">=</span>est.lasso.Y.d[,<span style="color:#ae81ff">1</span>],OLS_prediction<span style="color:#f92672">=</span>est.OLS.Y.d,date<span style="color:#f92672">=</span><span style="color:#a6e22e">as.POSIXct</span>(<span style="color:#a6e22e">rownames</span>(Y.d))),key<span style="color:#f92672">=</span>data,value<span style="color:#f92672">=</span>rate,<span style="color:#f92672">-</span>date),<span style="color:#a6e22e">aes</span>(x<span style="color:#f92672">=</span>date,y<span style="color:#f92672">=</span>rate, colour<span style="color:#f92672">=</span>data)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">geom_line</span>(size<span style="color:#f92672">=</span><span style="color:#ae81ff">1.5</span>) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">scale_x_datetime</span>(breaks <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;2 year&#34;</span>,date_labels <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;%Y-%m&#34;</span>) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">scale_y_continuous</span>(breaks<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1.5</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">2.5</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">3.5</span>),limits <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1.25</span>,<span style="color:#ae81ff">5</span>))
</code></pre></div><p><img src="../../../en/post/post14/index_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>As with the monthly, there is very little difference between the predicted values for <code>OLS</code> and <code>lasso</code>. We have been able to capture the fluctuations quite nicely, but we have not been able to capture the interest rate decline caused by the <code>United States federal government credit-rating downgrades</code> in 2011 or the interest rate increase associated with the economic recovery in 2013. The only daily economic indicator I have is POS data, but I might be able to use the recently used nightlight satellite imagery data, if I had to say so. I&rsquo;ll try it if I have time. For now, I&rsquo;d like to end this article for now. Thank you for reading this article.</p>

          </div>

          






<div class="article-tags">
  
  <a class="badge badge-light" href="../../../en/tag/r/">R</a>
  
  <a class="badge badge-light" href="../../../en/tag/time-series_analysis/">time-series_analysis</a>
  
  <a class="badge badge-light" href="../../../en/tag/finance/">finance</a>
  
</div>



<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=../../../en/post/post14/&amp;text=Fitting%20the%2010-year%20long-term%20interest%20rate" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=/en/post/post14/&amp;t=Fitting%20the%2010-year%20long-term%20interest%20rate" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Fitting%20the%2010-year%20long-term%20interest%20rate&amp;body=/en/post/post14/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=../../../en/post/post14/&amp;title=Fitting%20the%2010-year%20long-term%20interest%20rate" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="whatsapp://send?text=Fitting%20the%2010-year%20long-term%20interest%20rate%20/en/post/post14/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=../../../en/post/post14/&amp;title=Fitting%20the%2010-year%20long-term%20interest%20rate" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>











  
  



  
  
  
    
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <a href="../../../"><img class="avatar mr-3 avatar-circle" src="../../../en/author/ayato-ashihara/avatar_hu77c0c0affdebd3b9cbda9c39412092b5_245163_270x270_fill_q90_lanczos_center.jpg" alt="Ayato Ashihara"></a>
    

    <div class="media-body">
      <h5 class="card-title"><a href="../../../">Ayato Ashihara</a></h5>
      <h6 class="card-subtitle">company employee</h6>
      
      
      
      
        
      
      
        <p class="card-text author-dynamic">
















  
  
  
    
  



  
  
  
  
  
  
  
    
  




  
  
    
      In his 2018; currently in year 8 of professional career. updates nightly. The content does not reflect the views of the author&#39;s organization.
    
  

</p>
      
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="../../../en/#contact" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.facebook.com/ASSIY" target="_blank" rel="noopener">
        <i class="fab fa-facebook"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/AyatoAshihara/myblog_multi" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.linkedin.com/in/%E5%BD%A9%E4%BA%BA-%E8%91%A6%E5%8E%9F-9391b7143/" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>







<section id="comments">
  
    
<div id="disqus_thread"></div>
<script>
  let disqus_config = function () {
    
    
    
  };
  (function() {
    if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
      document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
      return;
    }
    var d = document, s = d.createElement('script'); s.async = true;
    s.src = 'https://' + "ayatoashihara-github-io-myblog-multi" + '.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


  
</section>




<div class="article-widget">
  
<div class="post-nav">
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Next</div>
    <a href="../../../en/post/post16/" rel="next">Predicting Horse Racing Results Using LightGBM</a>
  </div>
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Previous</div>
    <a href="../../../en/post/post12/" rel="prev">Obtaining satellite image data with the Google Earth Engine API and do nowcasting on business conditions</a>
  </div>
  
</div>

</div>





  
  
  <div class="article-widget content-widget-hr">
    <h3>Related</h3>
    <ul>
      
      <li><a href="../../../en/post/post21/">Rcpp to speed up data handling (using Tick data processing as an example)</a></li>
      
      <li><a href="../../../en/post/post19/">Is that backtest really reproducible?</a></li>
      
      <li><a href="../../../en/post/post1/">Implementing Gaussian regression.</a></li>
      
      <li><a href="../../../en/post/post11/">Scraping past race results on yahoo horse racing on rvest (for the second time)</a></li>
      
      <li><a href="../../../en/post/post2/">I built the Asset Allocation Model in R.</a></li>
      
    </ul>
  </div>
  





        </div>
      </article>
    </main>

  </div>
</div>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.8.0/mermaid.min.js" integrity="sha512-ja+hSBi4JDtjSqc4LTBsSwuBT3tdZ3oKYKd07lTVYmCnTCor56AnRql00ssqnTOR9Ss4gOP/ROGB3SfcJnZkeg==" crossorigin="anonymous" title="mermaid"></script>
      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js" integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/latex.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/python.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/sql.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/cpp.min.js"></script>
        
      

    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.js" integrity="sha512-SeiQaaDh73yrb56sTW/RgVdi/mMqNeM2oBwubFHagc5BkixSpP1fvqF47mKzPGWYSSy4RwbBunrJBQ4Co8fRWA==" crossorigin="anonymous"></script>
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/en/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks",
        'slides' : "Slides"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    

    
    
    <script id="dsq-count-scr" src="https://ayatoashihara-github-io-myblog-multi.disqus.com/count.js" async></script>
    

    
    
    
    
    
    
    
    
    
      
    
    
      
    
    
    
    <script src="../../../js/wowchemy.min.2a3f95be2bc4762ba1847fb5d7a28317.js"></script>

    


  
  
  <div class="container">
    <footer class="site-footer">
  

  
   
  <script>
  $(document).ready(function () {
    window.initializeCodeFolding("show" === "show");
  });
  </script>
  <script src="../../../js/codefolding.js"></script>


  <p class="powered-by">
    
  </p>

  
  






  <p class="powered-by">
    
    Published with
    <a href="https://wowchemy.com" target="_blank" rel="noopener">Wowchemy</a>  —
    the free, <a href="https://github.com/wowchemy/wowchemy-hugo-modules" target="_blank" rel="noopener">
    open source</a> website builder that empowers creators.
    

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
