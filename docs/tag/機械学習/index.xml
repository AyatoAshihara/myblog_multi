<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>æ©Ÿæ¢°å­¦ç¿’ | äº¬éƒ½ã®é›»å­éƒ¨å“ãƒ¡ãƒ¼ã‚«ãƒ¼ã§åƒãç¤¾ä¼šäººãŒç ”ç©¶ã«æ²¡é ­ã™ã‚‹ãƒ–ãƒ­ã‚°</title>
    <link>/tag/%E6%A9%9F%E6%A2%B0%E5%AD%A6%E7%BF%92/</link>
      <atom:link href="/tag/%E6%A9%9F%E6%A2%B0%E5%AD%A6%E7%BF%92/index.xml" rel="self" type="application/rss+xml" />
    <description>æ©Ÿæ¢°å­¦ç¿’</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>ja</language><lastBuildDate>Thu, 24 Mar 2022 00:00:00 +0000</lastBuildDate>
    <image>
      <url>/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_2.png</url>
      <title>æ©Ÿæ¢°å­¦ç¿’</title>
      <link>/tag/%E6%A9%9F%E6%A2%B0%E5%AD%A6%E7%BF%92/</link>
    </image>
    
    <item>
      <title>ã€å¾¹åº•æ¯”è¼ƒã€‘ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ç®—å‡ºæ‰‹æ³•ï¼ï¼ - ç¬¬2å›</title>
      <link>/post/post27/</link>
      <pubDate>Thu, 24 Mar 2022 00:00:00 +0000</pubDate>
      <guid>/post/post27/</guid>
      <description>&lt;script src=&#34;../../post/post27/index_files/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;../../post/post27/index_files/lightable/lightable.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;link href=&#34;../../post/post27/index_files/bsTable/bootstrapTable.min.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;../../post/post27/index_files/bsTable/bootstrapTable.js&#34;&gt;&lt;/script&gt;
&lt;p&gt;ãŠã¯ã“ã‚“ã°ã‚“ã«ã¡ã¯ã€‚ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ç®—å‡ºä¼ç”»ã®ç¬¬2å¼¾ã§ã™ã€‚
ä»Šå›ã¯è¾æ›¸ãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ç®—å‡ºæ–¹æ³•ã‚’å®Ÿè·µã—ã¾ã™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;1-åˆ†ææ‰‹æ³•ã®èª¬æ˜&#34;&gt;1. åˆ†ææ‰‹æ³•ã®èª¬æ˜&lt;/h2&gt;
&lt;h3 id=&#34;è¾æ›¸ãƒ™ãƒ¼ã‚¹æ‰‹æ³•ã¨ã¯&#34;&gt;è¾æ›¸ãƒ™ãƒ¼ã‚¹æ‰‹æ³•ã¨ã¯&lt;/h3&gt;
&lt;p&gt;è¾æ›¸ãƒ™ãƒ¼ã‚¹æ‰‹æ³•ã¯ãã®åã®é€šã‚Šã€è¾æ›¸ã‚’ç”¨ã„ã¦ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ã‚’ç®—å‡ºã™ã‚‹æ‰‹æ³•ã§ã™ã€‚å„å˜èªãŒæŒã¤æ„Ÿæƒ…æ¥µæ€§(ã“ã“ã§ã¯ã€ãƒã‚¸ãƒ†ã‚£ãƒ–ãªæ„å‘³ã‹ãƒã‚¬ãƒ†ã‚£ãƒ–ãªæ„å‘³ã‹ã‚’è¡¨ã™)ã‚’ã‚¹ã‚³ã‚¢åŒ–ã—ãŸã‚‚ã®ã‚’ã‚ã‚‰ã‹ã˜ã‚è¾æ›¸ã¨ã—ã¦ä¿å­˜ã—ã€æ–‡æ›¸å†…ã§å‡ºç¾ã—ãŸå˜èªã¨ãã‚Œãã‚Œã®è¾æ›¸ã‚¹ã‚³ã‚¢ã‚’ç´ä»˜ã‘ã€(ä½•ã‚‰ã‹ã®æ–¹æ³•ã§)é›†è¨ˆã™ã‚‹ã“ã¨ã§ã€ãã®æ–‡æ›¸å…¨ä½“ã®ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ã‚’ç®—å‡ºã—ã¾ã™ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ã‚’å‚ç…§ã™ã‚‹è¾æ›¸&#34;&gt;ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ã‚’å‚ç…§ã™ã‚‹è¾æ›¸&lt;/h3&gt;
&lt;p&gt;ä¸Šè¨˜ã«ãŠã„ã¦ã¯ã€ã‚¹ã‚³ã‚¢ã‚’ã©ã®ã‚ˆã†ã«ç®—å‡ºã™ã‚‹ã®ã‹ãŒé‡è¦ã«ãªã‚Šã¾ã™ã€‚ç¾åœ¨å…¬é–‹ã•ã‚Œã¦ã„ã‚‹æ—¥æœ¬èªè¾æ›¸ã®ä¸­ã§æœ‰åãªæ±äº¬å·¥æ¥­å¤§å­¦ã®é«˜æ‘ç ”ç©¶å®¤ãŒä½œæˆã—ãŸè¾æ›¸(Takamura, Inui, and Okumura 2005)ã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ–¹æ³•ã§ç®—å‡ºã‚’è¡Œã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™(&lt;a href=&#34;http://lr-www.pi.titech.ac.jp/wp/?page_id=4&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;åŸå…¸ã¯ã“ã¡ã‚‰&lt;/a&gt;)ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ã¾ãšï¼Œè¾æ›¸ï¼Œã‚·ã‚½ãƒ¼ãƒ©ã‚¹ï¼ˆé¡ç¾©èªè¾å…¸ï¼‰ï¼Œã‚³ãƒ¼ãƒ‘ã‚¹ãƒ‡ãƒ¼ã‚¿ã‚’ç”¨ã„ã¦ï¼Œæ¥µæ€§ãŒåŒã˜ã«ãªã‚Šã‚„ã™ã„å˜èªãƒšã‚¢ã‚’æŠ½å‡ºã—ï¼Œãã—ã¦ãã‚Œã‚‰ã®ãƒšã‚¢ã‚’é€£çµã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šå·¨å¤§ãªèªå½™ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’æ§‹ç¯‰ã—ã¾ã™ï¼ãŸã¨ãˆã°ï¼Œã€Œè‰¯ã„ã€ã¨ã€Œè‰¯å¥½ã€ãŒé¡ç¾©èªé–¢ä¿‚ã«ã‚ã‚‹ã®ã§ï¼Œã“ã®äºŒå˜èªã‚’çµã¶ãªã©ã®ä½œæ¥­ã‚’è¡Œã„ã¾ã™ï¼ã“ã“ã§ï¼Œå˜èªã®æ„Ÿæƒ…æ¥µæ€§ã‚’é›»å­ã‚¹ãƒ”ãƒ³ã®æ–¹å‘ã¨ã¿ãªã—ï¼Œèªå½™ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ã‚¹ãƒ”ãƒ³ç³»ã¨ã¿ãªã—ã¦ï¼Œèªå½™ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®çŠ¶æ…‹ï¼ˆå„ã‚¹ãƒ”ãƒ³ãŒã©ã®æ–¹å‘ã‚’å‘ã„ã¦ã„ã‚‹ã‹ï¼‰ã‚’è¨ˆç®—ã—ã¾ã™ï¼ã“ã®è¨ˆç®—çµæœã‚’è¦‹ã‚‹ã“ã¨ã«ã‚ˆã‚Šï¼Œå˜èªã®æ„Ÿæƒ…æ¥µæ€§ãŒã‚ã‹ã‚‹ã®ã§ã™ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ã“ã¡ã‚‰ã®è¾æ›¸ã¯HPã§å…¬é–‹ã•ã‚Œã¦ãŠã‚Šã€éå–¶åˆ©ç›®çš„ã§ã‚ã‚Œã°åˆ©ç”¨ãŒå¯èƒ½ã®ã‚ˆã†ã§ã™ã€‚ã¡ã‚‡ã£ã¨è¦—ã„ã¦ã¿ã¾ã—ã‚‡ã†ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;##       å˜èª èª­ã¿ä»®å   å“è© æ„Ÿæƒ…æ¥µæ€§ã‚¹ã‚³ã‚¢
## 1   å„ªã‚Œã‚‹ ã™ãã‚Œã‚‹   å‹•è©       1.000000
## 2     è‰¯ã„     ã‚ˆã„ å½¢å®¹è©       0.999995
## 3     å–œã¶ ã‚ˆã‚ã“ã¶   å‹•è©       0.999979
## 4   è¤’ã‚ã‚‹   ã»ã‚ã‚‹   å‹•è©       0.999979
## 5 ã‚ã§ãŸã„ ã‚ã§ãŸã„ å½¢å®¹è©       0.999645
## 6     è³¢ã„ ã‹ã—ã“ã„ å½¢å®¹è©       0.999486
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ã¯1ã‹ã‚‰-1ã¾ã§ã‚’å–ã‚Šã€1ã«è¿‘ã„ã»ã©ãƒã‚¸ãƒ†ã‚£ãƒ–ã‚’è¡¨ã—ã¾ã™ã€‚æœ€ã‚‚ãƒã‚¸ãƒ†ã‚£ãƒ–ãªå˜èªã¯ã€Œå„ªã‚Œã‚‹ã€ã¨ãªã£ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¾æ›¸ãƒ™ãƒ¼ã‚¹æ‰‹æ³•ã®åˆ©ç‚¹æ¬ ç‚¹&#34;&gt;è¾æ›¸ãƒ™ãƒ¼ã‚¹æ‰‹æ³•ã®åˆ©ç‚¹ãƒ»æ¬ ç‚¹&lt;/h3&gt;
&lt;p&gt;&amp;lt;åˆ©ç‚¹&amp;gt;æ‰‹æ³•ã®ã‚ã‹ã‚Šã‚„ã™ã•/æ•™å¸«ãƒ‡ãƒ¼ã‚¿ãŒä¸è¦ğŸ‘&lt;br&gt;
è¾æ›¸ã‚’åˆ©ç”¨ã™ã‚‹è‰¯ã„ç‚¹ã¯ã€æ‰‹æ³•ã®ã‚ã‹ã‚Šã‚„ã™ã•ã¨æ•™å¸«ãƒ‡ãƒ¼ã‚¿ã‚’å¿…è¦ã¨ã—ãªã„ç‚¹ã§ã™ã€‚ç‰¹ã«å¾Œè€…ã¯è¾æ›¸ãƒ™ãƒ¼ã‚¹ãªã‚‰ã§ã¯ã®é•·æ‰€ã§ã™ã€‚é€šå¸¸ã€æ–‡æ›¸åˆ†é¡å™¨ã‚’ä½œæˆã™ã‚‹ãŸã‚ã«ã¯ã€ãã®æ–‡æ›¸ãŒãƒã‚¸ãƒ†ã‚£ãƒ–ãƒ»ãƒã‚¬ãƒ†ã‚£ãƒ–ã®ã©ã¡ã‚‰ã§ã‚ã‚‹ã‹ã¨ã„ã†æ­£è§£ãƒ©ãƒ™ãƒ«ã®ä»˜ã„ãŸæ•™å¸«ãƒ‡ãƒ¼ã‚¿ãŒå¿…è¦ã§ã™ã€‚å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã¯æ–‡è„ˆã«ã‚‚ã‚ˆã‚‹ã¨æ€ã„ã¾ã™ãŒã€å°‘ãªãã¨ã‚‚100ä»¶ã¯å¿…è¦ã§ã—ã‚‡ã†ã€‚ã“ã‚Œã¯åˆ†æè€…ãŒå°‘ãªãã¨ã‚‚100ä»¶ä»¥ä¸Šã®æ–‡æ›¸ã‚’èª­ã‚“ã§ã€æ‰‹ä½œæ¥­ã§ãƒ©ãƒ™ãƒ«ã‚’ä»˜ä¸ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;&amp;lt;æ¬ ç‚¹&amp;gt;è¾æ›¸ã®æ€§èƒ½ã«çµæœãŒå¤§ããä¾å­˜ã™ã‚‹ğŸ‘&lt;br&gt;
çŸ­æ‰€ã¨ã—ã¦ã¯ã€ç‰¹æ®Šãªæ–‡è„ˆã«ãŠã‘ã‚‹ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ã‚’å‚é›†ã™ã‚‹å ´åˆã¯å°‚ç”¨ã®è¾æ›¸ãŒå¿…è¦ã«ãªã‚‹ã¨ã„ã†ç‚¹ã§ã™ã€‚è¾æ›¸ãƒ™ãƒ¼ã‚¹ã®åˆ†é¡æ³•ã®å ´åˆã€è¾æ›¸ã«å«ã¾ã‚Œãªã„å˜èªã¯ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ã¸å½±éŸ¿ã‚’å…¨ãä¸ãˆã¾ã›ã‚“ã€‚ã¾ãŸã€ä¸€èˆ¬ã«å…¬é–‹ã•ã‚Œã¦ã„ã‚‹è¾æ›¸ã¯wikipediaç­‰ã®ã‚ªãƒ¼ãƒ«ã‚¸ãƒ£ãƒ³ãƒ«ã®æ–‡æ›¸ã‚’å­¦ç¿’ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦é–‹ç™ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå¤šã„ãŸã‚ã€æ„Ÿæƒ…æ¥µæ€§ãŒæ–‡è„ˆã«å¯¾ã—ã¦ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ã«ãªã£ã¦ã„ã¾ã™ã€‚ã‚ˆã£ã¦ã€ä¾‹ãˆã°é‡‘èç­‰ã®æ–‡è„ˆã«ãŠã‘ã‚‹ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ã‚’ç®—å‡ºã™ã‚‹å ´åˆã€å°‚é–€ç”¨èªã®æ„Ÿæ€§æ¥µæ€§ãŒ0ã¨ãªã£ãŸã‚Šã€æ–‡è„ˆã‚’è€ƒæ…®ã—ãŸæ„Ÿæ€§æ¥µæ€§ãŒå¾—ã‚‰ã‚Œãªã„ã“ã¨ã‹ã‚‰ã€ç›´æ„Ÿã¨ç•°ãªã‚‹çµæœãŒå‡ºã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-è¾æ›¸ãƒ™ãƒ¼ã‚¹æ‰‹æ³•ã®å®Ÿè·µ&#34;&gt;2. è¾æ›¸ãƒ™ãƒ¼ã‚¹æ‰‹æ³•ã®å®Ÿè·µ&lt;/h2&gt;
&lt;h3 id=&#34;ä½¿ç”¨ãƒ‡ãƒ¼ã‚¿&#34;&gt;ä½¿ç”¨ãƒ‡ãƒ¼ã‚¿&lt;/h3&gt;
&lt;p&gt;ã§ã¯ã€å®Ÿéš›ã«è¾æ›¸ãƒ™ãƒ¼ã‚¹æ‰‹æ³•ã‚’ç”¨ã„ã¦ã€æ™¯æ°—ã‚¦ã‚©ãƒƒãƒãƒ£ãƒ¼èª¿æŸ»ã®æ–‡ç« ã‹ã‚‰ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ã®æŠ½å‡ºã‚’è©¦ã¿ã¾ã™ã€‚æ™¯æ°—ã‚¦ã‚ªãƒƒãƒãƒ£ãƒ¼èª¿æŸ»ã§ã¯ã€ã‚¿ã‚¯ã‚·ãƒ¼é‹è»¢æ‰‹ã‚„å°å£²åº—ã®åº—ä¸»ã€æ—…é¤¨ã®çµŒå–¶è€…ãªã©æ™¯æ°—ã«æ•æ„Ÿãªæ–¹ã€…(æ™¯æ°—ã‚¦ã‚ªãƒƒãƒãƒ£ãƒ¼)ã«å¯¾ã—ã¦ã€5æ®µéšã®æ™¯æ³æ„Ÿã¨ãã®ç†ç”±ã‚’æ¯æœˆã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚5æ®µéšã¯ã€ã€Œè‰¯ã„(â—)ã€ã€ã€Œã‚„ã‚„è‰¯ã„(â—‹)ã€ã€ã€Œå¤‰ã‚ã‚‰ãªã„(â– )ã€ã€ã€Œã‚„ã‚„æ‚ªã„(â–²)ã€ã€ã€Œæ‚ªã„(Ã—)ã€ã¨ãªã£ã¦ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;ãƒ‡ãƒ¼ã‚¿ã‚’è¦—ã„ã¦ã¿ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;table class=&#34;table table-striped&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
åŸºæº–å¹´
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
åŸºæº–æ—¥
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
æ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
æ¥­ç¨®ãƒ»è·ç¨®
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
åˆ¤æ–­ã®ç†ç”±
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
è¿½åŠ èª¬æ˜åŠã³å…·ä½“çš„çŠ¶æ³ã®èª¬æ˜
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2016
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
1æœˆ31æ—¥
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
â—
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
æ—…è¡Œä»£ç†åº—ï¼ˆå¾“æ¥­å“¡ï¼‰
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
è²©å£²é‡ã®å‹•ã
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
ãƒ»åº—é ­ã®å–æ‰±é¡ãŒå‰å¹´æ¯”ç´„120ï¼…ã¨å¥½èª¿ã§ã‚ã£ãŸã€‚
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2016
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
1æœˆ31æ—¥
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
â—
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
è¦³å…‰åæ‰€ï¼ˆå¾“æ¥­å“¡ï¼‰
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
æ¥å®¢æ•°ã®å‹•ã
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
ãƒ»å½“æ–½è¨­ã®åˆ©ç”¨ä¹—é™å®¢æ•°ã¯ï¼‘æœˆ26æ—¥æ™‚ç‚¹ã§å‰å¹´æ¯”130.1ï¼…ã¨ãªã£ã¦ãŠã‚Šã€ï¼‘æœˆã¨ã—ã¦ã¯éå»æœ€é«˜ã®åˆ©ç”¨ä¹—é™å®¢æ•°ã«ãªã‚‹ã“ã¨ãŒç¢ºå®šã—ãŸã»ã©ã®å…¥è¾¼çŠ¶æ³ã«ã‚ã‚‹ã€‚
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2016
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
1æœˆ31æ—¥
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
â—‹
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
ä¸€èˆ¬å°å£²åº—ï¼»é…’ï¼½ï¼ˆçµŒå–¶è€…ï¼‰
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
å˜ä¾¡ã®å‹•ã
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
ãƒ»å¹´æœ«ã®æ¶ˆè²»ã®åå‹•ã‚‚ã‚ã£ã¦ã‹ã€å®¢ã®å‹•ããŒã‚„ã‚„éˆã„ã€‚ãŸã ã€ç›¸å¤‰ã‚ã‚‰ãšé«˜é¡å•†æãŒå£²ã‚Œã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šã€å£²ä¸Šã¯ãã‚Œãªã‚Šã®é‡‘é¡ã‚’ã‚­ãƒ¼ãƒ—ã—ã¦ã„ã‚‹ã€‚
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2016
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
1æœˆ31æ—¥
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
â—‹
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
ç™¾è²¨åº—ï¼ˆå£²å ´ä¸»ä»»ï¼‰
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
ãŠå®¢æ§˜ã®æ§˜å­
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
ãƒ»å¤–å›½äººè¦³å…‰å®¢ã«ã‚ˆã‚‹å£²ä¸ŠãŒå‰å¹´æ¯”152ï¼…ã¨å¥½èª¿ã‚’ç¶™ç¶šã—ã¦ã„ã‚‹ã»ã‹ã€æ¥å®¢æ•°ãŒå‰å¹´æ¯”102ï¼…ã¨å¥½èª¿ã‚’ç¶­æŒã—ã¦ã„ã‚‹ã€‚æœˆåŠã°ã«åœæ»ã—ãŸå£²ä¸Šã‚‚ä¸‹æ—¬ã«å…¥ã£ã¦ã‹ã‚‰å›å¾©å‚¾å‘ã«ã‚ã‚Šã€å®šä¾¡å“ã€ãƒãƒ¼ã‚²ãƒ³å“ã¨ã‚‚å‰å¹´ã‚’ä¸Šå›ã£ã¦ã„ã‚‹ã€‚
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2016
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
1æœˆ31æ—¥
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
â—‹
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
ç™¾è²¨åº—ï¼ˆæ‹…å½“è€…ï¼‰
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
æ¥å®¢æ•°ã®å‹•ã
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
ãƒ»ç©æ¥µçš„ã«æ™¯æ°—ãŒä¸Šå‘ãã«ã‚ã‚‹ã¨ã¾ã§ã¯ã„ã„ã¥ã‚‰ã„ã‚‚ã®ã®ã€ï¼“ã‹æœˆå‰ã¨ã®æ¯”è¼ƒã§ã¯æ”¹å–„ã—ã¦ã„ã‚‹ã€‚
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
2016
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
1æœˆ31æ—¥
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
â—‹
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
ç™¾è²¨åº—ï¼ˆè²©å£²ä¿ƒé€²æ‹…å½“ï¼‰
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
ãã‚Œä»¥å¤–
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
ãƒ»æ°—æ¸©ãŒå¹³å¹´ä¸¦ã¿ã¨ãªã‚Šã€ã“ã‚Œã¾ã§ã®æ¸©æš–ã€å°‘é›ªã®çŠ¶æ…‹ãŒã¿ã‚‰ã‚Œãªããªã£ã¦ããŸã“ã¨ã§ã€é˜²å¯’è¡£æ–™ã€é›‘è²¨å•†æã‚’ä¸­å¿ƒã«å¤šå°‘æ”¹å–„ã®å‚¾å‘ãŒã¿ã‚‰ã‚Œã‚‹ã€‚
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ã€Œæ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­ã€ãŒæ™¯æ³æ„Ÿã‚’è¡¨ã—ã¦ãŠã‚Šã€ãã®åˆ¤æ–­ã®ç†ç”±ãŒã€Œè¿½åŠ èª¬æ˜åŠã³å…·ä½“çš„çŠ¶æ³ã®èª¬æ˜ã€ã«ã‚ã‚‹å½¢ã§ã™ã€‚ã‚ˆã£ã¦ã€å‰è€…ã‚’æ•™å¸«ãƒ‡ãƒ¼ã‚¿ã€å¾Œè€…ã‚’èª¬æ˜ãƒ‡ãƒ¼ã‚¿ã¨ã™ã‚‹æ•™å¸«ã‚ã‚Šå­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å‰å‡¦ç†&#34;&gt;å‰å‡¦ç†&lt;/h3&gt;
&lt;p&gt;ã¾ãšã€å„æ‰‹æ³•ã§å…±é€šã®å‰å‡¦ç†ã‚’è¡Œã„ã¾ã™ã€‚ä»¥ä¸‹ã§ã¯ã€ä½¿ç”¨ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å‘¼ã³å‡ºã—ã€å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®ã†ã¡æœ‰åŠ¹å›ç­”ã®ã¿ã‚’æŠ½å‡ºã—ã¾ã™ã€‚
ãªãŠã€ä½¿ç”¨ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®é–¢ä¿‚ã§Pythonã§ã®å‡¦ç†ã‚’ç´¹ä»‹ã—ã¾ã™ãŒã€Rã§ã‚‚åŒã˜å‡¦ç†ãŒã§ãã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; sudachipy &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; tokenizer
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; sudachipy &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; dictionary
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; sklearn.preprocessing &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; LabelEncoder
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; pandas &lt;span style=&#34;color:#f92672&#34;&gt;as&lt;/span&gt; pd

sample &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; pd&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;read_csv(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;C:\Users\hogehoge\æ™¯æ°—ã‚¦ã‚ªãƒƒãƒãƒ£ãƒ¼\ç”Ÿãƒ‡ãƒ¼ã‚¿\watcher_2016.csv&amp;#34;&lt;/span&gt;,encoding&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;shift-jis&amp;#34;&lt;/span&gt;)
sample &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; sample[(sample&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;è¿½åŠ èª¬æ˜åŠã³å…·ä½“çš„çŠ¶æ³ã®èª¬æ˜&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;âˆ’&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;(sample&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;è¿½åŠ èª¬æ˜åŠã³å…·ä½“çš„çŠ¶æ³ã®èª¬æ˜&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;ï¼Š&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;False&lt;span style=&#34;color:#f92672&#34;&gt;|&lt;/span&gt;(sample&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;â–¡&amp;#39;&lt;/span&gt;)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¬¡ã«ã€æ–‡æ›¸ã®ãƒˆãƒ¼ã‚¯ãƒ³åŒ–ã‚’è¡Œã„ã¾ã™ã€‚æ—¥æœ¬èªã®ã‚ˆã†ãªè¨€èªã§ã¯è‹±èªãªã©ã¨ç•°ãªã‚Šå˜èªã”ã¨ã®é–“ã«ã‚¹ãƒšãƒ¼ã‚¹ãŒãªã„ãŸã‚ã€åˆ¥é€”åŒºåˆ‡ã‚Šã‚’å…¥ã‚Œã¦ã‚„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚åŒºåˆ‡ã‚‰ã‚ŒãŸå„èªã¯å½¢æ…‹ç´ ã¨å‘¼ã°ã‚Œã€è¨€è‘‰ãŒæ„å‘³ã‚’æŒã¤ã¾ã¨ã¾ã‚Šã®å˜èªã®æœ€å°å˜ä½ã‚’æŒ‡ã—ã¾ã™ã€‚ã¾ãŸã€æ–‡ç« ã‚’å½¢æ…‹ç´ ã¸åˆ†å‰²ã™ã‚‹ã“ã¨ã‚’å½¢æ…‹ç´ è§£æã¨è¨€ã„ã¾ã™(è‹±èªã®ã‚ˆã†ãªå ´åˆå˜ã«Tokenizationã¨è¨€ã£ãŸã‚Šã—ã¾ã™)ã€‚å½¢æ…‹ç´ è§£æã‚’è¡Œã†ãƒ„ãƒ¼ãƒ«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ãŒå­˜åœ¨ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MeCab&lt;/li&gt;
&lt;li&gt;JUMAN&lt;/li&gt;
&lt;li&gt;JANOME&lt;/li&gt;
&lt;li&gt;Ginza&lt;/li&gt;
&lt;li&gt;Sudachi&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ãŠãã‚‰ãæœ€ã‚‚ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¯Mecabã§ã¯ãªã„ã‹ã¨æ€ã„ã¾ã™ãŒã€æ¨™æº–è£…å‚™ã•ã‚Œã¦ã„ã‚‹è¾æ›¸(ipadic)ã®æ›´æ–°ãŒã‚¹ãƒˆãƒƒãƒ—ã—ã¦ãŠã‚Šã€æœ€è¿‘ã®æ–°èªã«å¯¾å¿œã§ããªã„ã¨ã„ã†å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ç‚¹ã«ã¤ã„ã¦ã¯æ–°èªã«å¼·ã„NEologdè¾æ›¸ã‚’åŠ ãˆã‚‹ã“ã¨ã§ã€å¯¾å‡¦å¯èƒ½ã§ã‚ã‚‹ã“ã¨ã‚’åˆ¥è¨˜äº‹ã§ç´¹ä»‹ã—ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ãƒ¯ãƒ¼ã‚¯ã‚¹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚ºãŒæä¾›ã—ã¦ã„ã‚‹Sudachi(Takaoka et al. 2018)ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã«ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚å…¬å¼Githubã‹ã‚‰Sudachiã®ç‰¹é•·ã‚’å¼•ç”¨ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¤‡æ•°ã®åˆ†å‰²å˜ä½ã®ä½µç”¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¿…è¦ã«å¿œã˜ã¦åˆ‡ã‚Šæ›¿ãˆ&lt;/li&gt;
&lt;li&gt;å½¢æ…‹ç´ è§£æã¨å›ºæœ‰è¡¨ç¾æŠ½å‡ºã®èåˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¤šæ•°ã®åéŒ²èªå½™&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;UniDic ã¨ NEologd ã‚’ãƒ™ãƒ¼ã‚¹ã«èª¿æ•´&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ©Ÿèƒ½ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³åŒ–&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–‡å­—æ­£è¦åŒ–ã‚„æœªçŸ¥èªå‡¦ç†ã«æ©Ÿèƒ½è¿½åŠ ãŒå¯èƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åŒç¾©èªè¾æ›¸ã¨ã®é€£æº&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¾Œæ—¥å…¬é–‹äºˆå®š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç‰¹è³ªã™ã¹ãã¯ã€Œè¤‡æ•°ã®åˆ†å‰²å˜ä½ã®ä½µç”¨ã€ã§ã—ã‚‡ã†ã€‚Sudachiã§ã¯çŸ­ã„æ–¹ã‹ã‚‰ A, B, Cã®3ã¤ã®åˆ†å‰²ãƒ¢ãƒ¼ãƒ‰ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚Aã¯UniDicçŸ­å˜ä½ç›¸å½“ã€Cã¯å›ºæœ‰è¡¨ç¾ç›¸å½“ã€Bã¯A, Cã®ä¸­é–“çš„ãªå˜ä½ã¨ãªã£ã¦ãŠã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ã«åŒã˜ã€Œé¸æŒ™ç®¡ç†å§”å“¡ä¼šã€ã¨ã„ã†å˜èªã§ã‚‚å½¢æ…‹ç´ ãŒç•°ãªã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã™ã€‚ã“ã‚Œã¯Sudachiç‰¹æœ‰ã®ç‰¹é•·ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;tokenizer_obj &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; dictionary&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Dictionary()&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;create()

mode &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tokenizer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Tokenizer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;SplitMode&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;A
[m&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;normalized_form() &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; m &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; tokenizer_obj&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;tokenize(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;é¸æŒ™ç®¡ç†å§”å“¡ä¼š&amp;#34;&lt;/span&gt;, mode)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## [&#39;é¸æŒ™&#39;, &#39;ç®¡ç†&#39;, &#39;å§”å“¡&#39;, &#39;ä¼š&#39;]
&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;mode &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tokenizer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Tokenizer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;SplitMode&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;B
[m&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;normalized_form() &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; m &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; tokenizer_obj&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;tokenize(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;é¸æŒ™ç®¡ç†å§”å“¡ä¼š&amp;#34;&lt;/span&gt;, mode)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## [&#39;é¸æŒ™&#39;, &#39;ç®¡ç†&#39;, &#39;å§”å“¡ä¼š&#39;]
&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;mode &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tokenizer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Tokenizer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;SplitMode&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;C
[m&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;normalized_form() &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; m &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; tokenizer_obj&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;tokenize(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;é¸æŒ™ç®¡ç†å§”å“¡ä¼š&amp;#34;&lt;/span&gt;, mode)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## [&#39;é¸æŒ™ç®¡ç†å§”å“¡ä¼š&#39;]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ã¾ãŸã€è¾æ›¸ã«ã¤ã„ã¦ã‚‚UniDicã¨NEologdã‚’ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦æ›´æ–°ãŒç¶šã‘ã‚‰ã‚Œã¦ãŠã‚Šã€æ–°èªã«ã‚‚å¯¾å¿œã§ãã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;mode &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tokenizer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Tokenizer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;SplitMode&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;C
[m&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;normalized_form() &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; m &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; tokenizer_obj&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;tokenize(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;æ–°å‹ã‚³ãƒ­ãƒŠã‚¦ã‚¤ãƒ«ã‚¹&amp;#34;&lt;/span&gt;, mode)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## [&#39;æ–°å‹ã‚³ãƒ­ãƒŠã‚¦ã‚¤ãƒ«ã‚¹&#39;]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å€‹äººçš„ã«ç´ æ™´ã‚‰ã—ã„ã¨æ€ã†ãƒã‚¤ãƒ³ãƒˆã¯è¡¨è¨˜æ­£è¦åŒ–ã‚„æ–‡å­—æ­£è¦åŒ–ãŒã§ãã‚‹ã¨è¨€ã†ã“ã¨ã§ã™ã€‚ä»¥ä¸‹ã®ã‚ˆã†ã«æ—§å­—ç­‰ã§åŒã˜æ„å‘³ã ãŒè¡¨è¨˜ãŒç•°ãªã‚‹å˜èªã‚„è‹±èª/æ—¥æœ¬èªã€æ›¸ãé–“é•ãˆç­‰ã‚’æ­£è¦åŒ–ã™ã‚‹æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;tokenizer_obj&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;tokenize(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;é™„å±&amp;#34;&lt;/span&gt;, mode)[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;normalized_form()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## &#39;ä»˜å±&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;tokenizer_obj&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;tokenize(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;SUMMER&amp;#34;&lt;/span&gt;, mode)[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;normalized_form()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## &#39;ã‚µãƒãƒ¼&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;tokenizer_obj&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;tokenize(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ã‚·ãƒ¥ãƒŸãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³&amp;#34;&lt;/span&gt;, mode)[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;normalized_form()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## &#39;ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ã“ã®ã‚ˆã†ãªé«˜æ€§èƒ½ãªå½¢æ…‹ç´ è§£æãƒ„ãƒ¼ãƒ«ãŒç„¡å„Ÿã§ã—ã‹ã‚‚å•†ç”¨åˆ©ç”¨ã‚‚å¯ã¨ã„ã†ã¨ã“ã‚ã«é©šãã‚’éš ã›ã¾ã›ã‚“ã€‚å¾Œè¿°ã—ã¾ã™ãŒã€ã“ã®Sudachiã§å½¢æ…‹ç´ è§£æã‚’è¡Œã£ãŸWord2vecãƒ¢ãƒ‡ãƒ«ã§ã‚ã‚‹Chiveã‚‚ãƒ¯ãƒ¼ã‚¯ã‚¹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚ºã¯æä¾›ã‚’ã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;èª¬æ˜ãŒé•·ããªã‚Šã¾ã—ãŸãŒSudachiã§Tokenizationã‚’è¡Œã„ã¾ã—ã‚‡ã†ã€‚Sudachiã¯&lt;code&gt;Python&lt;/code&gt;ã§ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚èª¬æ˜ãŒå‰å¾Œã—ã¦ã„ã¾ã™ãŒã€ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰ã§è¡Œã£ã¦ã„ã‚‹ã‚ˆã†ã«&lt;code&gt;tokenizer&lt;/code&gt;ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã€&lt;code&gt;tokenize()&lt;/code&gt;ãƒ¡ã‚½ãƒƒãƒ‰ã§æ–‡ç« ã‚’Tokenizeã—ã¾ã™ã€‚Tokenizeã•ã‚ŒãŸçµæœã¯&lt;code&gt;MorphemeList&lt;/code&gt;ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«æ ¼ç´ã•ã‚Œã¾ã™ã€‚&lt;code&gt;MorphemeList&lt;/code&gt;ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å„è¦ç´ ã«å¯¾ã—ã¦&lt;code&gt;normalized_form()&lt;/code&gt;ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§æ­£è¦åŒ–ã•ã‚ŒãŸå½¢æ…‹ç´ ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã“ã¾ã§ã‚’ã‚„ã£ã¦ã¿ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;tokenizer_obj &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; dictionary&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Dictionary()&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;create()
mode &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tokenizer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Tokenizer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;SplitMode&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;C
tokenizer_sudachi &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;lambda&lt;/span&gt; t: [m&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;normalized_form() &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; m &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; tokenizer_obj&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;tokenize(t, mode)]
tokens &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; sample&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;è¿½åŠ èª¬æ˜åŠã³å…·ä½“çš„çŠ¶æ³ã®èª¬æ˜&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;map(tokenizer_sudachi)
tokens&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;head()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## 0    [ãƒ», åº—é ­, ã®, å–ã‚Šæ‰±ã„, é¡, ãŒ, å‰å¹´, æ¯”, ç´„, 120, %, ã¨, å¥½èª¿...
## 1    [ãƒ», å½“, æ–½è¨­, ã®, åˆ©ç”¨, ä¹—é™, å®¢æ•°, ã¯, 1, æœˆ, 26, æ—¥, æ™‚ç‚¹, ...
## 2    [ãƒ», å¹´, æœ«, ã®, æ¶ˆè²», ã®, åå‹•, ã‚‚, æœ‰ã‚‹, ã¦, ã‹, ã€, å®¢, ã®, ...
## 3    [ãƒ», å¤–å›½äºº, è¦³å…‰å®¢, ã«, ã‚ˆã‚‹, å£²ã‚Šä¸Šã’, ãŒ, å‰å¹´, æ¯”, 152, %, ã¨...
## 4    [ãƒ», ç©æ¥µçš„, ã , æ™¯æ°—, ãŒ, ä¸Šå‘ã, ã«, æœ‰ã‚‹, ã¨, ã¾ã§, ã¯, è¨€ã†, è¾›...
## Name: è¿½åŠ èª¬æ˜åŠã³å…·ä½“çš„çŠ¶æ³ã®èª¬æ˜, dtype: object
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Tokenizeã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚æ¬¡ã«5æ®µéšã®æ™¯æ³åˆ¤æ–­ã‚’Label Encodingã«å¤‰æ›ã—ã¾ã™ã€‚å¤‰æ›ã«ã¯&lt;code&gt;Scikit-Learn&lt;/code&gt;ã®&lt;code&gt;LabelEncoder&lt;/code&gt;ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;score_mapping &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;â—&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;â—‹&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;â–²&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Ã—&amp;#39;&lt;/span&gt;:&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;}
label &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; sample&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;æ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;map(score_mapping)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ã“ã‚Œã§å‰å‡¦ç†ã¯å®Œäº†ã§ã™ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ã®æŠ½å‡º&#34;&gt;ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ã®æŠ½å‡º&lt;/h3&gt;
&lt;p&gt;ã§ã¯ã€å®Ÿè·µã§ã™ã€‚&lt;code&gt;quanteda&lt;/code&gt;ã¨ã„ã†ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ç”¨ã„ã‚‹ãŸã‚ã€&lt;code&gt;R&lt;/code&gt;ã§è¡Œã£ã¦ã„ãã¾ã™ã€‚å‰å‡¦ç†ã¯&lt;code&gt;R&lt;/code&gt;ã§å®Ÿæ–½æ¸ˆã¿ã§ã€&lt;code&gt;toks_sent&lt;/code&gt;ã¨ã„ã†å¤‰æ•°ã«å„æ–‡æ›¸ã®å½¢æ…‹ç´ ãŒæ–‡æ›¸åˆ¥ã«æ ¼ç´ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;ã“ã®&lt;code&gt;toks_sent&lt;/code&gt;ã‹ã‚‰æ–‡æ›¸è¡Œåˆ—ã‚’ç”Ÿæˆã—ã¾ã™ã€‚æ–‡æ›¸è¡Œåˆ—ã¨ã¯ã€å˜èªã¨æ–‡æ›¸ã®é–¢ä¿‚ã‚’è¡¨ã™è¡Œåˆ—ã§ã€å„è¡ŒãŒå˜èª(token)ã€å„åˆ—ãŒæ–‡æ›¸ã‚’è¡¨ã—ã€å„è¦ç´ ã¯æ–‡æ›¸ä¸­ã®å˜èªã®å‡ºç¾å›æ•°ã¨ãªã£ã¦ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ–‡æ›¸è¡Œåˆ—ã®ç”Ÿæˆ&lt;/span&gt;
dfmt_sent &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; toks_sent &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
              quanteda&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;dfm&lt;/span&gt;(remove &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
              quanteda&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;dfm_trim&lt;/span&gt;(min_termfreq &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ–‡æ›¸è¡Œåˆ—&lt;code&gt;dfmt_sent&lt;/code&gt;ã¨å„å˜èªã®ã‚¹ã‚³ã‚¢ãƒ™ã‚¯ãƒˆãƒ«ã®å†…ç©ã‚’å–ã‚Šã€æ–‡æ›¸ã®ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ã‚’ç®—å‡ºã—ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å˜èªæ„Ÿæƒ…æ¥µæ€§å¯¾å¿œè¡¨&lt;/span&gt;
PNdict &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;read.delim&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://www.lr.pi.titech.ac.jp/~takamura/pubs/pn_ja.dic&amp;#34;&lt;/span&gt;,header&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;,sep&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;:&amp;#34;&lt;/span&gt;)

&lt;span style=&#34;color:#75715e&#34;&gt;# è¾æ›¸ã®ä¸¦ã³ã«åˆã‚ã›ã¦æ–‡æ›¸è¡Œåˆ—ã®åˆ—ã‚’å…¥ã‚Œæ›¿ãˆã‚‹ã€‚&lt;/span&gt;
dfmt_sent_arranged &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; quanteda&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;dfm_match&lt;/span&gt;(dfmt_sent, PNdict&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;V1)

&lt;span style=&#34;color:#75715e&#34;&gt;# æ–‡æ›¸ã®ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ç®—å‡º&lt;/span&gt;
n &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unname&lt;/span&gt;(quanteda&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;rowSums&lt;/span&gt;(dfmt_sent_arranged))
score_dict &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ifelse&lt;/span&gt;(n&lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, quanteda&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;rowSums&lt;/span&gt;(dfmt_sent_arranged &lt;span style=&#34;color:#f92672&#34;&gt;%*%&lt;/span&gt; PNdict&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;V4)&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;n, &lt;span style=&#34;color:#66d9ef&#34;&gt;NA&lt;/span&gt;)
sample_with_score_dict &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; sample &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;cbind&lt;/span&gt;(score_dict) 
sample_with_score_dict &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;##   åŸºæº–å¹´  åŸºæº–æ—¥ æ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­                 æ¥­ç¨®ãƒ»è·ç¨®   åˆ¤æ–­ã®ç†ç”±
## 1   2016 1æœˆ31æ—¥             â—       æ—…è¡Œä»£ç†åº—ï¼ˆå¾“æ¥­å“¡ï¼‰ è²©å£²é‡ã®å‹•ã
## 2   2016 1æœˆ31æ—¥             â—         è¦³å…‰åæ‰€ï¼ˆå¾“æ¥­å“¡ï¼‰ æ¥å®¢æ•°ã®å‹•ã
## 3   2016 1æœˆ31æ—¥             â—‹ ä¸€èˆ¬å°å£²åº—ï¼»é…’ï¼½ï¼ˆçµŒå–¶è€…ï¼‰   å˜ä¾¡ã®å‹•ã
## 4   2016 1æœˆ31æ—¥             â—‹         ç™¾è²¨åº—ï¼ˆå£²å ´ä¸»ä»»ï¼‰ ãŠå®¢æ§˜ã®æ§˜å­
## 5   2016 1æœˆ31æ—¥             â—‹           ç™¾è²¨åº—ï¼ˆæ‹…å½“è€…ï¼‰ æ¥å®¢æ•°ã®å‹•ã
## 6   2016 1æœˆ31æ—¥             â—‹     ç™¾è²¨åº—ï¼ˆè²©å£²ä¿ƒé€²æ‹…å½“ï¼‰     ãã‚Œä»¥å¤–
##                                                                                                                                                                               è¿½åŠ èª¬æ˜åŠã³å…·ä½“çš„çŠ¶æ³ã®èª¬æ˜
## 1                                                                                                                                                            ãƒ»åº—é ­ã®å–æ‰±é¡ãŒå‰å¹´æ¯”ç´„120ï¼…ã¨å¥½èª¿ã§ã‚ã£ãŸã€‚
## 2                                                            ãƒ»å½“æ–½è¨­ã®åˆ©ç”¨ä¹—é™å®¢æ•°ã¯ï¼‘æœˆ26æ—¥æ™‚ç‚¹ã§å‰å¹´æ¯”130.1ï¼…ã¨ãªã£ã¦ãŠã‚Šã€ï¼‘æœˆã¨ã—ã¦ã¯éå»æœ€é«˜ã®åˆ©ç”¨ä¹—é™å®¢æ•°ã«ãªã‚‹ã“ã¨ãŒç¢ºå®šã—ãŸã»ã©ã®å…¥è¾¼çŠ¶æ³ã«ã‚ã‚‹ã€‚
## 3                                                           ãƒ»å¹´æœ«ã®æ¶ˆè²»ã®åå‹•ã‚‚ã‚ã£ã¦ã‹ã€å®¢ã®å‹•ããŒã‚„ã‚„éˆã„ã€‚ãŸã ã€ç›¸å¤‰ã‚ã‚‰ãšé«˜é¡å•†æãŒå£²ã‚Œã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šã€å£²ä¸Šã¯ãã‚Œãªã‚Šã®é‡‘é¡ã‚’ã‚­ãƒ¼ãƒ—ã—ã¦ã„ã‚‹ã€‚
## 4 ãƒ»å¤–å›½äººè¦³å…‰å®¢ã«ã‚ˆã‚‹å£²ä¸ŠãŒå‰å¹´æ¯”152ï¼…ã¨å¥½èª¿ã‚’ç¶™ç¶šã—ã¦ã„ã‚‹ã»ã‹ã€æ¥å®¢æ•°ãŒå‰å¹´æ¯”102ï¼…ã¨å¥½èª¿ã‚’ç¶­æŒã—ã¦ã„ã‚‹ã€‚æœˆåŠã°ã«åœæ»ã—ãŸå£²ä¸Šã‚‚ä¸‹æ—¬ã«å…¥ã£ã¦ã‹ã‚‰å›å¾©å‚¾å‘ã«ã‚ã‚Šã€å®šä¾¡å“ã€ãƒãƒ¼ã‚²ãƒ³å“ã¨ã‚‚å‰å¹´ã‚’ä¸Šå›ã£ã¦ã„ã‚‹ã€‚
## 5                                                                                                                 ãƒ»ç©æ¥µçš„ã«æ™¯æ°—ãŒä¸Šå‘ãã«ã‚ã‚‹ã¨ã¾ã§ã¯ã„ã„ã¥ã‚‰ã„ã‚‚ã®ã®ã€ï¼“ã‹æœˆå‰ã¨ã®æ¯”è¼ƒã§ã¯æ”¹å–„ã—ã¦ã„ã‚‹ã€‚
## 6                                                                     ãƒ»æ°—æ¸©ãŒå¹³å¹´ä¸¦ã¿ã¨ãªã‚Šã€ã“ã‚Œã¾ã§ã®æ¸©æš–ã€å°‘é›ªã®çŠ¶æ…‹ãŒã¿ã‚‰ã‚Œãªããªã£ã¦ããŸã“ã¨ã§ã€é˜²å¯’è¡£æ–™ã€é›‘è²¨å•†æã‚’ä¸­å¿ƒã«å¤šå°‘æ”¹å–„ã®å‚¾å‘ãŒã¿ã‚‰ã‚Œã‚‹ã€‚
##     score_dict
## 1 -0.348178400
## 2 -0.565735877
## 3 -0.612866000
## 4 -0.325386370
## 5  0.006678875
## 6 -0.476283793
&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# çµæœã®å¯è¦–åŒ–&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(ggplot2)
&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(sample_with_score_dict, &lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;æ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­,y&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;score_dict)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_boxplot&lt;/span&gt;()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;../../post/post27/index_files/figure-html/unnamed-chunk-13-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ã€Œæ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­ã€æ¯ã«boxplotã‚’æ›¸ã„ã¦ã¿ã¾ã—ãŸãŒã€ã±ã£ã¨è¦‹ã¯ã‚ã¾ã‚Šå¤‰ã‚ã‚‰ãªã„çµæœã«ãªã‚Šã¾ã—ãŸã€‚
ã©ã®åˆ¤æ–­ã‚‚-0.5ãã‚‰ã„ãŒå¹³å‡ã§ã€ã»ã‚“ã®å°‘ã—ç·©ã‚„ã‹ã«å³è‚©ä¸ŠãŒã‚Šã®ã‚ˆã†ãªæ°—ã‚‚ã—ã¾ã™ãŒã€æ–‡æ›¸ã‚’åˆ†é¡ã§ãã¦ã„ã‚‹è¨€ãˆã‚‹çµæœã§ã¯ãªã„ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-çµ‚ã‚ã‚Šã«&#34;&gt;3. çµ‚ã‚ã‚Šã«&lt;/h2&gt;
&lt;p&gt;æœ€ã‚‚ç°¡æ˜“ãªæ‰‹æ³•ã¨ã„ã†ã“ã¨ã§äºˆæƒ³ã¯ã—ã¦ã„ã¾ã—ãŸãŒã€è¾æ›¸ãƒ™ãƒ¼ã‚¹æ‰‹æ³•ã§ã¯ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ã®æŠ½å‡ºã¯ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã‚‚ã¡ã‚ã‚“ã€ç§ã®ã‚„ã‚Šæ–¹ãŒæ‚ªã„ã®ãŒç†ç”±ã§ä¸Šæ‰‹ãã‚„ã‚Œã°æ–‡æ›¸ã®åˆ†é¡ã¯å¯èƒ½ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãŸã ã€çµŒæ¸ˆã«ç‰¹åŒ–ã—ãŸæ¥µæ€§è¾æ›¸ã‚’æº–å‚™ã—ãªã‘ã‚Œã°é›£ã—ã„ã®ã§ã¯ãªã„ã‹ã¨ã„ã†ã®ãŒã€ç§ã®æ„Ÿæƒ³ã§ã™ã€‚
æ¬¡ã¯ãƒŠã‚¤ãƒ¼ãƒ–ãƒ™ã‚¤ã‚ºåˆ†é¡å™¨ã‚’ç”¨ã„ãŸæ–‡æ›¸åˆ†é¡ã«å–ã‚Šçµ„ã¿ã¾ã™ã€‚
ã“ã“ã¾ã§ã€èª­ã¿é€²ã‚ã¦é ‚ãã¾ã—ã¦ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚æ¬¡å›ã®è¨˜äº‹ã‚‚æœŸå¾…ã—ã¦ã„ã¦ãã ã•ã„ã€‚&lt;/p&gt;
&lt;div id=&#34;refs&#34; class=&#34;references csl-bib-body hanging-indent&#34;&gt;
&lt;div id=&#34;ref-takamura2005&#34; class=&#34;csl-entry&#34;&gt;
&lt;p&gt;Takamura, Hiroya, Takashi Inui, and Manabu Okumura. 2005. â€œThe 43rd Annual Meeting.â€ In. Association for Computational Linguistics. &lt;a href=&#34;https://doi.org/10.3115/1219840.1219857&#34;&gt;https://doi.org/10.3115/1219840.1219857&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;ref-TAKAOKA18.8884&#34; class=&#34;csl-entry&#34;&gt;
&lt;p&gt;Takaoka, Kazuma, Sorami Hisamoto, Noriko Kawahara, Miho Sakamoto, Yoshitaka Uchida, and Yuji Matsumoto. 2018. â€œSudachi: A Japanese Tokenizer for Business.â€ In &lt;em&gt;Proceedings of the Eleventh International Conference on Language Resources and Evaluation (LREC 2018)&lt;/em&gt;, edited by Nicoletta Calzolari (Conference chair), Khalid Choukri, Christopher Cieri, Thierry Declerck, Sara Goggi, Koiti Hasida, Hitoshi Isahara, et al. Paris, France: European Language Resources Association (ELRA).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>ã€å¾¹åº•æ¯”è¼ƒã€‘ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ç®—å‡ºæ‰‹æ³•ï¼ï¼ - ç¬¬1å›</title>
      <link>/post/post25/</link>
      <pubDate>Mon, 21 Mar 2022 00:00:00 +0000</pubDate>
      <guid>/post/post25/</guid>
      <description>&lt;script src=&#34;../../post/post25/index_files/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;../../post/post25/index_files/lightable/lightable.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;link href=&#34;../../post/post25/index_files/bsTable/bootstrapTable.min.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;../../post/post25/index_files/bsTable/bootstrapTable.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;../../post/post25/index_files/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;../../post/post25/index_files/lightable/lightable.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;link href=&#34;../../post/post25/index_files/bsTable/bootstrapTable.min.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;../../post/post25/index_files/bsTable/bootstrapTable.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;../../post/post25/index_files/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;../../post/post25/index_files/lightable/lightable.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;link href=&#34;../../post/post25/index_files/bsTable/bootstrapTable.min.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;../../post/post25/index_files/bsTable/bootstrapTable.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;../../post/post25/index_files/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;../../post/post25/index_files/lightable/lightable.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;link href=&#34;../../post/post25/index_files/bsTable/bootstrapTable.min.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;../../post/post25/index_files/bsTable/bootstrapTable.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;../../post/post25/index_files/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;../../post/post25/index_files/lightable/lightable.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;link href=&#34;../../post/post25/index_files/bsTable/bootstrapTable.min.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;../../post/post25/index_files/bsTable/bootstrapTable.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;../../post/post25/index_files/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;../../post/post25/index_files/lightable/lightable.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;link href=&#34;../../post/post25/index_files/bsTable/bootstrapTable.min.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;../../post/post25/index_files/bsTable/bootstrapTable.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;../../post/post25/index_files/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;../../post/post25/index_files/lightable/lightable.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;link href=&#34;../../post/post25/index_files/bsTable/bootstrapTable.min.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;../../post/post25/index_files/bsTable/bootstrapTable.js&#34;&gt;&lt;/script&gt;
&lt;p&gt;ãŠã¯ã“ã‚“ã°ã‚“ã«ã¡ã¯ã€‚ãƒ†ã‚­ã‚¹ãƒˆè§£æã¯ãƒ‡ãƒ¼ã‚¿åˆ†æç•Œéšˆã§ã¯ã‚‚ã†ã‹ãªã‚Šå½“ãŸã‚Šå‰ã«ãªã£ã¦ãã¦ã„ã¾ã™ã€‚ãƒ†ã‚­ã‚¹ãƒˆã®æ„Ÿæ€§æƒ…å ±(ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆ)ã‚’æŠ½å‡ºã™ã‚‹æ‰‹æ³•ã«ã¯ã€ã©ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚‹ã‹ã‚ã‚‹ã®ã‹èª¿ã¹ãŸã¨ã“ã‚ã‹ãªã‚Šæ™‚ä»£ã¯é€²ã‚“ã§ã„ã‚‹ã¨å®Ÿæ„Ÿã—ã¾ã—ãŸã€‚ä»Šå›ã¯å®Ÿéš›ã«&lt;code&gt;R&lt;/code&gt;ã‚„&lt;code&gt;Python&lt;/code&gt;ã§ä½œæˆã—ãŸæ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã‚’ç”¨ã„ã¦ã€ãã‚Œã‚‰ã®ç²¾åº¦ã‚’æ¯”è¼ƒã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚ ä»Šå›ã¯ãã®ç¬¬ï¼‘å›ç›®ã¨ã„ã†ã“ã¨ã§ã€ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚„å…¨ä½“æ„Ÿã®ãŠè©±ã§ã™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;1-è§£ããŸã„å•é¡Œ&#34;&gt;1. è§£ããŸã„å•é¡Œ&lt;/h2&gt;
&lt;p&gt;ä»Šå›è§£ããŸã„å•é¡Œã¯ã€Œæ™¯æ³æ„Ÿã‚’è¡¨ã™æ–‡æ›¸è¡¨ç¾ã‚’å­¦ç¿’ã—ã€å®Ÿéš›ã®æ™¯æ°—åˆ¤æ–­ã‚’äºˆæ¸¬ã™ã‚‹ã€ã¨ã„ã†ã‚¿ã‚¹ã‚¯ã§ã™ã€‚ ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã«ã¯ã€å†…é–£åºœãŒå‡ºã—ã¦ã„ã‚‹æ™¯æ°—ã‚¦ã‚ªãƒƒãƒãƒ£ãƒ¼èª¿æŸ»ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ™¯æ°—ã‚¦ã‚ªãƒƒãƒãƒ£ãƒ¼èª¿æŸ»ã¨ã¯&#34;&gt;æ™¯æ°—ã‚¦ã‚ªãƒƒãƒãƒ£ãƒ¼èª¿æŸ»ã¨ã¯&lt;/h3&gt;
&lt;p&gt;æ™¯æ°—ã‚¦ã‚ªãƒƒãƒãƒ£ãƒ¼èª¿æŸ»ã¨ã¯ã€å†…é–£åºœãŒæœˆæ¬¡ã§å…¬è¡¨ã—ã¦ã„ã‚‹æ™¯æ°—å‹•å‘åˆ¤æ–­ã®ãŸã‚ã®çµ±è¨ˆæƒ…å ±ã§ã™ã€‚èª¿æŸ»ã®ç›®çš„ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™(&lt;a href=&#34;https://www5.cao.go.jp/keizai3/watcher/watcher_mokuteki.html#mokuteki&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å†…é–£åºœWebã‚µã‚¤ãƒˆ&lt;/a&gt;ã‚ˆã‚Š)ã€‚&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;&amp;lt;èª¿æŸ»ã®ç›®çš„&amp;gt;&lt;/dt&gt;
&lt;dd&gt;
&lt;p&gt;åœ°åŸŸã®æ™¯æ°—ã«é–¢é€£ã®æ·±ã„å‹•ãã‚’è¦³å¯Ÿã§ãã‚‹ç«‹å ´ã«ã‚ã‚‹äººã€…ã®å”åŠ›ã‚’å¾—ã¦ã€åœ°åŸŸã”ã¨ã®æ™¯æ°—å‹•å‘ã‚’çš„ç¢ºã‹ã¤è¿…é€Ÿã«æŠŠæ¡ã—ã€æ™¯æ°—å‹•å‘åˆ¤æ–­ã®åŸºç¤è³‡æ–™ã¨ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã™ã‚‹ã€‚&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;ã§ã¯ã€ã“ã®ã€Œåœ°åŸŸã®æ™¯æ°—ã«é–¢é€£ã®æ·±ã„å‹•ãã‚’è¦³å¯Ÿã§ãã‚‹ç«‹å ´ã«ã‚ã‚‹äººã€…ã€ã€ã€Œåœ°åŸŸã”ã¨ã®æ™¯æ°—å‹•å‘ã€ã€ã€Œçš„ç¢ºã‹ã¤è¿…é€Ÿã«ã€ã¨ã„ã†éƒ¨åˆ†ã«ã¤ã„ã¦å°‘ã—æ·±æ˜ã£ã¦ã¿ã¾ã™ã€‚&lt;/p&gt;
&lt;h4 id=&#34;èª¿æŸ»ã®å¯¾è±¡ç¯„å›²&#34;&gt;èª¿æŸ»ã®å¯¾è±¡ç¯„å›²&lt;/h4&gt;
&lt;p&gt;èª¿æŸ»ã®å¯¾è±¡ç¯„å›²ã¯47éƒ½é“åºœçœŒã¨ãªã£ã¦ã„ã¾ã™ã€‚ã¾ãŸã€èª¿æŸ»å¯¾è±¡è€…ã¯ã€Œå®¶è¨ˆå‹•å‘ã€ä¼æ¥­å‹•å‘ã€é›‡ç”¨ç­‰ã€ä»£è¡¨çš„ãªçµŒæ¸ˆæ´»å‹•é …ç›®ã®å‹•å‘ã‚’æ•æ„Ÿã«åæ˜ ã™ã‚‹ç¾è±¡ã‚’è¦³å¯Ÿã§ãã‚‹æ¥­ç¨®ã®é©å½“ãªè·ç¨®ã®ä¸­ã‹ã‚‰é¸å®šã—ãŸ2,050äººã€ã¨ãªã£ã¦ãŠã‚Šã€ä¾‹ãˆã°å°å£²åº—ã‚„é£²é£Ÿåº—ã®åº—å“¡ãƒ»åº—é•·ã€ã‚¿ã‚¯ã‚·ãƒ¼é‹è»¢æ‰‹ã€è£½é€ æ¥­ãƒ»éè£½é€ æ¥­ä¼æ¥­ã®çµŒå–¶è€…ãƒ»å¾“æ¥­å“¡ã€äººææ´¾é£ä¼šç¤¾ç¤¾å“¡ãªã©ã‚’å¯¾è±¡ã«è¡Œã‚ã‚Œã¦ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;h4 id=&#34;èª¿æŸ»æœŸæ—¥ãŠã‚ˆã³æœŸé–“&#34;&gt;èª¿æŸ»æœŸæ—¥ãŠã‚ˆã³æœŸé–“&lt;/h4&gt;
&lt;p&gt;èª¿æŸ»ã¯æœˆæ¬¡ã§è¡Œã‚ã‚Œã€æ¯æœˆ25æ—¥ã‹ã‚‰æœˆæœ«ã«ã‹ã‘ã¦å®Ÿæ–½ã•ã‚Œã¾ã™ã€‚å½“æœˆã®æ™¯æ³æ„Ÿã«ã¤ã„ã¦èª¿æŸ»ãŒè¡Œã‚ã‚Œã€ç¿Œæœˆã«å…¬è¡¨ã•ã‚Œã¾ã™ã€‚&lt;/p&gt;
&lt;h4 id=&#34;èª¿æŸ»ã®å®Ÿæ–½æ–¹æ³•&#34;&gt;èª¿æŸ»ã®å®Ÿæ–½æ–¹æ³•&lt;/h4&gt;
&lt;p&gt;ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆèª¿æŸ»ã‚’é›»è©±ãƒ»Webã‚µã‚¤ãƒˆãƒ»é›»å­ãƒ¡ãƒ¼ãƒ«ã®ã„ãšã‚Œã‹ã§å›ç­”ã™ã‚‹ã“ã¨ã«ãªã£ã¦ã„ã¾ã™ã€‚è³ªå•é …ç›®ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™(&lt;a href=&#34;https://www5.cao.go.jp/keizai3/watcher/chousahyo.pdf&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;èª¿æŸ»ç¥¨&lt;/a&gt;)ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ™¯æ°—ã®ç¾çŠ¶ã«å¯¾ã™ã‚‹åˆ¤æ–­ï¼ˆæ–¹å‘æ€§ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;1.ã®ç†ç”±&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2.ã®è¿½åŠ èª¬æ˜åŠã³å…·ä½“çš„çŠ¶æ³ã®èª¬æ˜(è‡ªç”±è¨˜è¿°)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ™¯æ°—ã®å…ˆè¡Œãã«å¯¾ã™ã‚‹åˆ¤æ–­(æ–¹å‘æ€§)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(4)ã®ç†ç”±&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(å‚è€ƒ)æ™¯æ°—ã®ç¾çŠ¶ã«å¯¾ã™ã‚‹åˆ¤æ–­(æ°´æº–)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ã”å‚è€ƒã¾ã§ã«2016å¹´1æœˆèª¿æŸ»ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ãŠè¦‹ã›ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(magrittr)
sample &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; readr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;read_csv&lt;/span&gt;(r&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;(C:\Users\aashi\Desktop\TextMining\æ™¯æ°—ã‚¦ã‚ªãƒƒãƒãƒ£ãƒ¼\ç”Ÿãƒ‡ãƒ¼ã‚¿\watcher_2016.csv)&amp;#34;&lt;/span&gt;,locale&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;readr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;locale&lt;/span&gt;(encoding&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;SHIFT-JIS&amp;#34;&lt;/span&gt;), show_col_types&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;)
&lt;span style=&#34;color:#a6e22e&#34;&gt;options&lt;/span&gt;(kableExtra.html.bsTable &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;TRUE&lt;/span&gt;)
knitr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;kable&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;head&lt;/span&gt;(sample)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  kableExtra&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;kable_styling&lt;/span&gt;(bootstrap_options &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;striped&amp;#34;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;table class=&#34;table table-striped&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; åŸºæº–å¹´ &lt;/th&gt;
   &lt;th style=&#34;text-align:left;&#34;&gt; åŸºæº–æ—¥ &lt;/th&gt;
   &lt;th style=&#34;text-align:left;&#34;&gt; æ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­ &lt;/th&gt;
   &lt;th style=&#34;text-align:left;&#34;&gt; æ¥­ç¨®ãƒ»è·ç¨® &lt;/th&gt;
   &lt;th style=&#34;text-align:left;&#34;&gt; åˆ¤æ–­ã®ç†ç”± &lt;/th&gt;
   &lt;th style=&#34;text-align:left;&#34;&gt; è¿½åŠ èª¬æ˜åŠã³å…·ä½“çš„çŠ¶æ³ã®èª¬æ˜ &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2016 &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; 1æœˆ31æ—¥ &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; â— &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; æ—…è¡Œä»£ç†åº—ï¼ˆå¾“æ¥­å“¡ï¼‰ &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; è²©å£²é‡ã®å‹•ã &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ãƒ»åº—é ­ã®å–æ‰±é¡ãŒå‰å¹´æ¯”ç´„120ï¼…ã¨å¥½èª¿ã§ã‚ã£ãŸã€‚ &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2016 &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; 1æœˆ31æ—¥ &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; â— &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; è¦³å…‰åæ‰€ï¼ˆå¾“æ¥­å“¡ï¼‰ &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; æ¥å®¢æ•°ã®å‹•ã &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ãƒ»å½“æ–½è¨­ã®åˆ©ç”¨ä¹—é™å®¢æ•°ã¯ï¼‘æœˆ26æ—¥æ™‚ç‚¹ã§å‰å¹´æ¯”130.1ï¼…ã¨ãªã£ã¦ãŠã‚Šã€ï¼‘æœˆã¨ã—ã¦ã¯éå»æœ€é«˜ã®åˆ©ç”¨ä¹—é™å®¢æ•°ã«ãªã‚‹ã“ã¨ãŒç¢ºå®šã—ãŸã»ã©ã®å…¥è¾¼çŠ¶æ³ã«ã‚ã‚‹ã€‚ &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2016 &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; 1æœˆ31æ—¥ &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; â—‹ &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ä¸€èˆ¬å°å£²åº—ï¼»é…’ï¼½ï¼ˆçµŒå–¶è€…ï¼‰ &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; å˜ä¾¡ã®å‹•ã &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ãƒ»å¹´æœ«ã®æ¶ˆè²»ã®åå‹•ã‚‚ã‚ã£ã¦ã‹ã€å®¢ã®å‹•ããŒã‚„ã‚„éˆã„ã€‚ãŸã ã€ç›¸å¤‰ã‚ã‚‰ãšé«˜é¡å•†æãŒå£²ã‚Œã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šã€å£²ä¸Šã¯ãã‚Œãªã‚Šã®é‡‘é¡ã‚’ã‚­ãƒ¼ãƒ—ã—ã¦ã„ã‚‹ã€‚ &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2016 &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; 1æœˆ31æ—¥ &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; â—‹ &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ç™¾è²¨åº—ï¼ˆå£²å ´ä¸»ä»»ï¼‰ &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ãŠå®¢æ§˜ã®æ§˜å­ &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ãƒ»å¤–å›½äººè¦³å…‰å®¢ã«ã‚ˆã‚‹å£²ä¸ŠãŒå‰å¹´æ¯”152ï¼…ã¨å¥½èª¿ã‚’ç¶™ç¶šã—ã¦ã„ã‚‹ã»ã‹ã€æ¥å®¢æ•°ãŒå‰å¹´æ¯”102ï¼…ã¨å¥½èª¿ã‚’ç¶­æŒã—ã¦ã„ã‚‹ã€‚æœˆåŠã°ã«åœæ»ã—ãŸå£²ä¸Šã‚‚ä¸‹æ—¬ã«å…¥ã£ã¦ã‹ã‚‰å›å¾©å‚¾å‘ã«ã‚ã‚Šã€å®šä¾¡å“ã€ãƒãƒ¼ã‚²ãƒ³å“ã¨ã‚‚å‰å¹´ã‚’ä¸Šå›ã£ã¦ã„ã‚‹ã€‚ &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2016 &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; 1æœˆ31æ—¥ &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; â—‹ &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ç™¾è²¨åº—ï¼ˆæ‹…å½“è€…ï¼‰ &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; æ¥å®¢æ•°ã®å‹•ã &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ãƒ»ç©æ¥µçš„ã«æ™¯æ°—ãŒä¸Šå‘ãã«ã‚ã‚‹ã¨ã¾ã§ã¯ã„ã„ã¥ã‚‰ã„ã‚‚ã®ã®ã€ï¼“ã‹æœˆå‰ã¨ã®æ¯”è¼ƒã§ã¯æ”¹å–„ã—ã¦ã„ã‚‹ã€‚ &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2016 &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; 1æœˆ31æ—¥ &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; â—‹ &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ç™¾è²¨åº—ï¼ˆè²©å£²ä¿ƒé€²æ‹…å½“ï¼‰ &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ãã‚Œä»¥å¤– &lt;/td&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ãƒ»æ°—æ¸©ãŒå¹³å¹´ä¸¦ã¿ã¨ãªã‚Šã€ã“ã‚Œã¾ã§ã®æ¸©æš–ã€å°‘é›ªã®çŠ¶æ…‹ãŒã¿ã‚‰ã‚Œãªããªã£ã¦ããŸã“ã¨ã§ã€é˜²å¯’è¡£æ–™ã€é›‘è²¨å•†æã‚’ä¸­å¿ƒã«å¤šå°‘æ”¹å–„ã®å‚¾å‘ãŒã¿ã‚‰ã‚Œã‚‹ã€‚ &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;å•é¡Œè¨­å®š&#34;&gt;å•é¡Œè¨­å®š&lt;/h3&gt;
&lt;p&gt;ä»Šå›ã®å•é¡Œè¨­å®šã¯ã€ã€Œè¿½åŠ èª¬æ˜åŠã³å…·ä½“çš„çŠ¶æ³ã®èª¬æ˜ã€ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ãƒ†ã‚­ã‚¹ãƒˆæƒ…å ±ã‚’ã‚‚ã¨ã«ã€ã€Œæ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­ã€ã‚’äºˆæ¸¬ã™ã‚‹ã‚¿ã‚¹ã‚¯ã«ãªã‚Šã¾ã™ã€‚
ã€Œæ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­ã€ã¯ã€Œè‰¯ã„ã€ã€ã€Œã‚„ã‚„è‰¯ã„ã€ã€ã€Œã©ã¡ã‚‰ã¨ã‚‚è¨€ãˆãªã„ã€ã€ã€Œã‚„ã‚„æ‚ªã„ã€ã€ã€Œæ‚ªã„ã€ã¨ãªã£ã¦ãŠã‚Šã€ã“ã‚Œã‚’2å€¤åˆ†é¡å•é¡Œã«ã—ã¦å­¦ç¿’ã‚’è¡Œã„ã¾ã™(ã©ã¡ã‚‰ã¨ã‚‚è¨€ãˆãªã„ã¯ãƒã‚¬ãƒ†ã‚£ãƒ–ã«åˆ†é¡)ã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-ãƒ†ã‚­ã‚¹ãƒˆè§£ææ‰‹æ³•ã®é€²åŒ–ã®è­œç³»&#34;&gt;2. ãƒ†ã‚­ã‚¹ãƒˆè§£ææ‰‹æ³•ã®é€²åŒ–ã®è­œç³»&lt;/h2&gt;
&lt;p&gt;ä¸Šè¨˜å•é¡Œè¨­å®šã‚’è§£ããŸã‚ã«ã¯ã€ãƒ†ã‚­ã‚¹ãƒˆæƒ…å ±ã‹ã‚‰æ„Ÿæ€§æƒ…å ±(ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆ)ã‚’æŠ½å‡ºã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ç§ãŒèª¿ã¹ãŸæµ…ã„çŸ¥è­˜ã«ã‚ˆã‚‹ã¨ã€æ„Ÿæ€§æƒ…å ±ã®æŠ½å‡ºæ–¹æ³•ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ‰‹æ³•ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¾æ›¸ãƒ™ãƒ¼ã‚¹&lt;/li&gt;
&lt;li&gt;ãƒŠã‚¤ãƒ¼ãƒ–ãƒ™ã‚¤ã‚ºåˆ†é¡å™¨&lt;/li&gt;
&lt;li&gt;å˜èªåŸ‹ã‚è¾¼ã¿(Word Embedding)ã‚’ç”¨ã„ãŸæ–¹æ³•&lt;/li&gt;
&lt;li&gt;Recurrent neural network(RNN)&lt;/li&gt;
&lt;li&gt;Transformer&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ãŠãã‚‰ãã€ä¸‹ã«è¡Œãã«ã¤ã‚Œã¦ã‚ˆã‚Šæœ€æ–°ã®æ‰‹æ³•ã«ãªã£ã¦ãŠã‚Šã€ç²¾åº¦ã‚‚é«˜ã„ã®ã§ã¯ãªã„ã‹ã¨æ¨å¯Ÿã•ã‚Œã¾ã™ã€‚ ã¾ãŸã€1,2,3ã¯ã‚„ã‚Šæ–¹ã«ã‚‚ã‚ˆã‚‹ã‚“ã§ã—ã‚‡ã†ãŒæ–‡ç« ãŒä¸ãˆã‚‰ã‚ŒãŸéš›ã«ãã®èªé †é–¢ä¿‚ã‚’è€ƒæ…®ã—ã¾ã›ã‚“ã€‚ ä»Šå¾Œã€å„æ‰‹æ³•ã«ã¤ã„ã¦è§£æçµæœã®è¨˜äº‹ã‚’æŠ•ç¨¿ã™ã‚‹äºˆå®šã§ã™ã®ã§ã€è©³ã—ã„ä¸­èº«ã«ã¤ã„ã¦ã¯ãã‚Œãã‚Œã®å›ã§è§¦ã‚ŒãŸã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿æ¦‚è¦³&#34;&gt;3. ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿æ¦‚è¦³&lt;/h2&gt;
&lt;h3 id=&#34;ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿&#34;&gt;ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿&lt;/h3&gt;
&lt;p&gt;ä»Šå›ä½¿ç”¨ã™ã‚‹æ™¯æ°—ã‚¦ã‚ªãƒƒãƒãƒ£ãƒ¼èª¿æŸ»ã®ã‚µãƒ³ãƒ—ãƒ«ã¯2016å¹´~2020å¹´ã®ã‚‚ã®ã¨ãªã£ã¦ã„ã¾ã™ã€‚ç¾çŠ¶åˆ¤æ–­ã®èª¿æŸ»çµæœã‚’æ ¼ã®ã—ãŸcsvãƒ•ã‚¡ã‚¤ãƒ«(æ™¯æ°—åˆ¤æ–­ç†ç”±é›†)ã‚’æœˆã”ã¨ã«å†…é–£åºœã®Webãƒšãƒ¼ã‚¸ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€æ•´å½¢ã—ãŸã‚‚ã®ã‚’å¹´ã”ã¨ã«é€£çµã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;filepath &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; r&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;(C:\Users\hogehoge\Watcher\RawData)&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;files &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; stringr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;str_c&lt;/span&gt;(filepath, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\\&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#a6e22e&#34;&gt;list.files&lt;/span&gt;(filepath, pattern &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;*.csv&amp;#34;&lt;/span&gt;))
sample &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; readr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;read_csv&lt;/span&gt;(files, locale&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;readr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;locale&lt;/span&gt;(encoding&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;SHIFT-JIS&amp;#34;&lt;/span&gt;), show_col_types &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;FALSE&lt;/span&gt;)
&lt;span style=&#34;color:#75715e&#34;&gt;# ã€Œï¼ã€ã¯å›ç­”ãŒå­˜åœ¨ã—ãªã„ã€ã€Œï¼Šã€ã¯ä¸»ã ã£ãŸå›ç­”ç­‰ãŒå­˜åœ¨ã—ãªã„ãŸã‚ã€é™¤å¤–&lt;/span&gt;
sample &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; sample[sample&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;è¿½åŠ èª¬æ˜åŠã³å…·ä½“çš„çŠ¶æ³ã®èª¬æ˜ &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ï¼&amp;#34;&lt;/span&gt;,]
sample &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; sample[sample&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;è¿½åŠ èª¬æ˜åŠã³å…·ä½“çš„çŠ¶æ³ã®èª¬æ˜ &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ï¼Š&amp;#34;&lt;/span&gt;,]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çŸ¥ã‚‰ãªã‹ã£ãŸã‚“ã§ã™ãŒã€&lt;code&gt;readr::read_csv&lt;/code&gt;ã£ã¦2.0.0ã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã®ãƒªã‚¹ãƒˆã‚’å¼•æ•°ã¨ã—ã¦csvã‚’èª­ã¿è¾¼ã¿ã€ãã®çµæœã‚’é€£çµã—ã¦ãã‚Œã‚‹ã‚ˆã†ã«ãªã£ãŸã‚“ã§ã™ã­ã€‚åœ°å‘³ã«ä¾¿åˆ©ã§ã™ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º&#34;&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º&lt;/h3&gt;
&lt;p&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚ºã¯76800ã§ã—ãŸã€‚ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚ºã¨ã—ã¦ã¯ç”³ã—åˆ†ãªã„ã‹ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;NROW&lt;/span&gt;(sample)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## [1] 76800
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¿µã®ãŸã‚ã€å„å¹´ã”ã¨ã«ã‚‚è¦‹ã¦ã¿ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(magrittr)
sample &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;group_by&lt;/span&gt;(åŸºæº–å¹´) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;summarise&lt;/span&gt;(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;n&lt;/span&gt;()) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;`å‰²åˆ&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;%)`=round(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º/sum(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º)*100, digits=1)) %&amp;gt;% 
&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;  knitr::kable() %&amp;gt;&lt;/span&gt;% 
  kableExtra&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;kable_styling&lt;/span&gt;(bootstrap_options &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;striped&amp;#34;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;table class=&#34;table table-striped&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; åŸºæº–å¹´ &lt;/th&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º &lt;/th&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; å‰²åˆ(%) &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2016 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 15168 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 19.8 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2017 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 16724 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 21.8 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2018 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 14756 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 19.2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2019 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 14588 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 19.0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2020 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 15564 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 20.3 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;å„å¹´ãŠã‚ˆã14,000~16,000ã‚µãƒ³ãƒ—ãƒ«ã»ã©å­˜åœ¨ã™ã‚‹ã‚ˆã†ã§ã™ã€‚å¤§ããªãƒãƒ©ãƒ„ã‚­ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­ã®åˆ†å¸ƒ&#34;&gt;&lt;code&gt;æ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­&lt;/code&gt;ã®åˆ†å¸ƒ&lt;/h3&gt;
&lt;p&gt;ã“ã‚Œã‹ã‚‰äºˆæ¸¬ã‚’è¡Œã†&lt;code&gt;æ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­&lt;/code&gt;ã¯ã©ã®ã‚ˆã†ãªåˆ†å¸ƒã«ãªã£ã¦ã„ã‚‹ã§ã—ã‚‡ã†ã‹ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;sample&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;æ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­ &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;factor&lt;/span&gt;(sample&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;æ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­, levels&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;â—&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;â—‹&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;â–¡&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;â–²&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Ã—&amp;#34;&lt;/span&gt;))
sample &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;group_by&lt;/span&gt;(æ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;summarise&lt;/span&gt;(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;n&lt;/span&gt;()) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;`å‰²åˆ&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;%)`=round(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º/sum(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º)*100, digits=1)) %&amp;gt;% 
&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;  knitr::kable() %&amp;gt;&lt;/span&gt;% 
  kableExtra&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;kable_styling&lt;/span&gt;(bootstrap_options &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;striped&amp;#34;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;table class=&#34;table table-striped&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style=&#34;text-align:left;&#34;&gt; æ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­ &lt;/th&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º &lt;/th&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; å‰²åˆ(%) &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; â— &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 1569 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2.0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; â—‹ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 14370 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 18.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; â–¡ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 34438 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 44.8 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; â–² &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 18642 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 24.3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; Ã— &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 7781 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 10.1 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;æ€ã£ãŸã‚ˆã‚Šã‚­ãƒ¬ã‚¤ãªåˆ†å¸ƒã‚’ã—ã¦ã„ã‚‹å°è±¡ã§ã™ã€‚ã“ã®ã‚µãƒ³ãƒ—ãƒ«æœŸé–“ã§ã¯ã€ã€Œã©ã¡ã‚‰ã¨ã‚‚è¨€ãˆãªã„ã€ãŒæœ€ã‚‚å¤šãã€ã¾ãŸã€æ¯”è¼ƒçš„ã€Œã‚„ã‚„æ‚ªã„ã€ã‚„ã€Œæ‚ªã„ã€ãŒå¤šã„ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ã“ã®ã‚ãŸã‚Šã¯2019å¹´åº¦ä»¥é™ã®ã‚³ãƒ­ãƒŠç¦ã®å½±éŸ¿ã‚’åæ˜ ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€æ–°ãŸã«æ™‚é–“è»¸ã‚’è¿½åŠ ã—ã€ã‚¯ãƒ­ã‚¹é›†è¨ˆã‚’ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;sample &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;group_by&lt;/span&gt;(åŸºæº–å¹´, æ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;tally&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  tidyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;spread&lt;/span&gt;(æ™¯æ°—ã®ç¾çŠ¶åˆ¤æ–­, n) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  knitr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;kable&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  kableExtra&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;kable_styling&lt;/span&gt;(bootstrap_options &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;striped&amp;#34;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;table class=&#34;table table-striped&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; åŸºæº–å¹´ &lt;/th&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; â— &lt;/th&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; â—‹ &lt;/th&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; â–¡ &lt;/th&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; â–² &lt;/th&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; Ã— &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2016 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 235 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2455 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 7546 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 4129 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 803 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2017 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 375 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 4031 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 8681 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 3053 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 584 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2018 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 349 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 3105 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 7340 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 3336 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 626 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2019 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 237 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2050 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 6743 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 4516 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 1042 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2020 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 373 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2729 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 4128 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 3608 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 4726 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ã‚„ã¯ã‚Šã€2019å¹´ä»¥é™ã€Œæ‚ªã„ã€ãŒå¤šãå‡ºç¾ã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ä¸€æ–¹ã§ã€ã€Œã‚„ã‚„æ‚ªã„ã€ã¯ãã‚Œä»¥å‰ã®å¹´ã§ã‚‚æ’å¸¸çš„ã«å¤šã„ã‚ˆã†ã§ã™ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å›ç­”è€…ã®å±æ€§&#34;&gt;å›ç­”è€…ã®å±æ€§&lt;/h3&gt;
&lt;p&gt;æ¬¡ã«å›ç­”è€…ã®å±æ€§ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚å›ç­”è€…ã®å±æ€§ã¯&lt;code&gt;æ¥­ç¨®ãƒ»è·ç¨®&lt;/code&gt;ã‹ã‚‰å–å¾—ã§ãã¾ã™ã€‚ã¾ãšã€ã©ã†ã„ã£ãŸæ¥­ç¨®ãŒå¤šãå›ç­”ã—ã¦ã„ã‚‹ã®ã‹ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚å›ç­”æ•°ä¸Šä½10ç•ªç›®ã¾ã§ã®æ¥­ç¨®ã‚’è¡¨ç¤ºã•ã›ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;sample &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(æ¥­ç¨® &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; stringr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;str_remove&lt;/span&gt;(sample&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;`æ¥­ç¨®ãƒ»è·ç¨®`, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ï¼ˆ.+ï¼‰&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
stringr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;str_remove&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ï¼».+ï¼½&amp;#34;&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;group_by&lt;/span&gt;(æ¥­ç¨®) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;summarise&lt;/span&gt;(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;n&lt;/span&gt;()) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;arrange&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;desc&lt;/span&gt;(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;top_n&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;`å‰²åˆ&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;%)`=round(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º/sum(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º)*100, digits=1)) %&amp;gt;% 
&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;  knitr::kable() %&amp;gt;&lt;/span&gt;% 
  kableExtra&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;kable_styling&lt;/span&gt;(bootstrap_options &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;striped&amp;#34;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;table class=&#34;table table-striped&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style=&#34;text-align:left;&#34;&gt; æ¥­ç¨® &lt;/th&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º &lt;/th&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; å‰²åˆ(%) &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ç™¾è²¨åº— &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 4959 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 15.1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ã‚¹ãƒ¼ãƒ‘ãƒ¼ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 4738 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 14.4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ä¸€èˆ¬å°å£²åº— &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 3851 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 11.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ã‚³ãƒ³ãƒ“ãƒ‹ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 3772 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 11.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ä¹—ç”¨è»Šè²©å£²åº— &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2967 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 9.0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; é€šä¿¡ä¼šç¤¾ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2866 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 8.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; å•†åº—è¡— &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2734 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 8.3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; äººææ´¾é£ä¼šç¤¾ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2700 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 8.2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; è¡£æ–™å“å°‚é–€åº— &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2128 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 6.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; è·æ¥­å®‰å®šæ‰€ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2088 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 6.4 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;å›ç­”æ•°ä¸Šä½ã«ã¯ã€ç™¾è²¨åº—ã‚„ã‚¹ãƒ¼ãƒ‘ãƒ¼ãªã©å°å£²åº—ãŒç›®ç«‹ã¡ã¾ã™ã€‚ã¾ãŸã€è»Šã®ãƒ‡ã‚£ãƒ¼ãƒ©ãƒ¼ã®æ–¹ã‚„äººææ´¾é£ä¼šç¤¾ãªã©ç”Ÿç”£ãƒ»é›‡ç”¨ã«é–¢é€£ã™ã‚‹æ¥­ç¨®ã®å›ç­”è€…ã‚‚å¤šã„ã‚ˆã†ã§ã™ã€‚&lt;/p&gt;
&lt;p&gt;æ¬¡ã«ã€çµŒå–¶è€…ã‚„è·å“¡ãªã©è·ç¨®ã®åˆ†å¸ƒã‚’ç¢ºèªã—ã¾ã™ã€‚ã“ã¡ã‚‰ã‚‚ä¸Šä½10ä½ã¾ã§ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;sample &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(è·ç¨® &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; stringr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;str_extract&lt;/span&gt;(sample&lt;span style=&#34;color:#f92672&#34;&gt;$&lt;/span&gt;`æ¥­ç¨®ãƒ»è·ç¨®`, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ï¼ˆ.+ï¼‰&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  stringr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;str_remove&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ï¼ˆ&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  stringr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;str_remove&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ï¼‰&amp;#34;&lt;/span&gt;)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;group_by&lt;/span&gt;(è·ç¨®) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;summarise&lt;/span&gt;(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;n&lt;/span&gt;()) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;arrange&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;desc&lt;/span&gt;(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;top_n&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;10&lt;/span&gt;, ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
  dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;`å‰²åˆ&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;%)`=round(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º/sum(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º)*100, digits=1)) %&amp;gt;% 
&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;  knitr::kable() %&amp;gt;&lt;/span&gt;% 
  kableExtra&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;kable_styling&lt;/span&gt;(bootstrap_options &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;striped&amp;#34;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;table class=&#34;table table-striped&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style=&#34;text-align:left;&#34;&gt; è·ç¨® &lt;/th&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º &lt;/th&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; å‰²åˆ(%) &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; çµŒå–¶è€… &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 20612 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 40.0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; å–¶æ¥­æ‹…å½“ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 7057 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 13.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; å¾“æ¥­å“¡ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 4371 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 8.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; åº—é•· &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 4343 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 8.4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; NA &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 3145 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 6.1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; è·å“¡ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 3118 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 6.1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ç·å‹™æ‹…å½“ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2930 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 5.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ä»£è¡¨è€… &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2615 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 5.1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ç¤¾å“¡ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 1796 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 3.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; å½¹å“¡ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 1518 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2.9 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;è·ç¨®åˆ¥ã§ã¯çµŒå–¶è€…ãŒãƒ€ãƒ³ãƒˆãƒ„ã§å¤šã„çµæœã¨ãªã‚Šã¾ã—ãŸã€‚ä»£è¡¨è€…ãªã©è¡¨è¨˜æºã‚Œã‚‚ã‚ã‚Šã¾ã™ã®ã§ã€å®Ÿæ…‹ã¯ã‚‚ã†å°‘ã—å¤šã„ã¨æ€ã„ã¾ã™ã€‚æƒ³åƒã§ã¯ã€ç¾å ´ã®è·å“¡ã®æ–¹ã®å›ç­”ãŒå¤šã„ã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒäºˆæƒ³ã¨ã¯ç•°ãªã‚‹çµæœã¨ãªã‚Šã¾ã—ãŸã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ™¯æ°—åˆ¤æ–­ã®ç†ç”±ã®åˆ†å¸ƒ&#34;&gt;&lt;code&gt;(æ™¯æ°—)åˆ¤æ–­ã®ç†ç”±&lt;/code&gt;ã®åˆ†å¸ƒ&lt;/h3&gt;
&lt;p&gt;æ¬¡ã«&lt;code&gt;(æ™¯æ°—)åˆ¤æ–­ã®ç†ç”±&lt;/code&gt;ã®åˆ†å¸ƒã‚’è¦‹ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;results &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; sample &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
            dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;group_by&lt;/span&gt;(åˆ¤æ–­ã®ç†ç”±) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
            dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;summarise&lt;/span&gt;(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;n&lt;/span&gt;()) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
            dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;arrange&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;desc&lt;/span&gt;(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; 
            dplyr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;`å‰²åˆ&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;%)`=round(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º/sum(ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º)*100, digits=1))
&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;            
&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;results %&amp;gt;% 
&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;  knitr::kable() %&amp;gt;&lt;/span&gt;% 
  kableExtra&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;kable_styling&lt;/span&gt;(bootstrap_options &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;striped&amp;#34;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;table class=&#34;table table-striped&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style=&#34;text-align:left;&#34;&gt; åˆ¤æ–­ã®ç†ç”± &lt;/th&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º &lt;/th&gt;
   &lt;th style=&#34;text-align:right;&#34;&gt; å‰²åˆ(%) &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; æ¥å®¢æ•°ã®å‹•ã &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 17432 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 22.7 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; è²©å£²é‡ã®å‹•ã &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 16153 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 21.0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ãŠå®¢æ§˜ã®æ§˜å­ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 11511 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 15.0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; å—æ³¨é‡ã‚„è²©å£²é‡ã®å‹•ã &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 9033 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 11.8 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; å–å¼•å…ˆã®æ§˜å­ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 5034 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 6.6 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; æ±‚äººæ•°ã®å‹•ã &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 4155 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 5.4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ãã‚Œä»¥å¤– &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 4007 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 5.2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; å˜ä¾¡ã®å‹•ã &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 3654 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 4.8 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; ç«¶äº‰ç›¸æ‰‹ã®æ§˜å­ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 1603 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 2.1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; å‘¨è¾ºä¼æ¥­ã®æ§˜å­ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 1161 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 1.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; å—æ³¨ä¾¡æ ¼ã‚„è²©å£²ä¾¡æ ¼ã®å‹•ã &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 1099 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 1.4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; æ±‚è·è€…æ•°ã®å‹•ã &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 930 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 1.2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; æ¡ç”¨è€…æ•°ã®å‹•ã &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 666 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 0.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; é›‡ç”¨å½¢æ…‹ã®æ§˜å­ &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 361 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 0.5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style=&#34;text-align:left;&#34;&gt; è²©å£²é‡ã®å‹•ã &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 1 &lt;/td&gt;
   &lt;td style=&#34;text-align:right;&#34;&gt; 0.0 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ã€Œæ¥å®¢æ•°ã®å‹•ãã€ã¨ã€Œè²©å£²é‡ã®å‹•ãã€ãŒå¤šãã€ã€ŒãŠå®¢æ§˜ã®æ§˜å­ã€ã‚„ã€Œå—æ³¨é‡ã‚„è²©å£²é‡ã®å‹•ãã€ã¾ã§å«ã‚ã‚‹ã¨7å‰²ã‚’å ã‚ã¾ã™ã€‚å›ç­”æ¥­ç¨®ã«å°å£²åº—ãŒå¤šã„ã“ã¨ã‹ã‚‰ã€ã“ã®ã‚ˆã†ãªé …ç›®ãŒä¸Šä½ã«ãã¦ã„ã‚‹ã®ã ã¨æ¨å¯Ÿã•ã‚Œã¾ã™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;4-çµ‚ã‚ã‚Šã«&#34;&gt;4. çµ‚ã‚ã‚Šã«&lt;/h2&gt;
&lt;p&gt;ã“ã‚Œã‹ã‚‰å„å›ã§ä»¥ä¸‹ã®æ‰‹æ³•ã‚’ç”¨ã„ãŸäºˆæ¸¬ãƒ¢ãƒ‡ãƒ«ã®æ§‹ç¯‰ã‚’è¡Œã£ã¦ã„ãã¾ã™ã€‚æ¬¡å›ã¯ã€è¾æ›¸ãƒ™ãƒ¼ã‚¹ã«åŸºã¥ãã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã®æŠ½å‡ºã‚’è¡Œã„ã€æ–‡æ›¸ã®ãƒã‚¸ãƒã‚¬åˆ†é¡ã‚’è¡Œã„ã¾ã™ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¾æ›¸ãƒ™ãƒ¼ã‚¹&lt;/li&gt;
&lt;li&gt;ãƒŠã‚¤ãƒ¼ãƒ–ãƒ™ã‚¤ã‚ºåˆ†é¡å™¨&lt;/li&gt;
&lt;li&gt;å˜èªåŸ‹ã‚è¾¼ã¿(Word Embedding)ã‚’ç”¨ã„ãŸæ–¹æ³•&lt;/li&gt;
&lt;li&gt;Recurrent neural network(RNN)&lt;/li&gt;
&lt;li&gt;Transformer&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å®Ÿã¯ã€è§£æè‡ªä½“ã¯å…¨ã¦å®Œäº†ã—ã¦ãŠã‚Šã€æ–‡æ›¸ã‚’æ›¸ãã ã‘ã®ãƒ•ã‚§ãƒ¼ã‚ºã«ãªã£ã¦ã„ã¾ã™ã€‚ã¡ã‚ƒã‚“ã¨çµæœã‚‚å‡ºã¦ã„ã¾ã™ã®ã§ã€ä¹ã†ã”æœŸå¾…ã§ã™ï¼&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Pytorchã®Pre-trainedãƒ¢ãƒ‡ãƒ«ã§é¦¬ä½“å†™çœŸã®èƒŒæ™¯ã‚’è‡ªå‹•ãƒˆãƒªãƒŸãƒ³ã‚°ã™ã‚‹</title>
      <link>/post/post20/</link>
      <pubDate>Wed, 12 Aug 2020 00:00:00 +0000</pubDate>
      <guid>/post/post20/</guid>
      <description>&lt;p&gt;ãŠã¯ã“ã‚“ã°ã‚“ã«ã¡ã¯ã€‚å‰å›ã€ç«¶èµ°é¦¬ã®é¦¬ä½“å†™çœŸã‹ã‚‰CNNã‚’ç”¨ã„ã¦é †ä½ã‚’äºˆæƒ³ã™ã‚‹ãƒ¢ãƒ‡ãƒ«ã‚’æ§‹ç¯‰ã—ã¾ã—ãŸã€‚çµæœã¯èŠ³ã—ããªãã€ç‰¹ã«&lt;code&gt;shap&lt;/code&gt;å€¤ã‚’ç”¨ã„ãŸè¦å› åˆ†æã‚’è¡Œã†ã¨é¦¬ä½“ã‚ˆã‚Šã‚‚èƒŒæ™¯ã®å©èˆã«åå¿œã—ã¦ã„ã‚‹æ§˜å­ãŒè¦‹ãˆãŸã‚Šã¨åˆ†æã®ç²¾ç·»åŒ–ãŒå¿…è¦ã¨ãªã‚Šã¾ã—ãŸã€‚ä»Šå›ã¯&lt;code&gt;Pytorch&lt;/code&gt;ã®Pre-trainedãƒ¢ãƒ‡ãƒ«ã‚’ç”¨ã„ã¦é¦¬ä½“å†™çœŸã‹ã‚‰èƒŒæ™¯ã‚’åˆ‡ã‚Šå‡ºã—ã€é¦¬ä½“ã®ã¿ã¨ãªã£ãŸå†™çœŸã§å†åˆ†æã‚’è¡Œã„ãŸã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;1-pre-trainedãƒ¢ãƒ‡ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰&#34;&gt;1. Pre-trainedãƒ¢ãƒ‡ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰&lt;/h2&gt;
&lt;p&gt;ã‚³ãƒ¼ãƒ‰ã¯&lt;a href=&#34;https://pytorch.org/hub/pytorch_vision_deeplabv3_resnet101/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ã“ã¡ã‚‰&lt;/a&gt;ã®ã‚‚ã®ã‚’å‚è€ƒã«ã—ã¦ã„ã¾ã™ã€‚ã¾ãšã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; numpy &lt;span style=&#34;color:#f92672&#34;&gt;as&lt;/span&gt; np
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; cv2
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; matplotlib.pyplot &lt;span style=&#34;color:#f92672&#34;&gt;as&lt;/span&gt; plt
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; torch
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; torchvision
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; torchvision &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; transforms
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; glob
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; PIL &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; Image
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; PIL
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; os
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å­¦ç¿’æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’è¡Œã„ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#å­¦ç¿’æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&lt;/span&gt;
device &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; torch&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;device(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cuda:0&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; torch&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;cuda&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;is_available() &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cpu&amp;#34;&lt;/span&gt;)
model &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; torchvision&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;models&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;segmentation&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;deeplabv3_resnet101(pretrained&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;True)
model &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;to(device)
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;eval()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ã©ã†ã‚„ã‚‰å…¨ã¦ã®Pre-trainedãƒ¢ãƒ‡ãƒ«ã¯ã€åŒã˜æ–¹æ³•ã§æ­£è¦åŒ–ã•ã‚ŒãŸå½¢çŠ¶$ï¼ˆN, 3, H, Wï¼‰$ã®3ãƒãƒ£ãƒ³ãƒãƒ«RGBç”»åƒã®ãƒŸãƒ‹ãƒãƒƒãƒã‚’æƒ³å®šã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚ã“ã“ã§$N$ã¯ç”»åƒã®æ•°ã€$H$ã¨$W$ã¯å°‘ãªãã¨ã‚‚224ãƒ”ã‚¯ã‚»ãƒ«ã§ã‚ã‚‹ã“ã¨ãŒæƒ³å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ç”»åƒã¯ã€[0, 1]ã®ç¯„å›²ã«ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã•ã‚Œã€ãã®å¾Œã€å¹³å‡å€¤ï¼[0.485, 0.456, 0.406]ã¨æ¨™æº–å€¤ï¼[0.229, 0.224, 0.225]ã‚’ä½¿ç”¨ã—ã¦æ­£è¦åŒ–ã•ã‚Œã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã¨ã„ã†ã“ã¨ã§ã€å‰å‡¦ç†ã‚’è¡Œã†é–¢æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#å‰å‡¦ç†&lt;/span&gt;
preprocess &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; transforms&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Compose([
    transforms&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;ToTensor(),
    transforms&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Normalize(mean&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;0.485&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.456&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.406&lt;/span&gt;], std&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;[&lt;span style=&#34;color:#ae81ff&#34;&gt;0.229&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.224&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.225&lt;/span&gt;]),
])
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;2-èƒŒæ™¯å‰Šé™¤å‡¦ç†ã®å®Ÿè¡Œ&#34;&gt;2. èƒŒæ™¯å‰Šé™¤å‡¦ç†ã®å®Ÿè¡Œ&lt;/h2&gt;
&lt;p&gt;ã§ã¯ã€å‰å›è¨˜äº‹ã®&lt;code&gt;selenium&lt;/code&gt;ã‚’ç”¨ã„ãŸã‚³ãƒ¼ãƒ‰ã§åé›†ã—ãŸç”»åƒã‚’èª­ã¿è¾¼ã¿ã€1æš1æšèƒŒæ™¯å‰Šé™¤å‡¦ç†ã‚’è¡Œã£ã¦ã„ãã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#ãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®š&lt;/span&gt;
folders &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; os&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;listdir(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;C:\Users\aashi\umanalytics\photo\image&amp;#34;&lt;/span&gt;)

&lt;span style=&#34;color:#75715e&#34;&gt;#ãã‚Œãã‚Œã®ãƒ•ã‚©ãƒ«ãƒ€ã‹ã‚‰ç”»åƒã‚’èª­ã¿è¾¼ã¿ã€Imageé–¢æ•°ã‚’ä½¿ç”¨ã—ã¦RGBå€¤ãƒ™ã‚¯ãƒˆãƒ«(numpy array)ã¸å¤‰æ›&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; i, folder &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; enumerate(folders):
  files &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; glob&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;glob(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;C:/Users/aashi/umanalytics/photo/image/&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; folder &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/*.jpg&amp;#34;&lt;/span&gt;)
  index &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; i
  &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; k, file &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; enumerate(files):
    img_array &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fromfile(file, dtype&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;uint8)
    img &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cv2&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;imdecode(img_array, cv2&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;IMREAD_COLOR)
    h,w,_ &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; img&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;shape
    input_tensor &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; preprocess(img)
    input_batch &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; input_tensor&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;unsqueeze(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;to(device)

    &lt;span style=&#34;color:#66d9ef&#34;&gt;with&lt;/span&gt; torch&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;no_grad():
      output &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; model(input_batch)[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;out&amp;#39;&lt;/span&gt;][&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]
    output_predictions &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; output&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;argmax(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
    mask_array &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; output_predictions&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;byte()&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;cpu()&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;numpy()
    Image&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fromarray(mask_array&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;255&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;save(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;C:\Users\aashi\umanalytics\photo\image\mask.jpg&amp;#39;&lt;/span&gt;)
    mask &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cv2&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;imread(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;C:\Users\aashi\umanalytics\photo\image\mask.jpg&amp;#39;&lt;/span&gt;)
    bg &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;full_like(img,&lt;span style=&#34;color:#ae81ff&#34;&gt;255&lt;/span&gt;)
    img &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cv2&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;multiply(img&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;astype(float), mask&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;astype(float)&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;255&lt;/span&gt;)
    bg &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cv2&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;multiply(bg&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;astype(float), &lt;span style=&#34;color:#ae81ff&#34;&gt;1.0&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; mask&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;astype(float)&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;255&lt;/span&gt;)
    outImage &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cv2&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(img, bg)
    Image&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fromarray(outImage&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;astype(np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;uint8))&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;convert(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;L&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;save(file)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¡Œã£ã¦ã„ã‚‹å‡¦ç†ã¯Pre-trainedãƒ¢ãƒ‡ãƒ«ã§ä»¥ä¸‹ã®ã‚ˆã†ãª&lt;code&gt;mask&lt;/code&gt;ç”»åƒã‚’å‡ºåŠ›ã—ã€å®Ÿéš›ã®ç”»åƒã®&lt;code&gt;numpy&lt;/code&gt;é…åˆ—ã¨&lt;code&gt;mask&lt;/code&gt;ç”»åƒã‚’çµ±åˆã—ã¦ã€èƒŒæ™¯å‰Šé™¤ç”»åƒã‚’ç”Ÿæˆã—ã¦ã„ã¾ã™ã€‚å‡ºåŠ›ä¾‹ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã§ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;gray()
plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;figure(figsize&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;))
plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;subplot(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;imshow(img)
plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;subplot(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)
plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;imshow(mask)
plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;subplot(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)
plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;imshow(outImage)
plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;show()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;../../post/post20/index_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;1920&#34; /&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;close()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ãƒ•ã‚©ãƒ«ãƒ€ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚ã†ã¾ãå‡¦ç†ã§ãã¦ã„ã‚‹ã‚‚ã®ã‚‚ã‚ã‚Œã°èª¿æ•™å¸«ã®æ–¹ãŒæ˜ ã£ã¦ã—ã¾ã£ã¦ã„ã‚‹ã®ã‚‚ã‚ã‚Šã¾ã™ã­ã€‚ç‰©ä½“ã‚’è­˜åˆ¥ã—ã¦ã€é¦¬ã ã‘ã‚’&lt;code&gt;mask&lt;/code&gt;ã™ã‚‹æ–¹æ³•ã‚‚ã‚ã‚‹ã¨ã¯æ€ã„ã¾ã™ãŒã“ã®ãƒ¢ãƒ‡ãƒ«ã§ã¯ç‰©ä½“ã®ãƒ©ãƒ™ãƒªãƒ³ã‚°ã¾ã§ã¯ã§ããªã„ã®ã§ã“ã®ã¾ã¾é€²ã¿ã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;maskhorse.PNG&#34; alt=&#34;ãƒ•ã‚©ãƒ«ãƒ€&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;3-cnnã‚’ç”¨ã„ãŸåˆ†æ&#34;&gt;3. CNNã‚’ç”¨ã„ãŸåˆ†æ&lt;/h2&gt;
&lt;p&gt;ã“ã“ã‹ã‚‰ã¯å‰å›è¨˜äº‹ã¨åŒã˜å†…å®¹ã§ã™ã€‚çµæœã®ã¿æ²è¼‰ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## Test accuracy: 0.711864406779661
&lt;/code&gt;&lt;/pre&gt;&lt;pre&gt;&lt;code&gt;## &amp;lt;sklearn.metrics._plot.confusion_matrix.ConfusionMatrixDisplay object at 0x000000003694DFC8&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src=&#34;../../post/post20/index_files/figure-html/unnamed-chunk-9-3.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ•£ã€…ãªçµæœã«ãªã‚Šã¾ã—ãŸã€‚
ã¾ã£ãŸãè­˜åˆ¥ã§ãã¦ã„ã¾ã›ã‚“ã€‚é¦¬ä½“å†™çœŸã«ã¯é †ä½ã‚’äºˆæ¸¬ã™ã‚‹ã‚ˆã†ãªç‰¹å¾´é‡ã¯ãªã„ã‚“ã§ã—ã‚‡ã†ã‹ã€‚ãã‚Œã¨ã‚‚G1ã®å‡ºèµ°é¦¬ã§ã¯ãƒãƒ©ãƒ„ã‚­ãŒãªãã€è­˜åˆ¥ä¸å¯èƒ½ãªã®ã§ã—ã‚‡ã†ã‹ã€‚ã„ãšã‚Œã„ã«ã›ã‚ˆã€ã¡ã‚‡ã£ã¨å³ã—ãã†ã§ã™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;4-shapå€¤ã‚’ç”¨ã„ãŸçµæœè§£é‡ˆ&#34;&gt;4. Shapå€¤ã‚’ç”¨ã„ãŸçµæœè§£é‡ˆ&lt;/h2&gt;
&lt;p&gt;å‰å›åŒæ§˜ã€ã©ã®ã‚ˆã†ã«å¤±æ•—ã—ãŸã®ã‹&lt;code&gt;shap&lt;/code&gt;å€¤ã‚’ä½¿ã£ã¦æ¤œè¨¼ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã“ã®ç”»åƒã‚’ä¾‹ã¨ã—ã¦ä½¿ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;imshow(X_test[&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;])
plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;show()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;../../post/post20/index_files/figure-html/unnamed-chunk-10-5.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;close()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; shap
background &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; X_resampled[np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;random&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;choice(X_resampled&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;shape[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;],&lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;,replace&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;False)]

e &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; shap&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;GradientExplainer(model,background)

shap_values &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;shap_values(X_test[[&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;]])
shap&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;image_plot(shap_values[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;],X_test[[&lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt;]])
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;../../post/post20/index_files/figure-html/unnamed-chunk-11-7.png&#34; width=&#34;576&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å‰è¶³ã‹ã‚‰é¡”ã«ã‹ã‘ã¦ã‚’è©•ä¾¡ã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚æ„å¤–ã«è‡€éƒ¨ã‚’è©•ä¾¡ã—ã¦ã„ã‚‹æ§˜å­ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚&lt;/p&gt;
&lt;h2 id=&#34;5ã¾ã¨ã‚&#34;&gt;5.ã¾ã¨ã‚&lt;/h2&gt;
&lt;p&gt;å©èˆèƒŒæ™¯ã‚’å‰Šé™¤ã—ã€å†å®Ÿè¡Œã—ã¦ã¿ã¾ã—ãŸãŒçµæœå¤‰ã‚ã‚‰ãšã§ã—ãŸã€‚PyTorchã‚’ä½¿ã£ãŸã‚Šã€èƒŒæ™¯å‰Šé™¤ã‚’è¡Œã†ã„ã„çµŒé¨“ã«ã¯ãªã‚Šã¾ã—ãŸãŒçµæœã¯ä¼´ã‚ãšã¨ã„ã†ã“ã¨ã§é¦¬ä½“å†™çœŸã¯ã„ã£ãŸã‚“ã“ã“ã§ã‚¹ãƒˆãƒƒãƒ—ã§ã™ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ãã®ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆæœ¬å½“ã«å†ç¾æ€§ã‚ã‚Šã¾ã™ã‹ï¼Ÿ</title>
      <link>/post/post19/</link>
      <pubDate>Wed, 08 Jul 2020 00:00:00 +0000</pubDate>
      <guid>/post/post19/</guid>
      <description>&lt;h2 id=&#34;1-ä»Šå›ã®ãƒ†ãƒ¼ãƒãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã¨ã¯&#34;&gt;1. ä»Šå›ã®ãƒ†ãƒ¼ãƒã€Œãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã€ã¨ã¯ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã¯ã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã‚ˆã‚‹æŠ•è³‡æˆ¦ç•¥ã®ãƒ’ã‚¹ãƒˆãƒªã‚«ãƒ«ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã¯ã€ç«‹æ¡ˆã—ãŸæŠ•è³‡æˆ¦ç•¥ãŒã‚ã‚‹æœŸé–“ã«ã‚ãŸã£ã¦å®Ÿè¡Œã•ã‚Œã¦ã„ãŸå ´åˆã«ç™ºç”Ÿã—ãŸã§ã‚ã‚ã†åˆ©ç›Šã¨æå¤±ã‚’ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ç”¨ã„ã¦è¨ˆç®—ã—ã¾ã™ã€‚ãã®éš›ã€ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã‚„ã‚¤ãƒ³ãƒ•ã‚©ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ã‚·ã‚ªãªã©ã®æŠ•è³‡æˆ¦ç•¥ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è©•ä¾¡ã™ã‚‹ä¸€èˆ¬çš„ãªçµ±è¨ˆé‡ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚æŠ•è³‡å®¶ã¯é€šå¸¸ã€ã“ã‚Œã‚‰ã®ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã®çµ±è¨ˆé‡ã‚’èª¿æŸ»ã—ã€æœ€é«˜ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç™ºæ®ã™ã‚‹æŠ•è³‡(é‹ç”¨)æˆ¦ç•¥ã«è³‡ç”£é…åˆ†ã‚’æ±ºå®šã™ã‚‹ãŸã‚ã€è³‡ç”£é‹ç”¨ä¼šç¤¾ã¯è‰¯å¥½ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è¡€ã®ã«ã˜ã‚€ã‚ˆã†ãªå›æ•°ã®ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚’è©¦è¡ŒéŒ¯èª¤ã—ã€è³‡æ–™ã‚’ä½œã£ã¦ãƒ—ãƒ¬ã‚¼ãƒ³ã—ãŸã‚Šã™ã‚‹ã‚ã‘ã§ã™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://stat.ameba.jp/user_images/20190212/22/nash210/51/5f/j/o0705061514355131242.jpg&#34; alt=&#34;3å€3åˆ†æ³•ã®ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆ&#34;&gt;&lt;/p&gt;
&lt;p&gt;æŠ•è³‡å®¶ã®ç«‹å ´ã«ç«‹ã¤ãªã‚‰ã€ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã•ã‚ŒãŸæŠ•è³‡æˆ¦ç•¥ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ã¤ã„ã¦ã¯ã€ã‚¤ãƒ³ã‚µãƒ³ãƒ—ãƒ«(IS)ã¨ã‚¢ã‚¦ãƒˆã‚ªãƒ–ã‚µãƒ³ãƒ—ãƒ«(OOS)ã‚’åŒºåˆ¥ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚ISã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯ã€æŠ•è³‡æˆ¦ç•¥ã®è¨­è¨ˆã«ä½¿ç”¨ã—ãŸã‚µãƒ³ãƒ—ãƒ«ï¼ˆæ©Ÿæ¢°å­¦ç¿’ã®æ–‡çŒ®ã§ã¯ã€Œå­¦ç¿’æœŸé–“ã€ã‚„ã€Œè¨“ç·´ã‚»ãƒƒãƒˆã€ã¨å‘¼ã°ã‚Œã‚‹ç‰©ã§ã™ï¼‰ã§ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ãŸã‚‚ã®ã§ã™ã€‚ä¸€æ–¹ã€OOSãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯ã€æŠ•è³‡æˆ¦ç•¥ã®è¨­è¨ˆã«ä½¿ç”¨ã•ã‚Œãªã‹ã£ãŸã‚µãƒ³ãƒ—ãƒ«ï¼ˆåˆ¥åã€Œãƒ†ã‚¹ãƒˆã‚»ãƒƒãƒˆã€ï¼‰ã§ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã•ã‚ŒãŸã‚‚ã®ã§ã™ã€‚ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã¯ã€ãã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æŒã£ã¦ãã®æŠ•è³‡æˆ¦ç•¥ã®æœ‰åŠ¹æ€§ã‚’å ã†ç‰©ã§ã™ã®ã§ã€ISã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒOOSã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ä¸€è‡´ã—ã¦ã„ã‚‹å ´åˆã«å†ç¾æ€§ãŒæ‹…ä¿ã•ã‚Œã€ç¾å®Ÿçš„ã§ã‚ã‚‹ã¨ã„ã†ã“ã¨ãŒã§ãã¾ã™ã€‚ãŸã ã€ã‚¢ã‚¦ãƒˆã‚µãƒ³ãƒ—ãƒ«ã®çµæœã¯ã“ã‚Œã‹ã‚‰ã®çµæœã§ã‚ã‚‹ã®ã§ã€ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚’å—ã‘å–ã£ãŸæ™‚ç‚¹ã§ãã®ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆãŒä¿¡é ¼ã«è¶³ã‚‹ã‚‚ã®ã‹åˆ¤æ–­ã™ã‚‹ã“ã¨ã¯é›£ã—ã„ã§ã™ã€‚hold-outæ³•ãªã©ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã¨ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’åˆ†ã‘ã€OOSã§ã®ãƒ†ã‚¹ãƒˆã‚’è¡Œã£ã¦ã„ã‚‹ã‚‚ã®ã‚‚ã‚ã‚Šã¾ã™ãŒã€OOSã®çµæœã‚’ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã—ã¦æˆ¦ç•¥ã®æ”¹å–„ãŒã§ãã‚‹ä»¥ä¸Šã€ç´”ç²‹ãªã‚¢ã‚¦ãƒˆã‚µãƒ³ãƒ—ãƒ«ã¨ã¯å‘¼ã¹ã¾ã›ã‚“ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://www.triton.biz/blog1/wp-content/uploads/2018/04/pic001.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;ã§ã™ã®ã§ã€ãƒ•ã‚¡ãƒ³ãƒ‰ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‹ã‚‰è‰¯ã„çµæœã®ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚’å—ã‘å–ã£ãŸå ´åˆã€ãã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒã©ã‚Œã ã‘ç¾å®Ÿçš„ã§ã‚ã‚‹ã‹ã‚’ãªã‚“ã¨ã‹ã—ã¦è©•ä¾¡ã™ã‚‹ã“ã¨ãŒéå¸¸ã«é‡è¦ã¨ãªã‚Šã¾ã™ã€‚ã¾ãŸã€ãƒ•ã‚¡ãƒ³ãƒ‰ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚‚è‡ªèº«ã®ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆçµæœãŒæŒã¤ä¸ç¢ºå®Ÿæ€§ã‚’ç†è§£ã—ã¦ãŠãã“ã¨ãŒé‡è¦ã§ã™ã€‚ä»Šå›ã¯ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¾å®Ÿæ€§ã‚’ã©ã®ã‚ˆã†ã«ã—ã¦è©•ä¾¡ã™ã‚‹ã®ã‹ã€å†ç¾æ€§ã®ã‚ã‚‹ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚’è¡Œã†ãŸã‚ã«ã¯ä½•ã«æ³¨æ„ã™ã‚Œã°è‰¯ã„ã®ã‹ã‚’èª¿ã¹ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã¯ã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒƒãƒˆã™ã‚‹&#34;&gt;2. ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã¯ã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒƒãƒˆã™ã‚‹&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2308659&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Bailey, Borwein, LÃ³pez de Prado and Zhu(2015)&lt;/a&gt;ã¯ã€ã©ã®ã‚ˆã†ãªé‡‘èæ™‚ç³»åˆ—ã§ã‚‚ã€ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒƒãƒˆ(éå­¦ç¿’)ã•ã›ã‚‹ã“ã¨ãŒ(æ¯”è¼ƒçš„)ç°¡å˜ã«ã§ãã‚‹ã¨ä¸»å¼µã—ã¦ã„ã¾ã™ã€‚ã“ã“ã§ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒƒãƒˆã¨ã¯ã€æ©Ÿæ¢°å­¦ç¿’ã®æ¦‚å¿µã§ã‚ã‚Šï¼Œãƒ¢ãƒ‡ãƒ«ãŒä¸€èˆ¬çš„ãªæ§‹é€ ã‚ˆã‚Šã‚‚ç‰¹å®šã®è¦³å¯Ÿãƒ‡ãƒ¼ã‚¿(ISãƒ‡ãƒ¼ã‚¿)ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ã¦ã—ã¾ã†çŠ¶æ³ã‚’è¡¨ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;Bailey et. al.(2015)ã§ã¯ã€ã“ã®ä¸»å¼µã®ä¸€ä¾‹ã¨ã—ã¦æ ªå¼æˆ¦ç•¥ã®ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆçµæœãŒèŠ³ã—ããªã„çŠ¶æ³ãŒæŒ™ã’ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã§ã¯ãã®åã®é€šã‚Šéå»ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã®ã§ã€å…·ä½“çš„ã«æå¤±ãŒç™ºç”Ÿã—ã¦ã„ã‚‹éŠ˜æŸ„ã‚’ç‰¹å®šã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã€ãã®éŠ˜æŸ„ã®æ¨å¥¨ã‚’å‰Šé™¤ã™ã‚‹ãŸã‚ã«ã„ãã¤ã‹ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¿½åŠ ã—ã€å–å¼•ã‚·ã‚¹ãƒ†ãƒ ã‚’è¨­è¨ˆã™ã‚‹ã“ã¨ã§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ã‚ã‘ã§ã™ï¼ˆã€Œãƒ‡ãƒ¼ã‚¿ãƒ»ã‚¹ãƒŒãƒ¼ãƒ”ãƒ³ã‚°ã€ã¨ã—ã¦çŸ¥ã‚‰ã‚Œã¦ã„ã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ï¼‰ã€‚æ•°å›ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç¹°ã‚Šè¿”ãˆã›ã°ã€ç‰¹å®šã®ã‚µãƒ³ãƒ—ãƒ«ã«å­˜åœ¨ã™ã‚‹ãŒã€æ¯é›†å›£ã®ä¸­ã§ã¯ç¨€ã§ã‚ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ç‰¹å¾´ã‹ã‚‰åˆ©ç›Šã‚’å¾—ã‚‹ã€Œæœ€é©ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ã‚’å°ãã“ã¨ãŒã§ãã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;æ©Ÿæ¢°å­¦ç¿’ã®æ–‡çŒ®ã§ã¯ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°ã®å•é¡Œã‚’å¯¾å‡¦ã™ã‚‹ãŸã‚ã®è†¨å¤§ãªç ”ç©¶ã®è“„ç©ãŒã‚ã‚Šã¾ã™ã€‚ã§ã™ãŒã€Bailey et. al.(2015)ã¯ã€æ©Ÿæ¢°å­¦ç¿’ã®æ–‡è„ˆã§ææ¡ˆã•ã‚Œã¦ã„ã‚‹æ‰‹æ³•ã¯ä¸€èˆ¬çš„ã«è¤‡æ•°ã®æŠ•è³‡å•é¡Œã«ã¯é©ç”¨ã§ããªã„ã¨ä¸»å¼µã—ã¾ã™ã€‚ãã®ç†ç”±ã¯ä»¥ä¸‹4ç‚¹ã®ã‚ˆã†ã§ã™ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ©Ÿæ¢°å­¦ç¿’ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°ã‚’é˜²ãæ‰‹æ³•ã¯ã€äºˆæ¸¬ã®èª¬æ˜åŠ›ã‚„è³ªã‚’è©•ä¾¡ã™ã‚‹ãŸã‚ã«ã€ãã®äº‹è±¡ãŒå®šç¾©ã•ã‚Œã‚‹é ˜åŸŸã«ãŠã„ã¦æ˜ç¤ºçš„ãªç‚¹æ¨å®šã¨ä¿¡é ¼åŒºé–“ã‚’å¿…è¦ã¨ã—ã¾ã™ãŒã€ã“ã®ã‚ˆã†ãªæ˜ç¢ºãªäºˆæ¸¬ã‚’è¡Œã†æŠ•è³‡æˆ¦ç•¥ã¯ã»ã¨ã‚“ã©ãªã„ãŸã‚ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¾‹ãˆã°ã€ã€ŒE-mini S&amp;amp;P500ã¯ã€é‡‘æ›œæ—¥ã®çµ‚å€¤ã§1æ¨™æº–åå·®5ãƒã‚¤ãƒ³ãƒˆã§1,600å‰å¾Œã«ãªã‚‹ã¨äºˆæ¸¬ã•ã‚Œã¦ã„ã¾ã™ã€ã¨ã¯ã‚ã¾ã‚Šè¨€ã‚ã‚Œãšã€ã‚€ã—ã‚ã€Œè²·ã„ã€ã¾ãŸã¯ã€Œå¼·ã„è²·ã„ã€ã¨ã„ã£ãŸå®šæ€§çš„ãªæ¨å¥¨ãŒæä¾›ã•ã‚Œã‚‹ã“ã¨ãŒä¸€èˆ¬çš„ã§ã™ã€‚ã—ã‹ã‚‚ã€ã“ã®äºˆæƒ³ã¯äºˆæ¸¬ã®æœ‰åŠ¹æœŸé™ã‚‚æ˜ç¤ºã•ã‚Œãšã€ãªã«ã‹äºˆæœŸã›ã¬äº‹è±¡ãŒç™ºç”Ÿã—ãŸéš›ã«å¤‰æ›´ãŒãªã•ã‚Œã¾ã™ã€‚ä¸€æ–¹ã€å®šé‡äºˆæ¸¬ã§ã¯é‡‘æ›œæ—¥ã®çµ‚å€¤ã¨æ˜è¨˜ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»®ã«ç‰¹å®šã®æŠ•è³‡æˆ¦ç•¥ãŒäºˆæ¸¬å¼ã«ä¾å­˜ã—ã¦ã„ãŸã¨ã—ã¦ã‚‚ã€æŠ•è³‡æˆ¦ç•¥ã®ä»–ã®æ§‹æˆè¦ç´ ãŒã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒƒãƒˆã•ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¨€ã„æ›ãˆã‚Œã°ã€å˜ã«äºˆæ¸¬å¼ã‚’èª¿æ•´ã™ã‚‹ä»¥å¤–ã«ã‚‚ã€æŠ•è³‡æˆ¦ç•¥ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒƒãƒˆã•ã›ã‚‹æ–¹æ³•ã¯ãŸãã•ã‚“ã‚ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å›å¸°ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒƒãƒˆã®æ–¹æ³•ã¯ãƒ‘ãƒ©ãƒ¡ãƒˆãƒªãƒƒã‚¯ã§ã‚ã‚Šã€é‡‘èã®å ´åˆè¦³å¯Ÿä¸å¯èƒ½ãªãƒ‡ãƒ¼ã‚¿ã«é–¢ã™ã‚‹å¤šãã®ä»®å®šã‚’å«ã‚€ãŸã‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ã„ãã¤ã‹ã®æ‰‹æ³•ã¯è©¦è¡Œå›æ•°ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã¦ã„ãªã„ãŸã‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Bailey et. al.(2015)ã§ã¯ã€ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒæ¯”è¼ƒçš„ä½ã„æŠ•è³‡æˆ¦ç•¥ã‚’ç‰¹å®šã™ã‚‹ãŸã‚ã«ã¯ã€&lt;strong&gt;æ¯”è¼ƒçš„å°‘ãªã„è©¦è¡Œå›æ•°&lt;/strong&gt;ãŒå¿…è¦ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ã“ã“ã§ã®è©¦è¡Œå›æ•°ã¨ã¯è©¦è¡ŒéŒ¯èª¤ã®å›æ•°ã ã¨æ€ã£ã¦ãã ã•ã„ã€‚ã¾ãŸã€è©¦è¡Œå›æ•°ã«å¿œã˜ã¦å¿…è¦ã¨ã•ã‚Œã‚‹ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã®æœŸé–“ã§ã‚ã‚‹&lt;code&gt;the minimum backtest length&lt;/code&gt;ï¼ˆMinBTLï¼‰ã‚’è¨ˆç®—ã—ã¦ã„ã¾ã™ã€‚ã“ã®è«–æ–‡ã§ã¯ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è©•ä¾¡ã™ã‚‹ãŸã‚ã«å¸¸ã«ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªãŒä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ãŒã€ä»–ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™ã«ã‚‚å¿œç”¨ã§ãã‚‹ãã†ã§ã™ã€‚ãã®å†…å®¹ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªãŒå¾“ã†åˆ†å¸ƒã¨ã¯&#34;&gt;3. ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªãŒå¾“ã†åˆ†å¸ƒã¨ã¯&lt;/h2&gt;
&lt;p&gt;MinBTLã‚’å°å‡ºã™ã‚‹ãŸã‚ã«ã€ã¾ãšã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã®(æ¼¸è¿‘)åˆ†å¸ƒã‚’å°å‡ºã—ã¾ã™ã€‚ãã‚‚ãã‚‚ã€æŠ•è³‡æˆ¦ç•¥ã®è¨­è¨ˆã¯ã€é€šå¸¸ã€ç‰¹å®šã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒé‡‘èå¤‰æ•°ã®å°†æ¥å€¤ã‚’äºˆæ¸¬ã™ã‚‹ã®ã«å½¹ç«‹ã¤ã‹ã‚‚ã—ã‚Œãªã„ã¨ã„ã†äº‹å‰çŸ¥è­˜ã¾ãŸã¯ä¿¡å¿µã‹ã‚‰å§‹ã¾ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€ã•ã¾ã–ã¾ãªæº€æœŸã®å‚µåˆ¸ã®é–“ã«ãƒªãƒ¼ãƒ‰ãƒ©ã‚°åŠ¹æœã‚’èªè­˜ã—ã¦ã„ã‚‹å ´åˆã¯ã€ã‚¤ãƒ¼ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ–ãŒä¸Šæ˜‡ã—ãŸå ´åˆã«å‡è¡¡å€¤ã¸ã®å›å¸°ã«è³­ã‘ã‚‹æˆ¦ç•¥ã‚’è¨­è¨ˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®ãƒ¢ãƒ‡ãƒ«ã¯ã€cointegration equationã€ãƒ™ã‚¯ãƒˆãƒ«èª¤å·®è£œæ­£ãƒ¢ãƒ‡ãƒ«ã€ç¢ºç‡å¾®åˆ†æ–¹ç¨‹å¼ã®ã‚·ã‚¹ãƒ†ãƒ ãªã©ã®å½¢ã‚’ã¨ã‚‹ã“ã¨ãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;ã“ã®ã‚ˆã†ãªãƒ¢ãƒ‡ãƒ«æ§‹æˆï¼ˆã¾ãŸã¯è©¦è¡Œï¼‰ã®æ•°ã¯è†¨å¤§ã§ã‚ã‚Šã€ãƒ•ã‚¡ãƒ³ãƒ‰ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã¯å½“ç„¶ã€æˆ¦ç•¥ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æœ€å¤§åŒ–ã™ã‚‹ã‚‚ã®ã‚’é¸æŠã—ãŸã„ã¨è€ƒãˆã€ãã®ãŸã‚ã«ãƒ’ã‚¹ãƒˆãƒªã‚«ãƒ«ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆï¼‰ã‚’è¡Œã„ã¾ã™(å‰è¿°)ã€‚ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã§ã¯ã€æœ€é©ãªã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚ºã€ã‚·ã‚°ãƒŠãƒ«ã®æ›´æ–°é »åº¦ã€ãƒªã‚¹ã‚¯ã‚µã‚¤ã‚¸ãƒ³ã‚°ã€ã‚¹ãƒˆãƒƒãƒ—ãƒ­ã‚¹ã€æœ€å¤§ä¿æœ‰æœŸé–“ãªã©ãªã©ã‚’ä»–ã®å¤‰æ•°ã¨ã®å…¼ã­åˆã„ã®ä¸­ã§è©•ä¾¡ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;ã“ã®è«–æ–‡ä¸­ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è©•ä¾¡ã®å°ºåº¦ã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã‚‹ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã¯ã€éå»ã®ãƒªã‚¿ãƒ¼ãƒ³ã®ã‚µãƒ³ãƒ—ãƒ«ã«åŸºã¥ã„ã¦ã€æˆ¦ç•¥ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è©•ä¾¡ã™ã‚‹çµ±è¨ˆé‡ã§ã€BMã«å¯¾ã™ã‚‹å¹³å‡è¶…éãƒªã‚¿ãƒ¼ãƒ³/æ¨™æº–åå·®(ãƒªã‚¹ã‚¯)ã¨ã—ã¦å®šç¾©ã•ã‚Œã¾ã™ã€‚é€šå¸¸ã«ã¯ã€ã€Œãƒªã‚¹ã‚¯1æ¨™æº–åå·®ã«å¯¾ã™ã‚‹ãƒªã‚¿ãƒ¼ãƒ³ã€ã¨è§£é‡ˆã•ã‚Œã€è³‡ç”£ã‚¯ãƒ©ã‚¹ã«ã‚‚ã‚ˆã‚Šã¾ã™ãŒ1ã‚’ä¸Šå›ã£ã¦ã„ã‚‹ã¨éå¸¸ã«è‰¯ã„æˆ¦ç•¥ã§ã‚ã‚‹ã¨è¦‹ãªã›ã¾ã™ã€‚ä»¥ä¸‹ã§ã¯ã€ã‚ã‚‹æˆ¦ç•¥ã®è¶…éãƒªã‚¿ãƒ¼ãƒ³$r_t$ãŒi.i.d.ã®ç¢ºç‡å¤‰æ•°ã§ã‚ã‚Šã€æ­£è¦åˆ†å¸ƒã«å¾“ã†ã¨ä»®å®šã—ã¾ã™ã€‚ã¤ã¾ã‚Šã€$r_t$ã®åˆ†å¸ƒã¯$r_s(t\neq s)$ã¨ç‹¬ç«‹ã§ã‚ã‚‹ã“ã¨ã‚’ä»®å®šã—ã¦ã„ã¾ã™ã€‚ã‚ã¾ã‚Šç¾å®Ÿçš„ãªä»®å®šã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€‚ã€‚ã€‚&lt;/p&gt;
&lt;p&gt;$$
r_t \sim \mathcal{N}(\mu,\sigma^2)
$$
ã“ã“ã§ã€$\mathcal{N}$ã¯å¹³å‡$\mu$ã€åˆ†æ•£$\sigma^2$ã®æ­£è¦åˆ†å¸ƒã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚ä»Šã€æ™‚ç‚¹t~t-q+1ã®è¶…éãƒªã‚¿ãƒ¼ãƒ³$r_{t}(q)$ã‚’&lt;/p&gt;
&lt;p&gt;$$
r_{t}(q) \equiv r_{t} + r_{t-1} + &amp;hellip; + r_{t-q+1}
$$
ã¨å®šç¾©ã™ã‚‹ã¨(è¤‡åˆ©éƒ¨åˆ†ã‚’ç„¡è¦–ã—ã¦ã¾ã™)ã€å¹´ç‡åŒ–ã•ã‚ŒãŸã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã¯&lt;/p&gt;
&lt;p&gt;$$
&lt;code&gt;\begin{eqnarray} SR(q) &amp;amp;=&amp;amp; \frac{E[r_{t}(q)]}{\sqrt{Var(r_{t}(q))}}\\ &amp;amp;=&amp;amp; \frac{q\mu}{\sqrt{q}\sigma}\\ &amp;amp;=&amp;amp; \frac{\mu}{\sigma}\sqrt{q} \end{eqnarray}&lt;/code&gt;
$$
ã¨è¡¨ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã“ã§ã€$q$ã¯å¹´æ¯ã®ãƒªã‚¿ãƒ¼ãƒ³ã®æ•°(é »åº¦)ã§ã™ã€‚ä¾‹ãˆã°ã€æ—¥æ¬¡ãƒªã‚¿ãƒ¼ãƒ³ã®å ´åˆ$q=365$ã¨ãªã‚Šã¾ã™(é–å¹´ã‚’é™¤ã)ã€‚
&lt;code&gt;\(\mu\)&lt;/code&gt;ã¨$\sigma$ã¯ä¸€èˆ¬ã«æœªçŸ¥ã§ã™ã®ã§ã€$SR$ã®çœŸå€¤ã‚’çŸ¥ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ãªã®ã§ã€$R_t$ã‚’æ¨™æœ¬ãƒªã‚¿ãƒ¼ãƒ³ã€ãƒªã‚¹ã‚¯ãƒ•ãƒªãƒ¼ãƒ¬ãƒ¼ãƒˆ$R^f$(å®šæ•°)ã¨ã™ã‚‹ã¨ã€æ¨™æœ¬å¹³å‡$\hat{\mu}=1/T\sum_{t=1}^T R_{t}-R^f$ã¨æ¨™æœ¬æ¨™æº–åå·®$\hat{\sigma}=\sqrt{1/T\sum_{t=1}^{T}(R_{t}-\hat{\mu})}$ã‚’ç”¨ã„ã¦ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã®æ¨å®šå€¤ã‚’è¨ˆç®—ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™($T$ã¯ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚’è¡Œã†ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º)ã€‚&lt;/p&gt;
&lt;p&gt;$$
\hat{SR}(q) = \frac{\hat{\mu}}{\hat{\sigma}}\sqrt{q}
$$
å¿…ç„¶çš„ãªçµæœã¨ã—ã¦ã€$SR$ã®è¨ˆç®—ã¯ã‹ãªã‚Šã®æ¨å®šèª¤å·®ãŒä¼´ã†å¯èƒ½æ€§ãŒé«˜ããªã‚Šã¾ã™ã€‚ã§ã¯ã€æœ¬ç¯€ã®æœ¬é¡Œã€$\hat{SR}$ã®æ¼¸è¿‘åˆ†å¸ƒã‚’å°å‡ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã¾ãšã€$\hat{\mu}$ã¨$\hat{\sigma}^2$ã®æ¼¸è¿‘åˆ†å¸ƒã¯i.i.d.ã¨$\mu, \sigma$ãŒæœ‰é™ãªå€¤ã‚’ã¨ã‚‹ã“ã¨ã‹ã‚‰ä¸­å¿ƒæ¥µé™å®šç†ã‚’é©ç”¨ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€&lt;/p&gt;
&lt;p&gt;$$
\sqrt{T}\hat{\mu}\sim^{a}\mathcal{N}(\mu,\sigma^2), \&lt;br&gt;
\sqrt{T}\hat{\sigma}^2\sim^a\mathcal{N}(\sigma^2,2\sigma^4)
$$
ã¨ãªã‚Šã¾ã™ã€‚ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã¯ã“ã®$\hat{\mu}$ã¨$\hat{\sigma}^2$ã‹ã‚‰è¨ˆç®—ã•ã‚Œã‚‹ç¢ºç‡å¤‰æ•°ã§ã‚ã‚‹ã®ã§ã€ã“ã®é–¢æ•°ã‚’$g(\hat{{\boldsymbol \theta}})$ã¨è¡¨ã—ã¾ã—ã‚‡ã†ã€‚ã“ã“ã§ã€$\hat{{\boldsymbol \theta}}=(\hat{\mu},\hat{\sigma}^2)&#39;$ã§ã™ã€‚ä»Šã€i.i.d.ã§ã‚ã‚‹ã®ã§$\hat{{\boldsymbol \theta}}$ã¯äº’ã„ã«ç‹¬ç«‹ã¨ãªã‚Šã€ä¸Šè¨˜ã®è­°è«–ã‹ã‚‰æ¼¸è¿‘åŒæ™‚åˆ†å¸ƒã¯&lt;/p&gt;
&lt;p&gt;$$
\sqrt{T}\hat{{\boldsymbol \theta}} \sim^a \mathcal{N}({\boldsymbol \theta},{\boldsymbol V_{\boldsymbol \theta}})
$$
ã¨æ›¸ã‘ã¾ã™ã€‚ã“ã“ã§ã€${\boldsymbol V_{\boldsymbol \theta}}$ã¯&lt;/p&gt;
&lt;p&gt;$$
{\boldsymbol V_{\boldsymbol \theta}} = \left( 
\begin{array}{cccc}
\sigma^2 &amp;amp; 0\&lt;br&gt;
0 &amp;amp; 2\sigma^4\&lt;br&gt;
\end{array}
\right)
$$
ã§ã™ã€‚ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã®æ¨å®šå€¤ã¯ä»Š$g(\hat{{\boldsymbol \theta}})$ã¨$\hat{{\boldsymbol \theta}}$ã ã‘ã®é–¢æ•°ã«ãªã£ã¦ã„ã¾ã™ã®ã§ãƒ‡ãƒ«ã‚¿æ³•ã‚ˆã‚Šã€&lt;/p&gt;
&lt;p&gt;$$
\hat{SR} = g(\hat{{\boldsymbol \theta}}) \sim^a \mathcal{N}(g({\boldsymbol \theta}),\boldsymbol V_g)
$$
ã¨æ¼¸è¿‘çš„ã«æ­£è¦åˆ†å¸ƒã«å¾“ã„ã¾ã™ã€‚ã“ã“ã§ã€$\boldsymbol V_g$ã¯&lt;/p&gt;
&lt;p&gt;$$
\boldsymbol V_g=\frac{\partial g}{\partial{\boldsymbol \theta}}{\boldsymbol V_{\boldsymbol \theta}}\frac{\partial g}{\partial{\boldsymbol \theta}&#39;}
$$
ã§ã™ã€‚$g({\boldsymbol \theta})=\mu/\sigma$ãªã®ã§ã€&lt;/p&gt;
&lt;p&gt;$$
\frac{\partial g}{\partial{\boldsymbol \theta}&#39;} = \left[ 
\begin{array}{cccc}
\frac{\partial g}{\partial \mu}\&lt;br&gt;
\frac{\partial g}{\partial \sigma^2}\&lt;br&gt;
\end{array}
\right]
= \left[ 
\begin{array}{cccc}
\frac{1}{\sigma}\&lt;br&gt;
-\frac{\mu}{2\sigma^3}\&lt;br&gt;
\end{array}
\right]
$$
ã‚ˆã£ã¦ã€&lt;/p&gt;
&lt;p&gt;$$
&lt;code&gt;\begin{eqnarray} \boldsymbol V_g &amp;amp;=&amp;amp; \left( \begin{array}{cccc} \frac{\partial g}{\partial \mu}, \frac{\partial g}{\partial \sigma}\\ \end{array} \right) \left(  \begin{array}{cccc} \sigma^2 &amp;amp; 0\\ 0 &amp;amp; 2\sigma^4\\ \end{array} \right) \left( \begin{array}{cccc} \frac{\partial g}{\partial \mu}\\ \frac{\partial g}{\partial \sigma}\\ \end{array} \right) \\ &amp;amp;=&amp;amp; \left( \begin{array}{cccc} \frac{\partial g}{\partial \mu}\sigma^2, \frac{\partial g}{\partial \sigma}2\sigma^4\\ \end{array} \right) \left( \begin{array}{cccc} \frac{\partial g}{\partial \mu}\\ \frac{\partial g}{\partial \sigma}\\ \end{array} \right) \\ &amp;amp;=&amp;amp; (\frac{\partial g}{\partial \mu})^2\sigma^2 + (\frac{\partial g}{\partial \sigma})^2\sigma^4 \\ &amp;amp;=&amp;amp; 1 + \frac{\mu^2}{2\sigma^2} \\ &amp;amp;=&amp;amp; 1 + \frac{1}{2}SR^2 \end{eqnarray}&lt;/code&gt;
$$
ã¨å°å‡ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã®çµ¶å¯¾å€¤ãŒå¤§ãããªã‚‹ã»ã©æŒ‡æ•°çš„ã«åˆ†æ•£ãŒå¤§ãããªã‚‹å‚¾å‘ãŒã‚ã‚‹ã®ã§è‰¯ã„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è¦‹ãŸæ™‚ã«ã¯æ³¨æ„ãŒå¿…è¦ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚å¹´ç‡åŒ–ã•ã‚ŒãŸã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã®æ¨å®šå€¤$\hat{SR}(q)$ãŒå¾“ã†åˆ†å¸ƒã¯ã“ã“ã‹ã‚‰&lt;/p&gt;
&lt;p&gt;$$
\hat{SR}(q)\sim^a \mathcal{N}(\sqrt{q}SR,\frac{V(q)}{T}) \&lt;br&gt;
V(q) = q{\boldsymbol V}_g = q(1 + \frac{1}{2}SR^2)
$$
ã¨ãªã‚Šã¾ã™ã€‚ä»Šã€$y$ã‚’ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚’è¡Œã†å¹´æ•°ã¨ã™ã‚‹ã¨$T=yq$ã¨æ›¸ã‘ã€ã“ã‚Œã‚’ç”¨ã„ã¦ä¸Šå¼ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™(æ—¥æ¬¡ãƒªã‚¿ãƒ¼ãƒ³ã§3å¹´è¨ˆæ¸¬ã®å ´åˆã€ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º$T$ã¯$T=3Ã—365=1095$)ã€‚&lt;/p&gt;
&lt;p&gt;$$
\hat{SR}(q)\sim^a \mathcal{N}(\sqrt{q}SR,\frac{1+\frac{1}{2}SR^2}{y}) \tag{1}
$$
é »åº¦$q$ã¯ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã®å¹³å‡ã«ã¯å½±éŸ¿ã—ã¾ã™ãŒåˆ†æ•£ã«ã¯å½±éŸ¿ã‚’åŠã¼ã—ã¾ã›ã‚“ã€‚ã“ã‚Œã§ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã®æ¨å®šå€¤ã®æ¼¸è¿‘åˆ†å¸ƒã‚’å°å‡ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ã•ã¦ã€ã“ã‚Œã‚’ä½¿ã£ã¦ãªã«ã‚’ã—ãŸã‹ã£ãŸã®ã‹ã¨ã„ã†ã“ã¨ã§ã™ãŒã€ç§ãŸã¡ã¯ä»Šãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã®ä¿¡é ¼æ€§ã«ã¤ã„ã¦è€ƒãˆã¦ã„ãŸã®ã§ã—ãŸã€‚ã¤ã¾ã‚Šã€FMãŒæ–°å•†å“ã‚’é–‹ç™ºã™ã‚‹ãŸã‚ã«é ­ã‚’ã²ã­ã£ã¦è€ƒãˆå‡ºã—ãŸ$N$å€‹ã®æŠ•è³‡æˆ¦ç•¥æ¡ˆã®ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚’ã—ãŸéš›ã«ã€ãã‚Œã‚‰ã®ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã®çœŸå€¤ãŒã©ã‚Œã‚‚0ã§ã‚ã‚‹ã«ã‚‚é–¢ã‚ã‚‰ãšã€éå¸¸ã«é«˜ã„(è‰¯ã„)å€¤ãŒå‡ºã‚‹ç¢ºç‡ã¯ã„ã‹ã»ã©ãªã®ã‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚Bailey et. al.(2015)ã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚&lt;/p&gt;
&lt;p&gt;&lt;em&gt;How high is the expected maximum Sharpe ratio IS among a set of strategy configurations where the true Sharpe ratio is zero?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;ã¾ãŸã€æœŸå¾…æœ€å¤§ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã®å€¤ã‚’å°ã•ãã™ã‚‹ãŸã‚ã«ã¯ã€ã„ã£ãŸã„ã©ã‚Œã»ã©ã®æœŸé–“ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚’ã™ã¹ããªã®ã‹ã‚‚çŸ¥ã‚ŠãŸã„ã‚ã‘ã§ã™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;4-the-minimum-backtest-lengthã‚’å°å‡ºã—ã¦ã¿ã‚‹&#34;&gt;4. &lt;code&gt;the minimum backtest length&lt;/code&gt;ã‚’å°å‡ºã—ã¦ã¿ã‚‹&lt;/h2&gt;
&lt;p&gt;ä»Šè€ƒãˆã¦ã„ã‚‹çŠ¶æ³ã¯ã€$\mu=0$ã§$y$ã‚’ç°¡å˜åŒ–ã®ãŸã‚ã«1å¹´ã¨ã™ã‚‹ã¨(1)å¼ã‚ˆã‚Š$\hat{SR}(q)$ã¯æ¨™æº–æ­£è¦åˆ†å¸ƒ$\mathcal{N}(0,1)$ã«å¾“ã„ã¾ã™ã€‚ã•ã¦ã€ä»Šã‹ã‚‰ç§ãŸã¡ã¯$\hat{SR}_n(n=1,2,&amp;hellip;N)$ã®æœ€å¤§å€¤$\max[\hat{SR}]_N$ã®æœŸå¾…å€¤ã«ã¤ã„ã¦è€ƒãˆã¦ã„ãã®ã§ã™ãŒã€å‹˜ã®è‰¯ã„äººãªã‚‰ãŠæ°—ã¥ãã®é€šã‚Šã€è­°è«–ã¯æ¥µå€¤çµ±è¨ˆã®æ–‡è„ˆã«å…¥ã£ã¦ã„ãã“ã¨ã«ãªã‚Šã¾ã™ã€‚$\hat{SR}_n\sim\mathcal{N}(0,1)$ã¯i.i.d.ãªã®ã§ã€ãã®æœ€å¤§çµ±è¨ˆé‡ã®æ¥µå€¤åˆ†å¸ƒã¯Fisher-Tippett-Gnedenkoå®šç†ã‚ˆã‚Šã‚¬ãƒ³ãƒ™ãƒ«åˆ†å¸ƒã«ãªã‚Šã¾ã™(è¨¼æ˜è¿½ãˆã¦ãªã„ã§ã™ã€ã”ã‚ã‚“ãªã•ã„)ã€‚&lt;/p&gt;
&lt;p&gt;$$
\lim_{N\rightarrow\infty}prob[\frac{\max[\hat{SR}]_N-\alpha}{\beta}\leq x] = G(x) = e^{-e^{-x}}
$$
ã“ã“ã§ã€$\alpha=Z(x)^{-1}[1-1/N], \beta=Z(x)^{-1}[1-1/Ne^{-1}]-\alpha$ã§ã€$Z(x)$ã¯æ¨™æº–æ­£è¦åˆ†å¸ƒã®ç´¯ç©åˆ†å¸ƒé–¢æ•°ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚ã‚¬ãƒ³ãƒ™ãƒ«åˆ†å¸ƒã®ãƒ¢ãƒ¼ãƒ¡ãƒ³ãƒˆæ¯é–¢æ•°$M_x(t)$ã¯&lt;/p&gt;
&lt;p&gt;$$
&lt;code&gt;\begin{eqnarray} M_x(t) &amp;amp;=&amp;amp; E[e^{tx}] = \int_{-\infty}^\infty e^{tx}e^{-x}e^{-e^{-x}}dx \\ \end{eqnarray}&lt;/code&gt;
$$
ã¨æ›¸ã‘ã€$x=-\log(y)$ã¨å¤‰æ•°å¤‰æ›ã™ã‚‹ã¨$dx/dy=-1/y=-(e^{-x})^{-1}$ãªã®ã§ã€&lt;/p&gt;
&lt;p&gt;$$
&lt;code&gt;\begin{eqnarray} M_x(t) &amp;amp;=&amp;amp; \int_{\infty}^0-e^{-t\log(y)}e^{-y}dy \\ &amp;amp;=&amp;amp; \int_{0}^\infty y^{-t}e^{-y}dy \\ &amp;amp;=&amp;amp; \Gamma(1-t) \end{eqnarray}&lt;/code&gt;
$$
ã¨ãªã‚Šã¾ã™ã€‚$\Gamma(x)$ã¯ã‚¬ãƒ³ãƒé–¢æ•°ã§ã™ã€‚ã“ã“ã‹ã‚‰ã€æ¨™æº–åŒ–ã•ã‚ŒãŸæœ€å¤§çµ±è¨ˆé‡ã®æœŸå¾…å€¤(å¹³å‡)ã¯&lt;/p&gt;
&lt;p&gt;$$
&lt;code&gt;\begin{eqnarray} \lim_{N\rightarrow\infty} E[\frac{\max[\hat{SR}]_N-\alpha}{\beta}] &amp;amp;=&amp;amp; M_x&#39;(t)|_{t=0} \\ &amp;amp;=&amp;amp; (-1)\Gamma&#39;(1) \\ &amp;amp;=&amp;amp; (-1)(-\gamma) = \gamma \end{eqnarray}&lt;/code&gt;
$$
ã¨ãªã‚Šã¾ã™ã€‚ã“ã“ã§ã€$\gamma\approx0.5772156649&amp;hellip;$ã¯Euler-Mascheroniå®šæ•°ã§ã™ã€‚ã‚ˆã£ã¦ã€$N$ãŒå¤§ãã„ã¨ãã€i.i.d.ã®æ¨™æº–æ­£è¦åˆ†å¸ƒã®æœ€å¤§çµ±è¨ˆé‡ã®æœŸå¾…å€¤ã¯&lt;/p&gt;
&lt;p&gt;$$
E[\max[\hat{SR}]] \approx \alpha + \gamma\beta = (1-\gamma)Z^{-1}[1-\frac{1}{N}]+\gamma Z^{-1}[1-\frac{1}{N}e^{-1}] \tag{2}
$$
ã¨è¿‘ä¼¼ã§ãã¾ã™($N&amp;gt;1$)ã€‚ã“ã‚ŒãŒBailey et. al.(2015)ã®Proposition 1.ã«ãªã‚Šã¾ã™ã€‚$E[\max[\hat{SR}]]$ã‚’æˆ¦ç•¥æ•°(è©¦è¡ŒéŒ¯èª¤æ•°)$N$ã®é–¢æ•°ã¨ã—ã¦ãƒ—ãƒ­ãƒƒãƒˆã—ãŸã®ãŒä»¥ä¸‹ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;library&lt;/span&gt;(ggplot2)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## Warning: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ &#39;ggplot2&#39; ã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 4.1.3 ã® R ã®ä¸‹ã§é€ ã‚‰ã‚Œã¾ã—ãŸ
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;ExMaxSR &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;function&lt;/span&gt;(N){
  gamma_ct &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;digamma&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
  Z &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;qnorm&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0.99&lt;/span&gt;)
  &lt;span style=&#34;color:#a6e22e&#34;&gt;return&lt;/span&gt;((&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;gamma_ct)&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;Z&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1-1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;N) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; gamma_ct&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;Z&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1-1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;N&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;exp&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)^{&lt;span style=&#34;color:#ae81ff&#34;&gt;-1&lt;/span&gt;}))
}
N &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;)
result &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; purrr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;map&lt;/span&gt;(N,ExMaxSR)
ggplot2&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;data.frame&lt;/span&gt;(ExpMaxSR &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unlist&lt;/span&gt;(result),N &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unlist&lt;/span&gt;(N)),&lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;N,y&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;ExpMaxSR)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_line&lt;/span&gt;(size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ylim&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;../../post/post19/index_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;å°ã•ã„$N$ã«å¯¾ã—ã¦æ€¥æ¿€ã«$\max[\hat{SR}]$ã®æœŸå¾…å€¤ãŒä¸Šæ˜‡ã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚$N=10$ã®æ™‚ã€$\max[\hat{SR}]=1.54$ã¨ãªã£ã¦ãŠã‚Šã€å…¨ã¦ã®æˆ¦ç•¥ã®ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã®çœŸå€¤ãŒ0ã«ã‚‚æ‹˜ã‚ã‚‰ãšã€å°‘ãªãã¨ã‚‚1ã¤ã¯è¦‹ã‹ã‘ä¸Šã‹ãªã‚Šè‰¯ã„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æˆ¦ç•¥ãŒè¦‹ã¤ã‹ã‚‹ã“ã¨ãŒæœŸå¾…ã•ã‚Œã¾ã™ã€‚é‡‘èã§ã¯hold-outæ³•ã§ã®ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã¯ã—ã°ã—ã°ä½¿ç”¨ã•ã‚Œã‚‹ã‹ã¨æ€ã„ã¾ã™ãŒã€ã“ã®æ–¹æ³•ã¯è©¦è¡Œ(éŒ¯èª¤)å›æ•°ã‚’è€ƒæ…®ã«å…¥ã‚Œã¦ã„ãªã„ãŸã‚ã€$N$ãŒå¤§ãã„ã¨ãã«ã¯ä¿¡é ¼ã«è¶³ã‚‹çµæœã‚’è¿”ã—ã¦ãã‚Œãªã„ã‚ã‘ã§ã™ã€‚ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã®çµæœã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã€é—‡é›²ã«ã‚ã‚Œã‚„ã“ã‚Œã‚„ã¨ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œã†ã“ã¨ã¯éå¸¸ã«å±é™ºã ã¨æ€ã„ã¾ã›ã‚“ã‹ï¼Ÿæœ€çµ‚çš„ã«ãƒ—ãƒ¬ã‚¼ãƒ³è³‡æ–™ã«ä¸ŠãŒã£ã¦ãã‚‹ã®ã¯$N$å€‹ã®æˆ¦ç•¥ã®ã†ã¡ã€æœ€ã‚‚ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒè‰¯ã„ã‚‚ã®ã®ã¿ã§ã™ã‹ã‚‰ã€ä»Šå›ã®ä¾‹ã®ã‚ˆã†ã«10å€‹æˆ¦ç•¥ã‚’è€ƒãˆãŸã ã‘ã§ã‚‚ã©ã‚Œã‹ã¯ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªãŒ1.87ä»˜è¿‘ã«åˆ†å¸ƒã—ã¦ã„ã‚‹ã‚ã‘ã§ã™ã€‚è©¦è¡ŒéŒ¯èª¤æ•°ãªã‚“ã¦ã‚‚ã¡ã‚ã‚“è³‡æ–™ã«ã¯è¨˜è¼‰ã—ã¾ã›ã‚“ã‹ã‚‰ã€éå¸¸ã«ãƒŸã‚¹ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãªã‚ã‘ã§ã™ã€‚ã“ã†ã„ã£ãŸè³‡æ–™ã‚’è©•ä¾¡ã™ã‚‹éš›ã«ã¯ã¾ãšå½é™½æ€§ã‚’ç–‘ã£ã¦ã‹ã‹ã£ãŸæ–¹ãŒã„ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚&lt;/p&gt;
&lt;p&gt;ã§ã¯ã€ã©ã†ã™ã‚Œã°è‰¯ã„ã®ã‹ã¨ã„ã†è©±ã§ã™ãŒã€Bailey et. al.(2015)ã§ã¯ã€Minimum Backtest Lengthã‚’è¨ˆç®—ã—ã¦ã„ã¾ã™ã€‚è¦ã¯è©¦è¡Œ(éŒ¯èª¤)æ•°$N$ã‚’å¢—ã‚„ã™ã«ã¤ã‚Œã¦ã€ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã®å¹´æ•°$y$ã‚‚ä¼¸ã°ã—ã¦ã„ã‘ã‚ˆã¨æˆ’ã‚ã¦ã„ã‚‹ã‚ã‘ã§ã™ã€‚$N$ã¨Minimum Backtest Lengthã®é–¢ä¿‚æ€§ã‚’ç¤ºã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚å…ˆã»ã©ã¨åŒã˜ã$\mu=0$ã‚’ä»®å®šã—ã¾ã™ãŒã€$y\neq 1$ã§ã‚ã‚‹ã‚±ãƒ¼ã‚¹ã‚’è€ƒãˆã¾ã™ã€‚å¹´ç‡åŒ–ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã®æœ€å¤§çµ±è¨ˆé‡ã®æœŸå¾…å€¤ã¯(2)å¼ã‚ˆã‚Šã€&lt;/p&gt;
&lt;p&gt;$$
E[\max[\hat{SR}(q)]_N] \approx y^{-1/2}((1-\gamma)Z^{-1}[1-\frac{1}{N}]+\gamma Z^{-1}[1-\frac{1}{N}e^{-1}])
$$
ã¨ãªã‚Šã¾ã™ã€‚ã“ã‚Œã‚’$y$ã«å¯¾ã—ã¦è§£ã„ã¦ã‚„ã‚‹ã“ã¨ã§MinBTLãŒæ±‚ã¾ã‚Šã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;$$
MinBTL \approx (\frac{(1-\gamma)Z^{-1}[1-\frac{1}{N}]+\gamma Z^{-1}[1-\frac{1}{N}e^{-1}]}{\bar{E[\max[\hat{SR}(q)]_N]}})^2
$$
ã“ã“ã§ã€$\bar{E[\max[\hat{SR}(q)]_N]}$ã¯$E[\max[\hat{SR}(q)]_N]$ã®ä¸Šé™å€¤ã§ã€ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã®çœŸå€¤ãŒ0ã§ã‚ã‚‹$N$æˆ¦ç•¥ã§ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã®æœ€å¤§çµ±è¨ˆé‡ãŒå–ã‚Šã†ã‚‹å€¤ã‚’æŠ‘ãˆã¾ã™ã€‚ãã®éš›ã«ã€å¿…è¦ãªãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆå¹´æ•°$y$ãŒMinBTLã¨ã—ã¦å°å‡ºã•ã‚Œã‚‹ã®ã§ã™ã€‚$\bar{E[\max[\hat{SR}(q)]_N]}=1$ã¨ã—ã¦ã€MinBTLã‚’$N$ã®é–¢æ•°ã¨ã—ã¦ãƒ—ãƒ­ãƒƒãƒˆã—ãŸã‚‚ã®ãŒä»¥ä¸‹ã§ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;MinBTL &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;function&lt;/span&gt;(N,MaxSR){
  &lt;span style=&#34;color:#a6e22e&#34;&gt;return&lt;/span&gt;((&lt;span style=&#34;color:#a6e22e&#34;&gt;ExMaxSR&lt;/span&gt;(N)&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;MaxSR)^2)
}
N &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;list&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;:&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;)
result &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; purrr&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;map2&lt;/span&gt;(N,&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,MinBTL)
ggplot2&lt;span style=&#34;color:#f92672&#34;&gt;::&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;ggplot&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;data.frame&lt;/span&gt;(MinBTL &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unlist&lt;/span&gt;(result),N &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;unlist&lt;/span&gt;(N)),&lt;span style=&#34;color:#a6e22e&#34;&gt;aes&lt;/span&gt;(x&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;N,y&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;MinBTL)) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;geom_line&lt;/span&gt;(size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ylim&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,&lt;span style=&#34;color:#ae81ff&#34;&gt;6&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;../../post/post19/index_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-r&#34; data-lang=&#34;r&#34;&gt;simSR &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;function&lt;/span&gt;(T1){
    r &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(T1)
    &lt;span style=&#34;color:#a6e22e&#34;&gt;return&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;mean&lt;/span&gt;(r)&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;sd&lt;/span&gt;(r))
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»®ã«ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆå¹´æ•°ãŒ3å¹´ä»¥å†…ã—ã‹ã§ããªã„å ´åˆã¯è©¦è¡Œ(éŒ¯èª¤)å›æ•°$N$ã¯ã»ã¼1å›ã«æŠ‘ãˆãªã„ã¨ã„ã‘ãªã„ã“ã¨ã«ãªã‚Šã¾ã™ã€‚3å¹´ä»¥å†…ã®å ´åˆã¯ä¸€ç™ºã§å½“ã¦ã¦ã­ã¨ã„ã†å³ã—ã‚ã®åˆ¶ç´„ã§ã™ã€‚æ³¨æ„ã—ãªã„ã¨ã„ã‘ãªã„ã®ã¯ã€MinBTLã®ç¯„å›²å†…ã§ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚’è¡Œã£ã¦ã„ãŸã¨ã—ã¦ã‚‚ã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒƒãƒˆã™ã‚‹ã“ã¨ã¯è€ƒãˆã‚‰ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚ã¤ã¾ã‚Šã€MinBTLã¯å¿…è¦æ¡ä»¶ã§ã‚ã£ã¦ååˆ†æ¡ä»¶ã§ãªã„ã¨ã„ã†ã‚ã‘ã§ã™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;4-çµ‚ã‚ã‚Šã«&#34;&gt;4. çµ‚ã‚ã‚Šã«&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3257497&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;LÃ³pez de Prado(2018)&lt;/a&gt;ã§ã¯ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°ã‚’é˜²ãæ±ç”¨çš„ãªæ‰‹æ®µã¨ã—ã¦ä»¥ä¸‹ãŒæŒ™ã’ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Develop models for entire asset classes or investment universes, rather than for specific securities. Investors diversify, hence they do not make mistake X only on security Y. If you find mistake X only on security Y, no matter how apparently profitable, it is likely a false discovery.
(æ‹™è¨³ï¼šç‰¹å®šã®æœ‰ä¾¡è¨¼åˆ¸ã§ã¯ãªãã€ã‚¢ã‚»ãƒƒãƒˆã‚¯ãƒ©ã‚¹å…¨ä½“ã¾ãŸã¯ãƒ¦ãƒ‹ãƒãƒ¼ã‚¹å…¨ä½“ã®ãƒ¢ãƒ‡ãƒ«ã‚’é–‹ç™ºã™ã‚‹ã“ã¨ã€‚æŠ•è³‡å®¶ã¯ãƒªã‚¹ã‚¯ã‚’åˆ†æ•£ã•ã›ã¦ã„ã‚‹ã®ã§ã€å½¼ã‚‰ã¯ã‚ã‚‹è¨¼åˆ¸Yã ã‘ã«å¯¾ã—ã¦ãƒŸã‚¹Xã‚’ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚ãªãŸãŒè¨¼åˆ¸Yã ã‘ã«ãƒŸã‚¹Xã‚’è¦‹ã¤ã‘ãŸå ´åˆã¯ã€ãã‚ŒãŒã©ã‚“ãªã«æ˜ã‚‰ã‹ã«æœ‰ç›Šã§ã‚ã£ã¦ã‚‚ã€èª¤ç™ºè¦‹ã§ã‚ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã€‚)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Apply bagging as a means to both prevent overfitting and reduce the variance of the forecasting error. If bagging deteriorates the performance of a strategy, it was likely overfit to a small number of observations or outliers.
(æ‹™è¨³ï¼šã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒƒãƒˆã‚’é˜²ãã€äºˆæ¸¬èª¤å·®ã®åˆ†æ•£ã‚’æ¸›ã‚‰ã™ãŸã‚ã®æ‰‹æ®µã¨ã—ã¦ã€ãƒã‚®ãƒ³ã‚°ã‚’é©ç”¨ã™ã‚‹ã“ã¨ã€‚ãƒã‚®ãƒ³ã‚°ãŒæˆ¦ç•¥ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ‚ªåŒ–ã•ã›ã‚‹å ´åˆã€ãã‚Œã¯å°‘æ•°ã®è¦³æ¸¬å€¤ã¾ãŸã¯å¤–ã‚Œå€¤ã«ã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒƒãƒˆã—ãŸå¯èƒ½æ€§ãŒé«˜ã„ã€‚)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Do not backtest until all your research is complete.&lt;/strong&gt;
(æ‹™è¨³ï¼š&lt;strong&gt;ã™ã¹ã¦ã®ãƒªã‚µãƒ¼ãƒãŒå®Œäº†ã™ã‚‹ã¾ã§ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚’ã—ãªã„ã“ã¨ã€‚&lt;/strong&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Record every backtest conducted on a dataset so that the probability of backtest overfitting may be estimated on the final selected result (see &lt;a href=&#34;https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2326253&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Bailey, Borwein, LÃ³pez de Prado and Zhu(2017)&lt;/a&gt;), and the Sharpe ratio may be properly deflated by the number of trials carried out (&lt;a href=&#34;https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2465675&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Bailey and LÃ³pez de Prado(2014.b)&lt;/a&gt;).
(æ‹™è¨³ï¼šç ”ç©¶è€…ãŒæœ€çµ‚çš„ã«é¸æŠã—ãŸãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆçµæœãŒã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒƒãƒˆã—ã¦ã„ã‚‹ç¢ºç‡ã‚’æ¨å®šã§ãã‚‹ã‚ˆã†ã«ã€å˜ä¸€ã®(åŒã˜)ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã§å®Ÿæ–½ã•ã‚ŒãŸãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚’ã™ã¹ã¦è¨˜éŒ²ã™ã‚‹ã“ã¨ï¼ˆBailey, Borwein, LÃ³pez de Prado and Zhu [2017]ï¼‰ã€ã¾ãŸã€å®Ÿæ–½ã•ã‚ŒãŸè©¦è¡Œæ•°ã«ã‚ˆã£ã¦ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ªã‚’é©åˆ‡ã«ãƒ‡ãƒ•ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ï¼ˆBailey and LÃ³pez de Prado [2014]ï¼‰ã€‚)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Simulate scenarios rather than history. A standard backtest is a historical simulation, which can be easily overfit. History is just the random path that was realized, and it could have been entirely different. Your strategy should be profitable under a wide range of scenarios, not just the anecdotal historical path. It is harder to overfit the outcome of thousands of â€œwhat ifâ€ scenarios.
(æ‹™è¨³ï¼šãƒ’ã‚¹ãƒˆãƒªã‚«ãƒ«ã§ã¯ãªãã‚·ãƒŠãƒªã‚ªã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã“ã¨ã€‚æ¨™æº–çš„ãªãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã¯ãƒ’ã‚¹ãƒˆãƒªã‚«ãƒ«ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚ã‚Šã€ã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒƒãƒˆã—ã‚„ã™ã„ã€‚æ­´å²(ã“ã‚Œã¾ã§ã®å®Ÿç¸¾)ã¯ãƒ©ãƒ³ãƒ€ãƒ ãªãƒ‘ã‚¹ã®å®Ÿç¾å€¤ã«éããšã€å…¨ãé•ã£ãŸã‚‚ã®ã«ãªã£ã¦ã„ãŸå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã‚ãªãŸã®æˆ¦ç•¥ã¯ã€é€¸è©±çš„ãªãƒ’ã‚¹ãƒˆãƒªã‚«ãƒ«ãƒ‘ã‚¹ã§ã¯ãªãã€æ§˜ã€…ãªã‚·ãƒŠãƒªã‚ªã®ä¸‹ã§åˆ©ç›Šã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚‚ã®ã§ã‚ã‚‹ã¹ãã§ã™ã€‚ä½•åƒã‚‚ã®ã€Œã‚‚ã—ã‚‚ã€ã®ã‚·ãƒŠãƒªã‚ªçµæœã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒƒãƒˆã•ã›ã‚‹ã®ã¯(ãƒ’ã‚¹ãƒˆãƒªã‚«ãƒ«ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§éå­¦ç¿’ã™ã‚‹ã‚ˆã‚Šã‚‚)ã‚ˆã‚Šé›£ã—ã„ã“ã¨ã§ã™ã€‚)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Do not research under the influence of a backtest. If the backtest fails to identify a profitable strategy,
start from scratch. Resist the temptation of reusing those results.
(æ‹™è¨³ï¼šãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å—ã‘ã¦ãƒªã‚µãƒ¼ãƒã—ãªã„ã“ã¨ã€‚ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆãŒæœ‰ç›Šãªæˆ¦ç•¥ã‚’è¦‹ã¤ã‘å‡ºã™ã“ã¨ã«å¤±æ•—ã—ãŸå ´åˆã¯ã€ã‚¼ãƒ­ã‹ã‚‰ãƒªã‚µãƒ¼ãƒã‚’å†å§‹å‹•ã—ã¦ãã ã•ã„ã€‚ãã‚Œã‚‰ã®çµæœã‚’å†åˆ©ç”¨ã™ã‚‹èª˜æƒ‘ã«æŠ—ã£ã¦ãã ã•ã„ã€‚)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;3ã¨6ã¯æœ¬æ—¥ã®è«–æ–‡ã¨é–¢ä¿‚ã®ã‚ã‚‹æ–‡è„ˆã ã¨æ€ã„ã¾ã™ã€‚ã“ã®åˆ†é‡ã¯ä»–ã«ã‚‚ç ”ç©¶ã®è“„ç©ãŒã‚ã‚‹ã®ã§ã€æ¥­å‹™ã§ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚’è¡Œã†ã¨ã„ã†äººã¯é‹ç”¨æ‰‹æ³•ã®å‹‰å¼·ã‚‚ã„ã„ã§ã™ãŒã€ãã‚‚ãã‚‚ã®ãŠä½œæ³•ã¨ã—ã¦ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã®æ­£ã—ã„é‹ç”¨æ–¹æ³•ã«ã¤ã„ã¦å­¦ã¶ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚&lt;br&gt;
ã•ã¦ã€ã„ã¤ã‚‚ã¨ã¯é•ã†è¦³ç‚¹ã§ã€å°‘ã—ãƒ¡ã‚¿çš„ãªãƒˆãƒ”ãƒƒã‚¯ã«å–ã‚Šçµ„ã‚“ã§ã¿ã¾ã—ãŸã€‚è‡ªåˆ†è‡ªèº«ä»•äº‹æŸ„ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆçµæœãªã©ã‚’è¦‹ã‚‹ã“ã¨ã‚‚å¤šã„ã§ã™ã—ã€ã“ã®ãƒ–ãƒ­ã‚°ã§ã‚‚ã—ã°ã—ã°hold-outæ³•ã§ã®ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚’ã—ã¦ã„ã¾ã™ã€‚å¾—ã‚‰ã‚ŒãŸçµæœã®ä¸ç¢ºå®Ÿæ€§ã‚’ç†è§£ã—ã¦ã€è©•ä¾¡ã§ãã‚‹ã‚ˆã†ä»Šå¾Œã‚‚ã“ã®ãƒˆãƒ”ãƒƒã‚¯ã®ç ”ç©¶ã‚’è¿½ã£ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>CNNã‚’ä½¿ã£ã¦é¦¬ä½“å†™çœŸã‹ã‚‰é †ä½äºˆæƒ³ã—ã¦ã¿ãŸ</title>
      <link>/post/post18/</link>
      <pubDate>Sun, 05 Jul 2020 00:00:00 +0000</pubDate>
      <guid>/post/post18/</guid>
      <description>&lt;p&gt;ãŠã¯ã“ã‚“ã°ã‚“ã«ã¡ã¯ã€‚ä»Šå›ã¯ç«¶é¦¬äºˆæƒ³ã«ã¤ã„ã¦ã®è¨˜äº‹ã‚’æ›¸ããŸã„ã¨æ€ã„ã¾ã™ã€‚å‰å›ã€&lt;code&gt;LightGBM&lt;/code&gt;ã‚’ç”¨ã„ã¦yahooç«¶é¦¬ã‹ã‚‰å–å¾—ã—ãŸãƒ¬ãƒ¼ã‚¹çµæœãƒ‡ãƒ¼ã‚¿(ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ‡ãƒ¼ã‚¿)ã‚’ç”¨ã„ã¦ã€ç«¶é¦¬é †ä½äºˆæƒ³ãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã—ã¾ã—ãŸã€‚å‰å›ã¯æ§‹é€ ãƒ‡ãƒ¼ã‚¿ã‚’ç”¨ã„ã¾ã—ãŸãŒã€ã“ã®ã”æ™‚ä¸–ã§ã™ã‹ã‚‰ã“ã‚“ãªåˆ†æã¯èª°ã«ã§ã‚‚ã§ãã‚‹ã‚ã‘ã§ã™ã€‚æ™‚ä»£ã¯éæ§‹é€ ãƒ‡ãƒ¼ã‚¿ã€ã¨ã„ã†ã‚ã‘ã§ä»Šå›ã¯é¦¬ä½“ç”»åƒã‹ã‚‰ç‰¹å¾´é‡ã‚’æŠ½å‡ºã—ã€é †ä½äºˆæƒ³ã‚’è¡Œã†ç•³ã¿è¾¼ã¿ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯(&lt;code&gt;Convolutional Neural Network&lt;/code&gt;, CNN)ã‚’ä½œæˆã—ã¦ã¿ã¾ã—ãŸã€‚ç”»åƒè§£æã¯&lt;code&gt;Earth Engine&lt;/code&gt;ã‚’ç”¨ã„ãŸè¡›æ˜Ÿç”»åƒã®è§£æã«ç¶šã„ã¦2å›ç›®ã€æ·±å±¤å­¦ç¿’ã¯ã“ã®ãƒ–ãƒ­ã‚°ã§ã¯åˆã‚ã¦ã¨è¨€ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ãªãŠã€Pythonã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;1-ãƒ‡ãƒ¼ã‚¿åé›†ã®ãŸã‚ã®ã‚¯ãƒ­ãƒ¼ãƒªãƒ³ã‚°&#34;&gt;1. ãƒ‡ãƒ¼ã‚¿åé›†ã®ãŸã‚ã®ã‚¯ãƒ­ãƒ¼ãƒªãƒ³ã‚°&lt;/h2&gt;
&lt;p&gt;ã¾ãšã€é¦¬ä½“ç”»åƒã‚’ãƒãƒƒãƒˆã‹ã‚‰åé›†ã™ã‚‹ã“ã¨ã‹ã‚‰å§‹ã‚ã¾ã™ã€‚1ç•ªè‰¯ã„ã®ã¯ãƒ¬ãƒ¼ã‚¹å½“æ—¥ã®ãƒ‘ãƒ‰ãƒƒã‚¯ã®å†™çœŸã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã—ã‚‡ã†ã€‚ãŸã ã€ãƒ‘ãƒ‰ãƒƒã‚¯ã®å†™çœŸã‚’ã¾ã¨ã¾ã£ãŸå½¢ã§æ²è¼‰ã—ã¦ãã‚Œã¦ã„ã‚‹ã‚µã‚¤ãƒˆã¯èª¿ã¹ãŸé™ã‚Šã¯å­˜åœ¨ã—ã¾ã›ã‚“ã§ã—ãŸã€‚ã‚‚ã—ã‹ã—ãŸã‚‰ã€Youtubeã«ç«¶é¦¬ãƒ•ã‚¡ãƒ³ã®æ–¹ãŒãƒ‘ãƒ‰ãƒƒã‚¯å‹•ç”»ã‚’ä¸Šã’ã¦ã„ã‚‰ã£ã—ã‚ƒã‚‹ã‹ã‚‚çŸ¥ã‚Œã¾ã›ã‚“ã®ã§ã€ãã‚Œã‚’ç”»åƒã«åˆ‡ã‚ŠæŠœã„ã¦ä½¿ã† or å‹•ç”»ã¨ã—ã¦CNNâ†’RNNã®&lt;code&gt;Encoder-Decoder&lt;/code&gt;ãƒ¢ãƒ‡ãƒ«ã«é©ç”¨ã™ã‚‹ã¨é¢ç™½ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã—ã‹ã—ã€ãã“ã¾ã§ã®èƒ½åŠ›ã¯ä»Šã®è‡ªåˆ†ã«ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ãƒ‡ãƒ¼ã‚¿ã‚’ã©ã“ã‹ã‚‰å–å¾—ã™ã‚‹ã‹&#34;&gt;ãƒ‡ãƒ¼ã‚¿ã‚’ã©ã“ã‹ã‚‰å–å¾—ã™ã‚‹ã‹&lt;/h3&gt;
&lt;p&gt;ãã“ã§ã€ä»Šå›ã¯&lt;a href=&#34;https://www.daily.co.jp/horse/horsecheck/photo/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ãƒ‡ã‚¤ãƒªãƒ¼ã®Webã‚µã‚¤ãƒˆ&lt;/a&gt;ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦ã„ã¾ã™ã€‚ã“ã“ã«ã¯ç›´è¿‘1å¹´é–“?ã®G1ãƒ¬ãƒ¼ã‚¹ã«å‡ºé¦¬ã™ã‚‹ç«¶èµ°é¦¬ã®ãƒ¬ãƒ¼ã‚¹å‰ã®é¦¬ä½“å†™çœŸãŒæ²è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚å®Ÿéš›ã®ãƒ¬ãƒ¼ã‚¹å ´ã¸è¡Œã‘ãªã„é¦¬åˆ¸å¸«ã•ã‚“ãŸã¡ã¯ã“ã®å†™çœŸã‚’è¦‹ã¦é¦¬ã®çŠ¶æ…‹ã‚’åˆ†æã—ã¦ã„ã‚‹ã¨æ€ã‚ã‚Œã¾ã™ã€‚&lt;br&gt;
ãªãŠã€ã“ã®ã‚µã‚¤ãƒˆã«ã¯å‡ºé¦¬å…¨é ­ã®é¦¬ä½“å†™çœŸãŒæ²è¼‰ã•ã‚Œã¦ã„ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã¾ãŸã€G1ã®é™ã‚‰ã‚ŒãŸãƒ¬ãƒ¼ã‚¹ã®ã¿ã§ã™ã®ã§ã€ãã‚‚ãã‚‚å…¨ã¦ã®é¦¬ãŒä»•ä¸ŠãŒã£ã¦ã„ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚Šã€å·®ãŒã¤ã‹ãªã„ã“ã¨ã‚‚ååˆ†äºˆæƒ³ã•ã‚Œã¾ã™ã€‚ãŸã ã€æ‰‹ã£å–ã‚Šæ—©ãã‚„ã£ã¦ã¿ã‚‹ã“ã¨ã‚’å„ªå…ˆã—ã€ä»Šå›ã¯ã“ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã«ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;h3 id=&#34;seleniumã§ã‚¯ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã‚’å®Ÿè¡Œã™ã‚‹&#34;&gt;seleniumã§ã‚¯ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã‚’å®Ÿè¡Œã™ã‚‹&lt;/h3&gt;
&lt;p&gt;ã‚¯ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã«ã¯seleniumã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»Šå›ã¯CNNãŒãƒ¡ã‚¤ãƒ³ãªã®ã§Webã‚¯ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã«ã¤ã„ã¦ã¯èª¬æ˜ã—ã¾ã›ã‚“ã€‚ä½¿ç”¨ã—ãŸã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã§ã™ã€‚&lt;br&gt;
ã€æ³¨æ„ã€‘ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã•ã‚Œã‚‹å ´åˆã¯è‡ªå·±è²¬ä»»ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; selenium &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; webdriver
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; selenium.webdriver.chrome.options &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; Options
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; selenium.webdriver.support.select &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; Select
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; selenium.webdriver.common.by &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; By
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; selenium.webdriver.common.keys &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; Keys
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; selenium.webdriver.common.alert &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; Alert
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; selenium.webdriver.support.ui &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; WebDriverWait
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; selenium.webdriver.support &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; expected_conditions &lt;span style=&#34;color:#66d9ef&#34;&gt;as&lt;/span&gt; EC
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; selenium.common.exceptions &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; TimeoutException
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; selenium.webdriver.common.action_chains &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; ActionChains
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; time &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; sleep
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; urllib &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; request
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; random

&lt;span style=&#34;color:#75715e&#34;&gt;# seleniumã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¨­å®šï¼ˆãŠã¾ã˜ãªã„ï¼‰&lt;/span&gt;
options &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Options()
options&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add_argument(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;--disable-gpu&amp;#39;&lt;/span&gt;);
options&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add_argument(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;--disable-extensions&amp;#39;&lt;/span&gt;);
options&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add_argument(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;--proxy-server=&amp;#34;direct://&amp;#34;&amp;#39;&lt;/span&gt;);
options&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add_argument(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;--proxy-bypass-list=*&amp;#39;&lt;/span&gt;);
options&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add_argument(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;--start-maximized&amp;#39;&lt;/span&gt;);

&lt;span style=&#34;color:#75715e&#34;&gt;# driveræŒ‡å®š&lt;/span&gt;
DRIVER_PATH &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;C:/Users/aashi/Desktop/chromedriver_win32/chromedriver.exe&amp;#39;&lt;/span&gt;
driver &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; webdriver&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Chrome(executable_path&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;DRIVER_PATH, chrome_options&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;options)

&lt;span style=&#34;color:#75715e&#34;&gt;# urlã‚’æ¸¡ã—ã€ã‚µã‚¤ãƒˆã¸ã‚¢ã‚¯ã‚»ã‚¹&lt;/span&gt;
url &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;https://www.daily.co.jp/horse/horsecheck/photo/&amp;#39;&lt;/span&gt;
driver&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;get(url)
driver&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;implicitly_wait(&lt;span style=&#34;color:#ae81ff&#34;&gt;15&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;# ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ­ãƒ¼ãƒ‰å¾…ã¡ã®æœ€å¤§æ™‚é–“ã§ã“ã‚Œã‚’è¶Šãˆã‚‹ã¨ã‚¨ãƒ©ãƒ¼&lt;/span&gt;
sleep(&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;# webãƒšãƒ¼ã‚¸ã®é·ç§»ã‚’è¡Œã†ã®ã§1ç§’sleep&lt;/span&gt;

&lt;span style=&#34;color:#75715e&#34;&gt;# å„ãƒ¬ãƒ¼ã‚¹æ¯ã«ç”»åƒãƒ‡ãƒ¼ã‚¿ä¿å­˜&lt;/span&gt;
selector0 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;body &amp;gt; div &amp;gt; main &amp;gt; div &amp;gt; div.primaryContents &amp;gt; article &amp;gt; div &amp;gt; section &amp;gt; a&amp;#34;&lt;/span&gt;
elements &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; driver&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;find_elements_by_css_selector(selector0)
&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; i &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; range(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,len(elements)):
  elements &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; driver&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;find_elements_by_css_selector(selector0)
  element &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; elements[i]
  element&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;click()
  sleep(&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;# webãƒšãƒ¼ã‚¸ã®é·ç§»ã‚’è¡Œã†ã®ã§5ç§’sleep&lt;/span&gt;

  target &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; driver&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;find_element_by_link_text(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;ï¼§ï¼‘é¦¬ä½“è¨ºæ–­å†™çœŸé›†ã®TOP&amp;#39;&lt;/span&gt;)
  actions &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; ActionChains(driver)
  actions&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;move_to_element(target)
  actions&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;perform()
  sleep(&lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;# webãƒšãƒ¼ã‚¸ã®é·ç§»ã‚’è¡Œã†ã®ã§5ç§’sleep&lt;/span&gt;
  selector &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;body &amp;gt; div.wrapper.horse.is-fixedHeader.is-fixedAnimation &amp;gt; main &amp;gt; div &amp;gt; div.primaryContents &amp;gt; article &amp;gt; article &amp;gt; div.photoDetail-wrapper &amp;gt; section &amp;gt; div &amp;gt; figure&amp;#34;&lt;/span&gt;
  figures &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; driver&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;find_elements_by_css_selector(selector)
  download_dir &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;C:\Users\aashi\umanalytics\photo\image&amp;#39;&lt;/span&gt;
  selector &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;body &amp;gt; div &amp;gt; main &amp;gt; div &amp;gt; div.primaryContents &amp;gt; article &amp;gt; article &amp;gt; div.photoDetail-wrapper &amp;gt; section &amp;gt; h1&amp;#34;&lt;/span&gt;
  race_name &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; driver&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;find_element_by_css_selector(selector)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;text
  &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; figure &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; figures:
    img_name &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; figure&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;find_element_by_tag_name(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;figcaption&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;text
    horse_src &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; figure&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;find_element_by_tag_name(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;img&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;get_attribute(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;src&amp;#34;&lt;/span&gt;)    
    save_name &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; download_dir &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; race_name &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;_&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; img_name &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;.jpg&amp;#39;&lt;/span&gt;
    request&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;urlretrieve(horse_src,save_name)
  driver&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;back()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¿å­˜ã—ãŸç”»åƒã‚’å®Ÿéš›ã®ãƒ¬ãƒ¼ã‚¹çµæœã¨çªåˆã—ã€æ‰‹ä½œæ¥­ã§ä¸Šä½3ä½ä»¥å†…ã‚°ãƒ«ãƒ¼ãƒ—ã¨ãã‚Œä»¥å¤–ã®ã‚°ãƒ«ãƒ¼ãƒ—ã«åˆ†ã‘ã¾ã—ãŸã€‚ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã§ç”»åƒãŒä¿å­˜ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;horse_photo.PNG&#34; alt=&#34;ä¿å­˜ã•ã‚ŒãŸé¦¬ä½“ç”»åƒ&#34;&gt;&lt;/p&gt;
&lt;p&gt;ã“ã‚Œã§å…ƒãƒ‡ãƒ¼ã‚¿ã®åé›†ãŒå®Œäº†ã—ã¾ã—ãŸã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-kerasã‚’ç”¨ã„ã¦cnnã‚’å­¦ç¿’ã•ã›ã‚‹&#34;&gt;2. &lt;code&gt;Keras&lt;/code&gt;ã‚’ç”¨ã„ã¦CNNã‚’å­¦ç¿’ã•ã›ã‚‹&lt;/h2&gt;
&lt;h3 id=&#34;kerasã¨ã¯&#34;&gt;Kerasã¨ã¯ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;ã•ã¦ã€æ¬¡ã«&lt;code&gt;Keras&lt;/code&gt;ã‚’ä½¿ã£ã¦CNNã‚’å­¦ç¿’ã•ã›ã¾ã—ã‚‡ã†ã€‚ã¾ãšã€&lt;code&gt;Keras&lt;/code&gt;ã¨ã¯&lt;code&gt;Tensorflow&lt;/code&gt;ã‚„&lt;code&gt;Theano&lt;/code&gt;ä¸Šã§å‹•ã&lt;code&gt;Neural Network&lt;/code&gt;ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®1ã¤ã§ã™ã€‚&lt;code&gt;Keras&lt;/code&gt;ã¯æ¯”è¼ƒçš„çŸ­ã„ã‚³ãƒ¼ãƒ‰ã§ãƒ¢ãƒ‡ãƒ«ã‚’çµ„ã‚€ã“ã¨ãŒã§ãã€ã¾ãŸå­¦ç¿’ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒå¤šã„ã“ã¨ãŒç‰¹å¾´ã®ã‚ˆã†ã§ã™ã€‚&lt;/p&gt;
&lt;h3 id=&#34;cnnã¨ã¯&#34;&gt;CNNã¨ã¯ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;CNNã¯ç”»åƒè§£æã‚’è¡Œã†éš›ã«ã‚ˆãä½¿ç”¨ã•ã‚Œã‚‹&lt;code&gt;(Deep) Neural Network&lt;/code&gt;ã®1ç¨®ã§ã€ãã®åã®é€šã‚Š&lt;code&gt;Convolution&lt;/code&gt;(ç•³ã¿è¾¼ã¿)ã‚’è¿½åŠ ã—ãŸç‰©ã¨ãªã£ã¦ã„ã¾ã™ã€‚ç•³ã¿è¾¼ã¿ã¨ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªå‡¦ç†ã®ã“ã¨ã‚’è¨€ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn-ak.f.st-hatena.com/images/fotolife/t/tdualdir/20180501/20180501211957.png&#34; alt=&#34;ç•³ã¿è¾¼ã¿å±¤ã®å‡¦ç†&#34;&gt;&lt;/p&gt;
&lt;p&gt;ã“ã“ã®ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã¨ã¯ç”»åƒãƒ‡ãƒ¼ã‚¿ã®ã“ã¨ã§ã™ã€‚ç”»åƒè§£æã§ã¯ç”»åƒã‚’æ•°å€¤ã¨ã—ã¦èªè­˜ã—ã€è§£æã‚’è¡Œã„ã¾ã™ã€‚ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ä¸Šã®ç”»åƒã¯&lt;code&gt;RGB&lt;/code&gt;å€¤ã¨ã„ã†ã€èµ¤(Red)ã€ç·‘(Green)ã€é’(Blue)ã®3è‰²ã®0~255ã¾ã§ã®æ•°å€¤ã®å¼·å¼±ã§è¡¨ç¾ã•ã‚Œã¦ã„ã¾ã™ã€‚èµ¤255ã€ç·‘0ã€é’0ã¨ã„ã£ãŸå½¢ã§3å±¤ã®ãƒ™ã‚¯ãƒˆãƒ«ã«ãªã£ã¦ãŠã‚Šã€ã“ã®å ´åˆå®Œå…¨ãªèµ¤ãŒè¡¨ç¾ã•ã‚Œã¾ã™ã€‚ä¸Šå›³ã®å ´åˆã€a,b,cãªã©ãŒå„ãƒ”ã‚¯ã‚»ãƒ«ã®&lt;code&gt;RGB&lt;/code&gt;å€¤ã®ã„ãšã‚Œã‹ã‚’è¡¨ã—ã¦ã„ã‚‹ã¨è€ƒãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ç•³ã¿è¾¼ã¿ã¯ã“ã®&lt;code&gt;RGB&lt;/code&gt;å€¤ã‚’ã‚«ãƒ¼ãƒãƒ«ã¨å‘¼ã°ã‚Œã‚‹è¡Œåˆ—ã¨ã®å†…ç©ã‚’ã¨ã‚‹ã“ã¨ã§ç”»åƒã®ç‰¹å¾´é‡ã‚’è¨ˆç®—ã—ã¾ã™ã€‚ç•³ã¿è¾¼ã¿å±¤ã®æ„å‘³ã¯ä»¥ä¸‹ã®å‹•ç”»ãŒã‚ã‹ã‚Šã‚„ã™ã„ã§ã™ã€‚&lt;/p&gt;
&lt;iframe width=&#34;560&#34; height=&#34;315&#34; src=&#34;https://www.youtube.com/embed/vU-JfZNBdYU&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;ã‚«ãƒ¼ãƒãƒ«ã‚’ä¸Šæ‰‹ããã®ç”»åƒã®ç‰¹å¾´çš„ãªéƒ¨åˆ†ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«å­¦ç¿’ã™ã‚‹ã“ã¨ã§ã€ç”»åƒã®è­˜åˆ¥ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚ç•³ã¿è¾¼ã¿å±¤ã¯CNNã®æœ€é‡è¦éƒ¨åˆ†ã ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://th.bing.com/th/id/OIP.F2Ik_XFzmu5jZF-byiAKQQHaCg?w=342&amp;amp;h=118&amp;amp;c=7&amp;amp;o=5&amp;amp;dpr=1.25&amp;amp;pid=1.7&#34; alt=&#34;CNNã®å…¨ä½“åƒ&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›³ã®ã‚ˆã†ã«CNNã¯ç•³ã¿è¾¼ã¿æ„å¤–ã«ã‚‚ã‚‚ã¡ã‚ã‚“å…¥åŠ›å±¤ã‚„å‡ºåŠ›å±¤ãªã©é€šå¸¸ã®&lt;code&gt;Neural Network&lt;/code&gt;ã¨åŒã˜å±¤ã‚‚æŒã£ã¦ã„ã¾ã™ã€‚ãªãŠã€&lt;code&gt;MaxPooling&lt;/code&gt;å±¤ã«ã¤ã„ã¦çŸ¥ã‚ŠãŸã„äººã¯ä»¥ä¸‹ã®å‹•ç”»ã‚’å‚ç…§ã•ã‚Œã¦ãã ã•ã„ã€‚&lt;/p&gt;
&lt;iframe width=&#34;560&#34; height=&#34;315&#34; src=&#34;https://www.youtube.com/embed/MLixg9K6oeU&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;æ·±å±¤å­¦ç¿’ã®å­¦ç¿’æ–¹æ³•ã«ã¤ã„ã¦ã¯æœ€æ€¥ä¸‹é™æ³•(å‹¾é…æ³•)ãŒã‚ªãƒ¼ã‚½ãƒ‰ãƒƒã‚¯ã‚¹ãªã‚‚ã®ã¨ã—ã¦çŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ãŒã€&lt;code&gt;Adam&lt;/code&gt;ãªã©è‰²ã€…ãªæ‹¡å¼µã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒææ¡ˆã•ã‚Œã¦ã„ã¾ã™ã€‚åŸºæœ¬çš„ã«ã¯ã€&lt;code&gt;Adam&lt;/code&gt;ã¯&lt;code&gt;momentum&lt;/code&gt;ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒå¤šã„ã§ã—ã‚‡ã†ã‹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°&#34;&gt;ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°&lt;/h3&gt;
&lt;p&gt;ã§ã¯ã€å®Ÿéš›ã«ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã—ã¦ã„ãã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; keras.utils &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; np_utils
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## Using TensorFlow backend.
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; keras.models &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; Sequential
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; keras.layers.convolutional &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; MaxPooling2D
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; keras.layers &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; Activation, Conv2D, Flatten, Dense,Dropout
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; sklearn.model_selection &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; train_test_split
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; keras.optimizers &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; SGD, Adadelta, Adagrad, Adam, Adamax, RMSprop, Nadam
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; PIL &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; Image
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; numpy &lt;span style=&#34;color:#f92672&#34;&gt;as&lt;/span&gt; np
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; glob
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; matplotlib.pyplot &lt;span style=&#34;color:#f92672&#34;&gt;as&lt;/span&gt; plt
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; time
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; os
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ã¾ãšæœ€åˆã«åé›†ã—ã¦ããŸç”»åƒãƒ‡ãƒ¼ã‚¿ã‚’æ•°å€¤ãƒ‡ãƒ¼ã‚¿ã«å¤‰æ›ã—å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã—ã¾ã™ã€‚
ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ãŠã‚Šã€ä¸Šä½ç”»åƒã¨ãã®ä»–ç”»åƒãŒåˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¿å­˜ã•ã‚Œã¦ã„ã¾ã™ã€‚å„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ç”»åƒã‚’èª­ã¿è¾¼ã‚€éš›ã«ã€ä¸Šä½ç”»åƒã«ã¯1ã€ãã®ä»–ã«ã¯0ã¨ã„ã†ã‚«ãƒ†ã‚´ãƒªå¤‰æ•°ã‚’ä¸ãˆã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;é¦¬ä½“å†™çœŸ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸Šä½&lt;/li&gt;
&lt;li&gt;ãã®ä»–&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#ãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®š&lt;/span&gt;
folders &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; os&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;listdir(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;C:\Users\aashi\umanalytics\photo\image&amp;#34;&lt;/span&gt;)
&lt;span style=&#34;color:#75715e&#34;&gt;#ç”»ç·æ•°ã‚’æŒ‡å®š(ä»Šå›ã¯50Ã—50Ã—3)ã€‚&lt;/span&gt;
image_size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;300&lt;/span&gt;
dense_size &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; len(folders)

X &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; []
Y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; []

&lt;span style=&#34;color:#75715e&#34;&gt;#ãã‚Œãã‚Œã®ãƒ•ã‚©ãƒ«ãƒ€ã‹ã‚‰ç”»åƒã‚’èª­ã¿è¾¼ã¿ã€Imageé–¢æ•°ã‚’ä½¿ç”¨ã—ã¦RGBå€¤ãƒ™ã‚¯ãƒˆãƒ«(numpy array)ã¸å¤‰æ›&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; i, folder &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; enumerate(folders):
  files &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; glob&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;glob(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;C:/Users/aashi/umanalytics/photo/image/&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; folder &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/*.jpg&amp;#34;&lt;/span&gt;)
  index &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; i
  &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; k, file &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; enumerate(files):
    image &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Image&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;open(file)
    image &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; image&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;convert(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;L&amp;#34;&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;convert(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;RGB&amp;#34;&lt;/span&gt;)
    image &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; image&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;resize((image_size, image_size)) &lt;span style=&#34;color:#75715e&#34;&gt;#ç”»ç´ æ•°ã‚’è½ã¨ã—ã¦ã„ã‚‹&lt;/span&gt;
 
    data &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;asarray(image)
    X&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(data)
    Y&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append(index)

X &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;array(X)
Y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;array(Y)
X &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; X&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;astype(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;float32&amp;#39;&lt;/span&gt;)
X &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; X &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;255.0&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# 0~1ã¸å¤‰æ›&lt;/span&gt;
X&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;shape
Y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; np_utils&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;to_categorical(Y, dense_size)

&lt;span style=&#34;color:#75715e&#34;&gt;#è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã¨ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã¸å¤‰æ›&lt;/span&gt;
X_train, X_test, y_train, y_test &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; train_test_split(X, Y, test_size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.20&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã¨ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®åˆ†å‰²ãŒã§ãã¾ã—ãŸã€‚ä»Šè€ƒãˆã¦ã„ã‚‹ã®ã¯ã€Œä¸Šä½ã€ã¨ã€Œãã®ä»–ã€ã®2å€¤åˆ†é¡ã¨ãªã£ã¦ã„ã¾ã™ãŒã€ã€Œä¸Šä½ã€ã‚’3ä½ä»¥å†…ã¨å®šç¾©ã—ãŸã®ã§ä¸å‡è¡¡ãªãƒ‡ãƒ¼ã‚¿ã¨ãªã£ã¦ã„ã¾ã™(ãã®ä»–ãƒ‡ãƒ¼ã‚¿ãŒä¸Šä½ãƒ‡ãƒ¼ã‚¿ã®5å€ãã‚‰ã„)ã€‚ã“ã†ã„ã£ãŸå ´åˆã€ãã®ã¾ã¾ã®ãƒ‡ãƒ¼ã‚¿ã§å­¦ç¿’ã‚’ã™ã‚‹ã¨ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚ºãŒå¤šã„æ–¹ã®ãƒ©ãƒ™ãƒ«(ã“ã®å ´åˆã€Œãã®ä»–ã€)ã‚’äºˆæ¸¬ã—ã‚„ã™ããªã‚Šã€ãƒã‚¤ã‚¢ã‚¹ã®ã‚ã‚‹ãƒ¢ãƒ‡ãƒ«ã¨ãªã‚Šã¾ã™ã€‚ã‚ˆã£ã¦ã€å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã¯2ã‚¯ãƒ©ã‚¹ãã‚Œãã‚ŒãŒåŒã˜ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚ºã¨ãªã‚‹ã‚ˆã†èª¿æ•´ã—ã¦ã‚„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;index_zero &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;random&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;choice(np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;array(np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;where(y_train[:,&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;))[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;,],np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;count_nonzero(y_train[:,&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;),replace&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;False)
index_one &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;array(np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;where(y_train[:,&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;))[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]
y_resampled &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; y_train[np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;hstack((index_one,index_zero))]
X_resampled &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; X_train[np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;hstack((index_one,index_zero))]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã«ã¯ã“ã®&lt;code&gt;y_resampled&lt;/code&gt;ã¨&lt;code&gt;X_resampled&lt;/code&gt;ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚æ¬¡ã«ã€CNNã‚’æ§‹ç¯‰ã—ã¦ã„ãã¾ã™ã€‚&lt;code&gt;Keras&lt;/code&gt;ã§ã¯ã€&lt;code&gt;sequential model&lt;/code&gt;ã‚’æŒ‡å®šã—ã€&lt;code&gt;add&lt;/code&gt;ãƒ¡ã‚½ãƒƒãƒ‰ã§å±¤ã‚’è¿½åŠ ã—ã¦è¡Œãã“ã¨ã§ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;model &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; Sequential()
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(Conv2D(&lt;span style=&#34;color:#ae81ff&#34;&gt;32&lt;/span&gt;, (&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;), padding&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;same&amp;#39;&lt;/span&gt;,input_shape&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;X_train&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;shape[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;:]))
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(Activation(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;))
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(Conv2D(&lt;span style=&#34;color:#ae81ff&#34;&gt;32&lt;/span&gt;, (&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)))
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(Activation(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;))
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(MaxPooling2D(pool_size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)))
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(Dropout(&lt;span style=&#34;color:#ae81ff&#34;&gt;0.25&lt;/span&gt;))

model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(Conv2D(&lt;span style=&#34;color:#ae81ff&#34;&gt;64&lt;/span&gt;, (&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;), padding&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;same&amp;#39;&lt;/span&gt;))
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(Activation(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;))
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(Conv2D(&lt;span style=&#34;color:#ae81ff&#34;&gt;64&lt;/span&gt;, (&lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;)))
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(Activation(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;))
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(MaxPooling2D(pool_size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;)))
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(Dropout(&lt;span style=&#34;color:#ae81ff&#34;&gt;0.25&lt;/span&gt;))

model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(Flatten())
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(Dense(&lt;span style=&#34;color:#ae81ff&#34;&gt;512&lt;/span&gt;))
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(Activation(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;relu&amp;#39;&lt;/span&gt;))
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(Dropout(&lt;span style=&#34;color:#ae81ff&#34;&gt;0.5&lt;/span&gt;))
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(Dense(dense_size))
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add(Activation(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;softmax&amp;#39;&lt;/span&gt;))

model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;summary()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## Model: &amp;quot;sequential_1&amp;quot;
## _________________________________________________________________
## Layer (type)                 Output Shape              Param #   
## =================================================================
## conv2d_1 (Conv2D)            (None, 300, 300, 32)      896       
## _________________________________________________________________
## activation_1 (Activation)    (None, 300, 300, 32)      0         
## _________________________________________________________________
## conv2d_2 (Conv2D)            (None, 298, 298, 32)      9248      
## _________________________________________________________________
## activation_2 (Activation)    (None, 298, 298, 32)      0         
## _________________________________________________________________
## max_pooling2d_1 (MaxPooling2 (None, 149, 149, 32)      0         
## _________________________________________________________________
## dropout_1 (Dropout)          (None, 149, 149, 32)      0         
## _________________________________________________________________
## conv2d_3 (Conv2D)            (None, 149, 149, 64)      18496     
## _________________________________________________________________
## activation_3 (Activation)    (None, 149, 149, 64)      0         
## _________________________________________________________________
## conv2d_4 (Conv2D)            (None, 147, 147, 64)      36928     
## _________________________________________________________________
## activation_4 (Activation)    (None, 147, 147, 64)      0         
## _________________________________________________________________
## max_pooling2d_2 (MaxPooling2 (None, 73, 73, 64)        0         
## _________________________________________________________________
## dropout_2 (Dropout)          (None, 73, 73, 64)        0         
## _________________________________________________________________
## flatten_1 (Flatten)          (None, 341056)            0         
## _________________________________________________________________
## dense_1 (Dense)              (None, 512)               174621184 
## _________________________________________________________________
## activation_5 (Activation)    (None, 512)               0         
## _________________________________________________________________
## dropout_3 (Dropout)          (None, 512)               0         
## _________________________________________________________________
## dense_2 (Dense)              (None, 2)                 1026      
## _________________________________________________________________
## activation_6 (Activation)    (None, 2)                 0         
## =================================================================
## Total params: 174,687,778
## Trainable params: 174,687,778
## Non-trainable params: 0
## _________________________________________________________________
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ã§ã¯ã€å­¦ç¿’ãƒ‘ãƒ¼ãƒˆã«å…¥ã‚Šã¾ã™ã€‚ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã¯&lt;code&gt;Adadelta&lt;/code&gt;ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã‚ˆãã‚ã‹ã£ã¦ãªã„ã‚“ã§ã™ã‘ã©ã­ã€‚ã€‚ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;optimizers &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Adadelta&amp;#34;&lt;/span&gt;
results &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {}
epochs &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;50&lt;/span&gt;
model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;compile(loss&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;categorical_crossentropy&amp;#39;&lt;/span&gt;, optimizer&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;optimizers, metrics&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;accuracy&amp;#39;&lt;/span&gt;])
results &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fit(X_resampled, y_resampled, validation_split&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0.2&lt;/span&gt;, epochs&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;epochs)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ä¸å‡è¡¡ãƒ‡ãƒ¼ã‚¿èª¿æ•´ã®ãŸã‚ã®ã‚¢ãƒ³ãƒ€ãƒ¼ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°&#34;&gt;ä¸å‡è¡¡ãƒ‡ãƒ¼ã‚¿èª¿æ•´ã®ãŸã‚ã®ã‚¢ãƒ³ãƒ€ãƒ¼ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°&lt;/h3&gt;
&lt;p&gt;ã“ã“ã‹ã‚‰ã€Testãƒ‡ãƒ¼ã‚¿ã§2å€¤åˆ†é¡ã‚’è¡Œã†ã®ã§ã™ãŒã€å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¢ãƒ³ãƒ€ãƒ¼ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã—ã¦ã„ã‚‹ã®ã§ã€äºˆæ¸¬ç¢ºç‡ã‚’è¨ˆç®—ã™ã‚‹éš›ã«ã‚¢ãƒ³ãƒ€ãƒ¼ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã‚’è¡Œã£ãŸã‚µãƒ³ãƒ—ãƒ«é¸æŠãƒã‚¤ã‚¢ã‚¹ãŒç”Ÿã˜ã¦ã—ã¾ã„ã¾ã™ã€‚è«–æ–‡ã¯&lt;a href=&#34;https://www3.nd.edu/~dial/publications/dalpozzolo2015calibrating.pdf&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ã“ã¡ã‚‰&lt;/a&gt;ã€‚
ã‚ˆã£ã¦ã€è£œæ­£ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã™ãŒã“ã®éƒ¨åˆ†ã®å®šå¼åŒ–ã‚’ã“ã“ã§ã—ã¦ãŠããŸã„ã¨æ€ã„ã¾ã™ã€‚ç¾åœ¨è¡Œã£ã¦ã„ã‚‹2å€¤åˆ†é¡å•é¡Œã‚’èª¬æ˜åƒæ•°$X$ã‹ã‚‰2å€¤ã‚’å–ã‚‹ç›®çš„å¤‰æ•°$Y$ã‚’äºˆæ¸¬ã™ã‚‹å•é¡Œã¨è¡¨ç¾ã™ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ$(X,Y)$ã¯æ­£ä¾‹ãŒè² ä¾‹ã‚ˆã‚Šã‚‚ã‹ãªã‚Šå°‘ãªãã€è² ä¾‹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚ºã‚’æ­£ä¾‹ã«åˆã‚ã›ãŸãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’$(X_s,Y_s)$ã¨ã—ã¾ã™ã€‚ã“ã“ã§ã€$(X,Y)$ã®ã‚µãƒ³ãƒ—ãƒ«çµ„ãŒ$(X_s,Y_s)$ã«ã‚‚å«ã¾ã‚Œã‚‹å ´åˆã«1ã‚’å–ã‚Šã€å«ã¾ã‚Œãªã„å ´åˆã«0ã‚’ã¨ã‚‹ã‚«ãƒ†ã‚´ãƒªå¤‰æ•°$s$ã‚’å®šç¾©ã—ã¾ã™ã€‚
ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ$(X,Y)$ã‚’ç”¨ã„ã¦æ§‹ç¯‰ã—ãŸãƒ¢ãƒ‡ãƒ«ã«èª¬æ˜å¤‰æ•°$x$ã‚’ä¸ãˆãŸæ™‚ã€æ­£ä¾‹ã¨äºˆæ¸¬ã™ã‚‹æ¡ä»¶ä»˜ãç¢ºç‡ã¯$P(y=1|x)$ã§è¡¨ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ä¸€æ–¹ã€$(X_s,Y_s)$ã‚’ç”¨ã„ã¦æ§‹ç¯‰ã—ãŸãƒ¢ãƒ‡ãƒ«ã§æ­£ä¾‹ã‚’äºˆæ¸¬ã™ã‚‹æ¡ä»¶ä»˜ãç¢ºç‡ã¯ãƒ™ã‚¤ã‚ºã®å®šç†ã¨ã‚«ãƒ†ã‚´ãƒªå¤‰æ•°$s$ã‚’ç”¨ã„ã¦ã€&lt;/p&gt;
&lt;p&gt;$$
P(y=1|x,s=1) = \frac{P(s=1|y=1)P(y=1|x)}{P(s=1|y=1)P(y=1|x) + P(s=1|y=0)P(y=0|x)}
$$
ã¨æ›¸ã‘ã¾ã™ã€‚$(X_s,Y_s)$ã¯è² ä¾‹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚ºã‚’æ­£ä¾‹ã«åˆã‚ã›ã¦ã„ã‚‹ãŸã‚ã€$P(s=1,y=1)=1$ã§ã‚ã‚‹ã®ã§ä¸Šå¼ã¯&lt;/p&gt;
&lt;p&gt;$$
P(y=1|x,s=1) = \frac{P(y=1|x)}{P(y=1|x) + P(s=1|y=0)P(y=0|x)}
= \frac{P(y=1|x)}{P(y=1|x) + P(s=1|y=0)(1-P(y=1|x))}
$$
ã¨æ›¸ãæ›ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚$P(s=1|y=0)\neq0$ã§ã‚ã‚‹ã“ã¨ã¯$(X_s,Y_s)$ã®å®šç¾©ã‚ˆã‚Šè‡ªæ˜ã§ã™(0ã ã¨æ­£ä¾‹ã—ã‹ãªã„ä¸å‡è¡¡ãƒ‡ãƒ¼ã‚¿ã«ãªã‚‹)ã€‚ã‚ˆã£ã¦ã€$P(y=0,x)\neq0$ã§ã‚ã‚‹é™ã‚Šã€ã‚¢ãƒ³ãƒ€ãƒ¼ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã®ãƒ¢ãƒ‡ãƒ«ãŒæ­£ä¾‹ã¨ã¯ã˜ãå‡ºã™ç¢ºç‡ã¯å…ƒã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆãŒå‡ºã™ç¢ºç‡ã«å¯¾ã—ã¦æ­£ã®ãƒã‚¤ã‚¢ã‚¹ãŒã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚æ±‚ã‚ãŸã„ã®ã¯ãƒã‚¤ã‚¢ã‚¹ã®ãªã„$P(y=1|x)$ãªã®ã§$P=P(y=1|x),P_s=P(y|x,s=1),\beta=P(s=1,y=0)$ã¨ã™ã‚‹ã¨ã€&lt;/p&gt;
&lt;p&gt;$$
P = \frac{\beta P_s}{\beta P_s-P_s+1}
$$
ã¨ã‹ã‘ã€ã“ã®é–¢ä¿‚å¼ã‚’ç”¨ã„ã¦ãƒã‚¤ã‚¢ã‚¹ã‚’è£œæ­£ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ä»Šç¢ºèªã—ãŸã“ã¨ã‚’é–¢æ•°ã¨ã—ã¦å®šç¾©ã—ã¾ã—ã‚‡ã†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;calibration&lt;/span&gt;(y_proba, beta):
    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; y_proba &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; (y_proba &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; y_proba) &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; beta)

sampling_rate &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; sum(y_train[:,&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;]) &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; sum(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;y_train[:,&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;])
y_proba_calib &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; calibration(model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;predict(X_test), sampling_rate)
y_pred &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; np_utils&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;to_categorical(np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;argmax(y_proba_calib,axis&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;), dense_size)

&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; sklearn.metrics &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; confusion_matrix, ConfusionMatrixDisplay, accuracy_score
score &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; accuracy_score(y_test, y_pred)
&lt;span style=&#34;color:#66d9ef&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;Test accuracy:&amp;#39;&lt;/span&gt;, score)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## Test accuracy: 0.22033898305084745
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ã¾ã£ãŸãè‰¯ããªã„çµæœã§ã™ã€‚&lt;code&gt;ConfusionMatrix&lt;/code&gt;ã‚’å‡ºã—ã¦ã¿ãŸã¨ã“ã‚ã©ã†ã‚„ã‚‰ã†ã¾ãã„ã£ã¦ã„ãªã„ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;ConfusionMatrixDisplay(confusion_matrix(np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;argmax(y_test,axis&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;), np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;argmax(y_pred,axis&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)))&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;plot()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## &amp;lt;sklearn.metrics._plot.confusion_matrix.ConfusionMatrixDisplay object at 0x000000005474F108&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;show()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;../../post/post18/index_files/figure-html/unnamed-chunk-12-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;close()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸å‡è¡¡ãƒ‡ãƒ¼ã‚¿ã®ãƒã‚¤ã‚¢ã‚¹ä¿®æ­£ã¯ã—ãŸã‚“ã§ã™ãŒã€ãã‚Œã§ã‚‚ãªãŠè² å€¤ã‚’äºˆæ¸¬ã—ã‚„ã™ã„ãƒ¢ãƒ‡ãƒ«ã¨ãªã£ã¦ã„ã¾ã™ã€‚ã“ã‚Œã§ã¯ä½¿ãˆãªã„ã§ã™ã­ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-shapå€¤ã‚’ç”¨ã„ãŸçµæœè§£é‡ˆ&#34;&gt;3. Shapå€¤ã‚’ç”¨ã„ãŸçµæœè§£é‡ˆ&lt;/h2&gt;
&lt;p&gt;ä»Šå­¦ç¿’ã—ãŸãƒ¢ãƒ‡ãƒ«ã®&lt;code&gt;shap&lt;/code&gt;å€¤ã‚’è€ƒãˆã€çµæœã®è§£é‡ˆã‚’ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚&lt;code&gt;shap&lt;/code&gt;å€¤ã«ã¤ã„ã¦ã¯æ™‚é–“ãŒã‚ã‚Œã°ã€èª¬æ˜ã‚’è¿½è¨˜ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚ç°¡å˜ã«è¨€ãˆã°ã€CNNãŒç”»åƒã®ã©ã®éƒ¨åˆ†ã«ç‰¹å¾´ã‚’æ‰ãˆã€é¦¬ãŒä¸Šä½ã«å…¥ã‚‹ã‹ã‚’äºˆæƒ³ã—ãŸã‹ã‚’å¯è¦–åŒ–ã§æ‰ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®é¦¬ã®è§£æã‚’ã™ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;imshow(X_test[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;])
plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;show()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;../../post/post18/index_files/figure-html/unnamed-chunk-13-3.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;close()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; shap
background &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; X_train[np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;random&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;choice(X_train&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;shape[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;],&lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;,replace&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;False)]

e &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; shap&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;GradientExplainer(model,background)

shap_values &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; e&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;shap_values(X_test[[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]])
shap&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;image_plot(shap_values[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;],X_test[[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]])
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;../../post/post18/index_files/figure-html/unnamed-chunk-14-5.png&#34; width=&#34;576&#34; /&gt;&lt;/p&gt;
&lt;p&gt;éå¸¸ã«å¾®å¦™ã§ã™ãŒã€è¶³ã‚„è‡€éƒ¨ãªã©ã‚’è©•ä¾¡ã—ã¦ã„ã‚‹ã‚ˆã†ã«ã¿ãˆã¾ã™ã€‚ã§ã™ãŒã€èƒŒæ™¯ã«åå¿œã—ã¦ã„ã‚‹ã‚ˆã†ã«ã‚‚è¦‹ãˆã‚‹ã®ã§é¦¬ä½“ã®ã¿å–ã‚Šå‡ºã™ãƒˆãƒªãƒŸãƒ³ã‚°ã‚’ã‚„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã­ã€‚ã“ã‚Œã¯ç‰©ä½“æ¤œçŸ¥ã®ãƒ¢ãƒ‡ãƒ«ã‚’æ§‹ç¯‰ã™ã‚‹å¿…è¦ãŒã‚ã‚Šãã†ã§ã™ã€‚ã¾ãŸã€ä»Šåº¦ã®æ©Ÿä¼šã«è€ƒãˆã¾ã™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;4-æœ€å¾Œã«&#34;&gt;4. æœ€å¾Œã«&lt;/h2&gt;
&lt;p&gt;æ­£ç›´ã¾ã£ãŸãä¸Šæ‰‹ãã„ã£ã¦ã„ã¾ã›ã‚“ã€‚ã‚„ã¯ã‚Šé¦¬ä½“ã‹ã‚‰é †ä½äºˆæ¸¬ã‚’ã™ã‚‹ã®ã¯é›£ã—ã„ã®ã§ã—ã‚‡ã†ã‹ã€‚ã»ã‹ã®å¤‰æ•°ã¨æ›ã‘åˆã‚ã›ã‚‹ã¨çµæœãŒå¤‰ã‚ã£ãŸã‚Šã™ã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚ä»Šã®ã¾ã¾ã ã¨ã‚ˆã„ç‰¹å¾´é‡ã‚’æŠ½å‡ºã™ã‚‹ã“ã¨ãŒã§ãã¦ã„ãªã„ã‚ˆã†ã«æ€ã„ã¾ã™ã€‚
Youtubeã‹ã‚‰ãƒ‘ãƒ‰ãƒƒã‚¯å‹•ç”»ã‚’å–å¾—ã—ã¦ã€&lt;code&gt;Encoder-Decoder&lt;/code&gt;ãƒ¢ãƒ‡ãƒ«ã§è§£æã™ã‚‹ã¨ã“ã‚ã¾ã§ã‚„ã‚‰ãªã„ã¨ã†ã¾ãã„ã‹ãªã„ã‚“ã§ã™ã‹ã­ã€‚è‡ªåˆ†ã®å®ŸåŠ›ãŒååˆ†ä¸ŠãŒã‚Œã°æ˜¯éã‚„ã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™(ã„ã¤ã«ãªã‚‹ã“ã¨ã‚„ã‚‰)ã€‚ãã‚Œã¾ã§ã«ã¯ã€PCã®ã‚¹ãƒšãƒƒã‚¯ã‚’ä¸Šã’ãªã„ã¨ã„ã‘ã¾ã›ã‚“ã€‚å®šé¡çµ¦ä»˜é‡‘ã‚’ä½¿ã†ã‹ãªã€‚ã€‚ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>LightGBMã‚’ä½¿ç”¨ã—ã¦ç«¶é¦¬çµæœã‚’äºˆæƒ³ã—ã¦ã¿ã‚‹</title>
      <link>/post/post16/</link>
      <pubDate>Sat, 29 Feb 2020 00:00:00 +0000</pubDate>
      <guid>/post/post16/</guid>
      <description>&lt;p&gt;ãŠã¯ã“ã‚“ã°ã‚“ã«ã¡ã¯ã€‚ã‹ãªã‚Šä¹…ã—ã¶ã‚Šã§ã¯ã‚ã‚Šã¾ã™ãŒã€Pythonã®å‹‰å¼·ã‚’ã‹ã­ã¦ä»¥å‰yahoo.keibaã§åé›†ã—ãŸç«¶é¦¬ã®ãƒ¬ãƒ¼ã‚¹çµæœãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ã€ãƒ¬ãƒ¼ã‚¹çµæœã‚’äºˆæƒ³ã™ã‚‹ãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;1ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ&#34;&gt;1.ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ³ãƒãƒ¼ãƒˆ&lt;/h2&gt;
&lt;p&gt;ã¾ãšã€å‰å›&lt;code&gt;sqlite&lt;/code&gt;ã«ä¿å­˜ã—ãŸãƒ¬ãƒ¼ã‚¹çµæœãƒ‡ãƒ¼ã‚¿ã‚’&lt;code&gt;pandas&lt;/code&gt;ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã¸ä¿å­˜ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;conn &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; sqlite3&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;connect(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;C:\hogehoge\horse_data.db&amp;#39;&lt;/span&gt;)
sql &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;SELECT * FROM race_result&amp;#39;&lt;/span&gt;
df &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; pd&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;read_sql(con&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;conn,sql&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;sql)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ãƒ‡ãƒ¼ã‚¿ã®ä¸­èº«ã‚’ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚åˆ—ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚orderãŒç€é †ã¨ãªã£ã¦ã„ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;df&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;columns
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## Index([&#39;order&#39;, &#39;frame_number&#39;, &#39;horse_number&#39;, &#39;trainer&#39;, &#39;passing_rank&#39;,
##        &#39;last_3F&#39;, &#39;time&#39;, &#39;margin&#39;, &#39;horse_name&#39;, &#39;horse_age&#39;, &#39;horse_sex&#39;,
##        &#39;horse_weight&#39;, &#39;horse_weight_change&#39;, &#39;brinker&#39;, &#39;jockey&#39;,
##        &#39;jockey_weight&#39;, &#39;jockey_weight_change&#39;, &#39;odds&#39;, &#39;popularity&#39;,
##        &#39;race_date&#39;, &#39;race_course&#39;, &#39;race_name&#39;, &#39;race_distance&#39;, &#39;type&#39;,
##        &#39;race_turn&#39;, &#39;race_condition&#39;, &#39;race_weather&#39;, &#39;colour&#39;, &#39;owner&#39;,
##        &#39;farm&#39;, &#39;locality&#39;, &#39;horse_birthday&#39;, &#39;father&#39;, &#39;mother&#39;, &#39;prize&#39;,
##        &#39;http&#39;],
##       dtype=&#39;object&#39;)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;orderã®ä¸­èº«ã‚’ç¢ºèªã—ã¦ã¿ã‚‹ã¨ã€æ‹¬å¼§ï¼ˆï¼‰ãŒã¤ã„ã¦ã„ã‚‹ç‰©ãŒå¤šãã€ã¾ãŸå–æ¶ˆã‚„ä¸­æ­¢ã€å¤±æ ¼ãªã©ãŒå­˜åœ¨ã™ã‚‹ãŸã‚ã€æ–‡å­—å‹ã«èªè­˜ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ã¡ãªã¿ã«æ‹¬å¼§ï¼ˆï¼‰å†…ã®é †ä½ã¯å…¥ç·šé †ä½ã¨ã„ã†ã‚„ã¤ã§ã€ä»–é¦¬ã®èµ°è¡Œã‚’å¦¨å®³ã—ãŸã‚Šã—ã¦é †ä½ãŒé™ç€ã•ã›ã‚‰ã‚ŒãŸã“ã¨ã‚’æ„å‘³ã—ã¾ã™ï¼ˆhttp://www.jra.go.jp/judge/ï¼‰ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;df&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;loc[:,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;order&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;unique()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## array([&#39;1&#39;, &#39;7&#39;, &#39;2&#39;, &#39;8&#39;, &#39;5&#39;, &#39;15&#39;, &#39;6&#39;, &#39;12&#39;, &#39;11&#39;, &#39;14&#39;, &#39;3&#39;, &#39;13&#39;,
##        &#39;4&#39;, &#39;16&#39;, &#39;9&#39;, &#39;10&#39;, &#39;å–æ¶ˆ&#39;, &#39;ä¸­æ­¢&#39;, &#39;é™¤å¤–&#39;, &#39;17&#39;, &#39;18&#39;, &#39;4(3)&#39;, &#39;2(1)&#39;,
##        &#39;3(2)&#39;, &#39;6(4)&#39;, &#39;å¤±æ ¼&#39;, &#39;9(8)&#39;, &#39;16(6)&#39;, &#39;12(12)&#39;, &#39;13(9)&#39;, &#39;6(3)&#39;,
##        &#39;10(7)&#39;, &#39;6(5)&#39;, &#39;9(3)&#39;, &#39;11(8)&#39;, &#39;13(2)&#39;, &#39;12(9)&#39;, &#39;14(7)&#39;,
##        &#39;10(1)&#39;, &#39;16(8)&#39;, &#39;14(6)&#39;, &#39;10(3)&#39;, &#39;12(1)&#39;, &#39;13(6)&#39;, &#39;7(1)&#39;,
##        &#39;12(6)&#39;, &#39;6(2)&#39;, &#39;11(2)&#39;, &#39;15(6)&#39;, &#39;13(10)&#39;, &#39;14(4)&#39;, &#39;7(5)&#39;,
##        &#39;17(4)&#39;, &#39;9(7)&#39;, &#39;16(14)&#39;, &#39;12(11)&#39;, &#39;14(2)&#39;, &#39;8(2)&#39;, &#39;9(5)&#39;,
##        &#39;11(5)&#39;, &#39;12(7)&#39;, &#39;11(1)&#39;, &#39;12(8)&#39;, &#39;7(4)&#39;, &#39;5(4)&#39;, &#39;13(12)&#39;,
##        &#39;14(3)&#39;, &#39;10(2)&#39;, &#39;11(10)&#39;, &#39;18(3)&#39;, &#39;10(4)&#39;, &#39;15(8)&#39;, &#39;8(3)&#39;,
##        &#39;5(1)&#39;, &#39;10(5)&#39;, &#39;7(3)&#39;, &#39;5(2)&#39;, &#39;9(1)&#39;, &#39;13(3)&#39;, &#39;16(11)&#39;,
##        &#39;11(3)&#39;, &#39;18(15)&#39;, &#39;11(6)&#39;, &#39;10(6)&#39;, &#39;14(12)&#39;, &#39;12(5)&#39;, &#39;15(14)&#39;,
##        &#39;17(8)&#39;, &#39;18(6)&#39;, &#39;4(2)&#39;, &#39;18(10)&#39;, &#39;16(7)&#39;, &#39;13(1)&#39;, &#39;16(10)&#39;,
##        &#39;15(7)&#39;, &#39;9(4)&#39;, &#39;15(5)&#39;, &#39;12(3)&#39;, &#39;8(7)&#39;, &#39;15(2)&#39;, &#39;12(10)&#39;,
##        &#39;14(9)&#39;, &#39;3(1)&#39;, &#39;6(1)&#39;, &#39;14(5)&#39;, &#39;15(4)&#39;, &#39;11(4)&#39;, &#39;12(4)&#39;,
##        &#39;16(4)&#39;, &#39;9(2)&#39;, &#39;13(5)&#39;, &#39;12(2)&#39;, &#39;15(1)&#39;, &#39;4(1)&#39;, &#39;14(13)&#39;,
##        &#39;14(1)&#39;, &#39;13(7)&#39;, &#39;5(3)&#39;, &#39;8(6)&#39;, &#39;15(13)&#39;, &#39;7(2)&#39;, &#39;15(11)&#39;,
##        &#39;10(9)&#39;, &#39;11(9)&#39;, &#39;8(4)&#39;, &#39;15(3)&#39;, &#39;13(4)&#39;, &#39;16(12)&#39;, &#39;16(5)&#39;,
##        &#39;18(11)&#39;, &#39;10(8)&#39;, &#39;18(8)&#39;, &#39;14(8)&#39;, &#39;16(9)&#39;, &#39;8(5)&#39;, &#39;8(1)&#39;,
##        &#39;14(11)&#39;, &#39;9(6)&#39;, &#39;16(13)&#39;, &#39;16(15)&#39;, &#39;11(11)&#39;, &#39;15(10)&#39;, &#39;7(6)&#39;],
##       dtype=object)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ã¾ãšã“ã“ã‚’ä¿®æ­£ã—ã¾ã—ã‚‡ã†ã€‚æ‹¬å¼§ã‚’é™¤å»ã—ã¦intå‹ã«å‹å¤‰æ›´ã—ã€å…¥ç·šé †ä½ã¯æ–°ãŸãªåˆ—&lt;code&gt;arriving order&lt;/code&gt;ã¨ã—ã¦è¿½åŠ ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;arriving order&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[df&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;order&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;str&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;contains(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\d*\(\d*\)&amp;#39;&lt;/span&gt;,regex&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;True)][&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;order&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;replace(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\d+\(&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;,regex&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;True)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;replace(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\)&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;,regex&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;True)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;astype(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;float64&amp;#39;&lt;/span&gt;)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;arriving order&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;unique()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## array([nan,  3.,  1.,  2.,  4.,  8.,  6., 12.,  9.,  7.,  5., 10., 14.,
##        11., 15., 13.])
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;order&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;order&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;replace(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\(\d+\)&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;,regex&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;True)
df &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#66d9ef&#34;&gt;lambda&lt;/span&gt; df: &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt;df&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;order&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;str&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;contains(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;(å–æ¶ˆ|ä¸­æ­¢|é™¤å¤–|å¤±æ ¼)&amp;#39;&lt;/span&gt;,regex&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;True)]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## C:\Users\aashi\ANACON~1\lib\site-packages\pandas\core\strings.py:1954: UserWarning: This pattern has match groups. To actually get the groups, use str.extract.
##   return func(self, *args, **kwargs)
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;order&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;order&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;astype(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;float64&amp;#39;&lt;/span&gt;)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;order&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;unique()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## array([ 1.,  7.,  2.,  8.,  5., 15.,  6., 12., 11., 14.,  3., 13.,  4.,
##        16.,  9., 10., 17., 18.])
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ãã‚Œã„ãª&lt;code&gt;float&lt;/code&gt;å‹ã«å‡¦ç†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ã§ã¯ã€æ¬¡ã«ãƒ©ã‚¹ãƒˆ3Fã®ã‚¿ã‚¤ãƒ ã®å‰å‡¦ç†ã«ç§»ã‚Šã¾ã™ã€‚å‰èµ°ã®ãƒ©ã‚¹ãƒˆ3Fã®ã‚¿ã‚¤ãƒ ã‚’äºˆæ¸¬ã«ä½¿ç”¨ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; numpy &lt;span style=&#34;color:#f92672&#34;&gt;as&lt;/span&gt; np
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;last_3F&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;last_3F&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;replace(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;character(0)&amp;#39;&lt;/span&gt;,np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;nan,regex&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;False)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;astype(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;float64&amp;#39;&lt;/span&gt;)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;last_3F&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;groupby(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;horse_name&amp;#39;&lt;/span&gt;)[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;last_3F&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;shift(&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‰èµ°ã®ãƒ¬ãƒ¼ã‚¹ã¨é †ä½ã€è¿½åŠ é †ä½ã‚‚ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã¸å«ã‚ã¾ã—ã‚‡ã†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;prerace&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;groupby(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;horse_name&amp;#39;&lt;/span&gt;)[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;race_name&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;shift(&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;preorder&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;groupby(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;horse_name&amp;#39;&lt;/span&gt;)[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;order&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;shift(&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;prepassing&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;groupby(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;horse_name&amp;#39;&lt;/span&gt;)[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;passing_rank&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;shift(&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‡ºèµ°æ™‚ç‚¹ã§ç²å¾—ã—ã¦ã„ã‚‹ç´¯ç©è³é‡‘é¡ã‚‚è¿½åŠ ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;preprize&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;groupby(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;horse_name&amp;#39;&lt;/span&gt;)[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;prize&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;shift(&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;preprize&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;preprize&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fillna(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;margin&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;groupby(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;horse_name&amp;#39;&lt;/span&gt;)[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;margin&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;shift(&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ãã®ä»–ã€æ¬ æå€¤ã‚„ãƒ‡ãƒ¼ã‚¿å‹ã®ä¿®æ­£ã€ã‚«ãƒ†ã‚´ãƒªãƒ‡ãƒ¼ã‚¿ã®ãƒ©ãƒ™ãƒ«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã§ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;horse_weight&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;horse_weight&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;astype(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;float64&amp;#39;&lt;/span&gt;)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;margin&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;margin&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;replace(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;character(0)&amp;#39;&lt;/span&gt;,np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;nan,regex&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;False)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;horse_age&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;horse_age&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;astype(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;float64&amp;#39;&lt;/span&gt;)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;horse_weight_change&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;horse_weight_change&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;astype(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;float64&amp;#39;&lt;/span&gt;)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;jockey_weight&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;jockey_weight&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;astype(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;float64&amp;#39;&lt;/span&gt;)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;race_distance&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;race_distance&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;replace(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;m&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;,regex&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;True)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;astype(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;float64&amp;#39;&lt;/span&gt;)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;race_turn&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;race_turn&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;replace(&lt;span style=&#34;color:#e6db74&#34;&gt;r&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;character(0)&amp;#39;&lt;/span&gt;,np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;nan,regex&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;False)
df&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;loc[df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;order&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;order&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;

df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;race_turn&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;race_turn&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fillna(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;missing&amp;#39;&lt;/span&gt;)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;colour&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;colour&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fillna(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;missing&amp;#39;&lt;/span&gt;)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;prepassing&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;prepassing&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fillna(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;missing&amp;#39;&lt;/span&gt;)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;prerace&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;prerace&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fillna(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;missing&amp;#39;&lt;/span&gt;)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;father&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;father&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fillna(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;missing&amp;#39;&lt;/span&gt;)
df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;mother&amp;#39;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;mother&amp;#39;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fillna(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;missing&amp;#39;&lt;/span&gt;)

&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; sklearn &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; preprocessing
cat_list &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;trainer&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;horse_name&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;horse_sex&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;brinker&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;jockey&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;race_course&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;race_name&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;type&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;race_turn&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;race_condition&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;race_weather&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;colour&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;father&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;mother&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;prerace&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;prepassing&amp;#39;&lt;/span&gt;]
&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; column &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; cat_list:
    target_column &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[column]
    le &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; preprocessing&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;LabelEncoder()
    le&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;fit(target_column)
    label_encoded_column &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; le&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;transform(target_column)
    df[column] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; pd&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Series(label_encoded_column)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;astype(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;category&amp;#39;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## LabelEncoder()
## LabelEncoder()
## LabelEncoder()
## LabelEncoder()
## LabelEncoder()
## LabelEncoder()
## LabelEncoder()
## LabelEncoder()
## LabelEncoder()
## LabelEncoder()
## LabelEncoder()
## LabelEncoder()
## LabelEncoder()
## LabelEncoder()
## LabelEncoder()
## LabelEncoder()
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; pandas_profiling &lt;span style=&#34;color:#f92672&#34;&gt;as&lt;/span&gt; pdq
profile &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; pdq&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;ProfileReport(df)
profile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;2-äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«ã®ä½œæˆ&#34;&gt;2. äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«ã®ä½œæˆ&lt;/h2&gt;
&lt;p&gt;ã§ã¯&lt;code&gt;LightGBM&lt;/code&gt;ã§äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«ã‚’ä½œã£ã¦ã¿ã¾ã™ã€‚&lt;code&gt;optuna&lt;/code&gt;ã®&lt;code&gt;LightGBM&lt;/code&gt;ã‚’ä½¿ç”¨ã—ã¦ã€ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’è¡Œã„ã€å­¦ç¿’ã—ãŸãƒ¢ãƒ‡ãƒ«ã‚’ç”¨ã„ã¦è¨ˆç®—ã—ãŸãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®äºˆæ¸¬å€¤ã¨å®Ÿç¸¾å€¤ã®&lt;code&gt;confusion matrix&lt;/code&gt;ãªã‚‰ã³ã«æ­£è§£ç‡ã‚’ç®—å‡ºã—ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; optuna.integration.lightgbm &lt;span style=&#34;color:#f92672&#34;&gt;as&lt;/span&gt; lgb
&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; sklearn.model_selection &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; train_test_split

y &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;order&amp;#39;&lt;/span&gt;]
x &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; df&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;drop([&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;order&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;passing_rank&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;time&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;odds&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;popularity&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;owner&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;farm&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;locality&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;horse_birthday&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;http&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;prize&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;race_date&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;margin&amp;#39;&lt;/span&gt;],axis&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;)

X_train, X_test, y_train, y_test &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; train_test_split(x, y)
X_train, x_val, y_train, y_val &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; train_test_split(X_train, y_train)

lgb_train &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; lgb&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Dataset(X_train, y_train)
lgb_eval &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; lgb&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Dataset(x_val, y_val)
lgb_test &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; lgb&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;Dataset(X_test, y_test, reference&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;lgb_train)

lgbm_params &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; {
        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;objective&amp;#39;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;binary&amp;#39;&lt;/span&gt;,
        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;boost_from_average&amp;#39;&lt;/span&gt;: False
    }

model &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; lgb&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;train(lgbm_params, lgb_train, categorical_feature &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; cat_list, valid_sets &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; lgb_eval,  num_boost_round&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;, early_stopping_rounds&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;, verbose_eval&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;False)

&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;calibration&lt;/span&gt;(y_proba, beta):
    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; y_proba &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; (y_proba &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; (&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; y_proba) &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; beta)

sampling_rate &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; y_train&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;sum() &lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt; len(y_train)
y_proba &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;predict(X_test, num_iteration&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;best_iteration)
y_proba_calib &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; calibration(y_proba, sampling_rate)

y_pred &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; np&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;vectorize(&lt;span style=&#34;color:#66d9ef&#34;&gt;lambda&lt;/span&gt; x: &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; x &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.49&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;)(y_proba_calib)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯è¦–åŒ–ãƒ‘ãƒ¼ãƒˆã§ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; sklearn.metrics &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; confusion_matrix, ConfusionMatrixDisplay, accuracy_score, precision_score, recall_score, f1_score
&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; matplotlib.pyplot &lt;span style=&#34;color:#f92672&#34;&gt;as&lt;/span&gt; plt

&lt;span style=&#34;color:#75715e&#34;&gt;# Confusion Matrixã‚’ç”Ÿæˆ&lt;/span&gt;
ConfusionMatrixDisplay(confusion_matrix(y_test, y_pred))&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;plot()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## &amp;lt;sklearn.metrics._plot.confusion_matrix.ConfusionMatrixDisplay object at 0x00000000C3E2F7C8&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;show()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;../../post/post16/index_files/figure-html/unnamed-chunk-16-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;plt&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;close()

accuracy_score(y_test, y_pred)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## 0.9299209299125913
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;precision_score(y_test, y_pred)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## 0.9401709401709402
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;accuracy_score&lt;/code&gt;ï¼ˆäºˆæ¸¬ç²¾åº¦ï¼‰ãŒ90%ã‚’è¶…ãˆã€&lt;code&gt;precision_Score&lt;/code&gt;ï¼ˆé©åˆç‡ã€é™½=1ç€ã¨äºˆæƒ³ã—ãŸãƒ‡ãƒ¼ã‚¿ã®æ­£è§£ç‡ï¼‰ã‚‚ã„ã„æ„Ÿã˜ã§ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;recall_score(y_test, y_pred)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## 0.009727052997700878
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;f1_score(y_test, y_pred)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## 0.019254893952212852
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸€æ–¹ã€&lt;code&gt;recall_score&lt;/code&gt;(å†ç¾æ€§ã€é™½=1ç€ã®ã‚µãƒ³ãƒ—ãƒ«ã®ã†ã¡å®Ÿéš›ã«æ­£è§£ã—ãŸå‰²åˆ)ãŒä½ãå½é™°æ€§ãŒé«˜ã„ã“ã¨ãŒç¢ºèªã§ãã¾ã™ã€‚ãã®çµæœã€&lt;code&gt;F1&lt;/code&gt;å€¤ã‚‚ä½ããªã£ã¦ã„ã¾ã™ã­ã€‚ç«¶é¦¬äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«ã®å ´åˆã€å½é™°æ€§ãŒé«˜ã„ã“ã¨ã¯å½é™½æ€§ãŒé«˜ã„ã“ã¨ã‚ˆã‚Šã¯ã¾ã—ãªã®ã§ã™ãŒã€å›åç‡ã‚’ä¸Šã’ã‚‹ãŸã‚ã«ã¯å½é™°æ€§ã‚’ä¸‹ã’ã‚‹ã“ã¨ã‚’é ‘å¼µã‚‰ãªã‘ã‚Œã°ã„ã‘ã¾ã›ã‚“ã€‚ã“ã‚Œã¯ä»Šå¾Œã®èª²é¡Œã§ã™ã­ã€‚æ¬¡ç¯€ã§ã¯&lt;code&gt;shapley&lt;/code&gt;å€¤ã‚’ä½¿ã£ã¦è¦å› åˆ†è§£ã‚’ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-shapã§ã®çµæœè§£é‡ˆ&#34;&gt;3. shapã§ã®çµæœè§£é‡ˆ&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; shap

shap&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;initjs()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## &amp;lt;IPython.core.display.HTML object&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;explainer &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; shap&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;TreeExplainer(model)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## Setting feature_perturbation = &amp;quot;tree_path_dependent&amp;quot; because no background data was given.
&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;shap_values &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; explainer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;shap_values(X_test)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;## LightGBM binary classifier with TreeExplainer shap values output has changed to a list of ndarray
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ã¾ãšã€å„ç‰¹å¾´é‡ã®é‡è¦åº¦ã‚’è¦‹ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚&lt;code&gt;summary_plot&lt;/code&gt;ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;shap&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;summary_plot(shap_values, X_test)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;../../post/post16/index_files/figure-html/unnamed-chunk-19-3.png&#34; width=&#34;768&#34; /&gt;&lt;/p&gt;
&lt;p&gt;æ¨ªè»¸ã¯å„ç‰¹å¾´é‡ã®å¹³å‡çš„ãªé‡è¦åº¦ã‚’è¡¨ã—ã¦ã„ã¾ã™(shapå€¤ã®çµ¶å¯¾å€¤)ã€‚preprize(å‰èµ°ã¾ã§ã®è³é‡‘ç²å¾—é‡‘é¡)ã‚„horse_ageã€preorder(å‰èµ°ã®ç€é †)ãªã©ãŒäºˆæ¸¬ã«é‡è¦ã§ã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ç‰¹ã«preprizeã®é‡è¦åº¦ã¯1ç€ã®äºˆæ¸¬ã€1ç€ä»¥å¤–ã®äºˆæ¸¬ã©ã¡ã‚‰ã«å¯¾ã—ã¦ã‚‚å¤§ãã„ã§ã™ã€‚horse_ageã‚‚åŒæ§˜ã§ã™ã€‚ãŸã ã€ã“ã‚Œã§ã¯é‡è¦ã¨ã„ã†ã ã‘ã§å®šæ€§çš„ãªè©•ä¾¡ã¯ã§ãã¾ã›ã‚“ã€‚ä¾‹ãˆã°ã€preprizeãŒå¤§ãã„â†’1ä½ã«ãªã‚‹ç¢ºç‡ãŒä¸Šæ˜‡ã¨ã„ã£ãŸé–¢ä¿‚ãŒç¢ºèªã§ãã‚Œã°ã€ãã‚Œã¯é‡è¦ãªæƒ…å ±ã«ãªã‚Šå¾—ã¾ã™ã€‚æ¬¡ã«ãã‚Œã‚’ç¢ºèªã—ã¾ã™ã€‚&lt;code&gt;summary_plot&lt;/code&gt;ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;shap&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;summary_plot(shap_values[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;], X_test)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;../../post/post16/index_files/figure-html/unnamed-chunk-20-5.png&#34; width=&#34;768&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›³ã‚‚å„ç‰¹å¾´é‡ã®é‡è¦åº¦ã‚’è¡¨ã—ã¦ã„ã¾ã™(ä»Šå›ã¯çµ¶å¯¾å€¤ã§ã¯ã‚ã‚Šã¾ã›ã‚“)ã€‚ä»Šå›ã¯ãã‚Œãã‚Œã®ç‰¹å¾´é‡ã®é‡è¦åº¦ãŒãƒã‚¤ã‚ªãƒªãƒ³ãƒ—ãƒ­ãƒƒãƒˆã«ã‚ˆã£ã¦è¡¨ã•ã‚Œã¦ãŠã‚Šã€ã‹ã¤ç‰¹å¾´é‡ã®å€¤ã®å¤§ãã•ã§è‰²åˆ†ã‘ãŒã•ã‚Œã¦ã„ã¾ã™ã€‚ä¾‹ãˆã°ã€preprizeã ã¨æ¨ªè»¸ãŒ0ä»¥ä¸Šã®éƒ¨åˆ†ã§ã®ã¿èµ¤è‰²ã®åˆ†å¸ƒãŒç™ºç”Ÿã—ã¦ãŠã‚Šã€ã“ã“ã‹ã‚‰preprizeã®ç‰¹å¾´é‡ãŒå¤§ãã„ã€ã¤ã¾ã‚Šå‰èµ°ã¾ã§ã®ç²å¾—è³é‡‘é¡ãŒå¤šã„ã¨å¹³å‡çš„ã«1ç€ã®ç¢ºç‡ãŒä¸ŠãŒã‚‹ã¨ã„ã†å½“ãŸã‚Šå‰ã®è§£é‡ˆã‚’ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ä»–ã«ã‚‚ã€horse_age,preorder,last_3Fã¯ç‰¹å¾´é‡ãŒå°ã•ããªã‚‹ã»ã©1ç€ã«ãªã‚‹ç¢ºç‡ãŒã‚ãŒã‚‹ã“ã¨ã‚‚èª­ã¿å–ã‚Œã¾ã™ã€‚horse_weight, jokey_weightã¯å¤§ãããªã‚‹ã»ã©1ç€ã«ãªã‚‹ç¢ºç‡ãŒä¸ŠãŒã‚‹ã‚ˆã†ã§ã™ã€‚ä¸€æ–¹ã€ãã®ä»–ã¯ç‰¹ã«å®šæ€§çš„ãªé–¢ä¿‚ã‚’èª­ã¿å–ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚&lt;/p&gt;
&lt;p&gt;æ¬¡ã«ã€ç‰¹å¾´é‡ã¨ç¢ºç‡ã®é–¢ä¿‚ã‚’ã‚ˆã‚Šè©³ã—ãç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚å…ˆã»ã©ã€preprizeã¯ç‰¹å¾´é‡ãŒå¤§ãããªã‚‹ã»ã©1ç€ã«ãªã‚‹ç¢ºç‡ãŒä¸Šæ˜‡ã™ã‚‹ã¨ã„ã†ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚ãŸã ã€ãã®ç¢ºç‡ã®ä¸Šæ˜‡ã¯1æ¬¡é–¢æ•°çš„ã«å¢—åŠ ã™ã‚‹ã®ã‹ã€æŒ‡æ•°çš„ã«å¢—å¤§ã™ã‚‹ã®ã‹ã€ãã‚Œã¨ã‚‚$\log x$ã®ã‚ˆã†ã«é€“æ¸›ã—ã¦ã„ãã®ã‹ã€ã‚ã‹ã‚Šã¾ã›ã‚“ã€‚&lt;code&gt;dependence_plot&lt;/code&gt;ã‚’ä½¿ç”¨ã—ã¦ãã‚Œã‚’ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;shap&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;dependence_plot(ind&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;preprize&amp;#34;&lt;/span&gt;, shap_values&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;shap_values[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;], features&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;X_test)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;../../post/post16/index_files/figure-html/unnamed-chunk-21-7.png&#34; width=&#34;720&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›³ã¯å­¦ç¿’ã—ãŸ&lt;code&gt;LightGBM&lt;/code&gt;ã‚’preprizeã®é–¢æ•°ã¨ã—ã¦è¦‹ãŸã¨ãã®æ¦‚å½¢ã‚’plotã—ãŸã‚‚ã®ã§ã™ã€‚å…ˆã«ç¢ºèªã—ãŸã¨ãŠã‚Šã€ã‚„ã¯ã‚Šç‰¹å¾´é‡ãŒå¤§ãããªã‚‹ã«ã¤ã‚Œã€1ç€ã«ãªã‚‹ç¢ºç‡ãŒä¸Šæ˜‡ã—ã¦ã„ãã¾ã™ã€‚ãŸã ã€ãã®ä¸Šæ˜‡ã¯å¾ã€…ã«é€“æ¸›ã—ã¦ã„ãã€2000ä¸‡å††ã‚’è¶…ãˆã‚‹ã¨ã“ã‚ã§ã»ã¼é ­æ‰“ã¡ã¨ãªã‚Šã¾ã™ã€‚ã¾ãŸã€ä¸Šå›³ã§ã¯horse_ageã§ã®è‰²åˆ†ã‘ã‚’è¡Œã£ã¦ãŠã‚Šã€preprizeã¨ã®é–¢ä¿‚æ€§ã‚‚ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ã‚„ã¯ã‚Šã€ç›´æ„Ÿã¨åŒã˜ãã€preprizeãŒé«˜ã„é¦¬ã®ä¸­ã§ã‚‚horse_ageãŒè‹¥ã„é¦¬ã®1ç€ç¢ºç‡ãŒé«˜ããªã‚‹ã“ã¨ãŒè¦‹ã¦å–ã‚Œã¾ã™ã€‚&lt;/p&gt;
&lt;p&gt;preorderã®&lt;code&gt;dependence_plot&lt;/code&gt;ã‚‚ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;shap&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;dependence_plot(ind&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;preorder&amp;#34;&lt;/span&gt;, shap_values&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;shap_values[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;], features&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;X_test)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;../../post/post16/index_files/figure-html/unnamed-chunk-22-9.png&#34; width=&#34;720&#34; /&gt;&lt;/p&gt;
&lt;p&gt;ã‚„ã¯ã‚Šã€å‰èµ°ã®ç€é †ãŒä¸Šä½ã«ãªã‚‹ã»ã©1ç€ç¢ºç‡ãŒé«˜ã¾ã‚‹ã“ã¨ãŒã“ã“ã‹ã‚‰ã‚‚åˆ†ã‹ã‚Šã¾ã™ã€‚ã¾ãŸã€ãã®ç¢ºç‡ã¯6ç€ä»¥ä¸Šã¨ãã‚Œä»¥å¤–ã§æ°´æº–æ„ŸãŒå¤‰ã‚ã‚‹ã“ã¨ã‚‚åˆ†ã‹ã‚Šã¾ã™ã€‚last_3Fã®ã‚¿ã‚¤ãƒ ã¨ã®é–¢ä¿‚æ€§ã‚‚ç¢ºèªã—ã¦ã„ã¾ã™ãŒã€ã“ã¡ã‚‰ã¯ã‚ã¾ã‚Šé–¢é€£æ€§ã¯ãªã•ãã†ã§ã™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;4-æœ€å¾Œã«&#34;&gt;4. æœ€å¾Œã«&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;LightGBM&lt;/code&gt;ã‚’ä½¿ç”¨ã—ã€ç«¶é¦¬ã®äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã—ã¦ã¿ã¾ã—ãŸã€‚ã•ã™ãŒ&lt;code&gt;LightGBM&lt;/code&gt;ã¨ã„ã£ãŸæ„Ÿã˜ã§ã€äºˆæ¸¬ç²¾åº¦ã¯é«˜ã‹ã£ãŸã§ã™ã€‚ã¾ãŸã€&lt;code&gt;shap&lt;/code&gt;å€¤ã‚’ä½¿ç”¨ã—ãŸé‡è¦ç‰¹å¾´é‡ã®æ¤œå‡ºã‚‚ä¸Šæ‰‹ãã„ãã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã£ã¦ã€&lt;code&gt;LightGBM&lt;/code&gt;ã®æ°—æŒã¡ã‚’ç†è§£ã—ã€ã‚ˆã‚Šè‰¯ã„ç‰¹å¾´é‡ã®ç™ºè¦‹ã‚’é€²ã‚ã¦ã„ãã“ã¨ã§ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã®ç²¾åº¦ã‚’é«˜ã‚ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
